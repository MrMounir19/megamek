


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > BotConfigDialog</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">megamek.client.ui.swing</a>
</div>

<h1>Coverage Summary for Class: BotConfigDialog (megamek.client.ui.swing)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">BotConfigDialog</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/25)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/393)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * MegaMek - Copyright (C) 2000-2011 Ben Mazur (bmazur@sev.org)
&nbsp; *
&nbsp; *  This program is free software; you can redistribute it and/or modify it
&nbsp; *  under the terms of the GNU General Public License as published by the Free
&nbsp; *  Software Foundation; either version 2 of the License, or (at your option)
&nbsp; *  any later version.
&nbsp; *
&nbsp; *  This program is distributed in the hope that it will be useful, but
&nbsp; *  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
&nbsp; *  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
&nbsp; *  for more details.
&nbsp; */
&nbsp;package megamek.client.ui.swing;
&nbsp;
&nbsp;import java.awt.*;
&nbsp;import java.awt.event.ActionEvent;
&nbsp;import java.awt.event.ActionListener;
&nbsp;import java.awt.event.KeyEvent;
&nbsp;import java.awt.event.KeyListener;
&nbsp;import java.io.File;
&nbsp;import java.net.MalformedURLException;
&nbsp;import java.net.URL;
&nbsp;import java.util.Collection;
&nbsp;import java.util.HashSet;
&nbsp;import java.util.Hashtable;
&nbsp;import java.util.Set;
&nbsp;import java.util.Vector;
&nbsp;
&nbsp;import javax.swing.*;
&nbsp;import javax.swing.border.LineBorder;
&nbsp;import javax.swing.border.TitledBorder;
&nbsp;
&nbsp;import megamek.MegaMek;
&nbsp;import megamek.client.bot.BotClient;
&nbsp;import megamek.client.bot.TestBot;
&nbsp;import megamek.client.bot.princess.BehaviorSettings;
&nbsp;import megamek.client.bot.princess.BehaviorSettingsFactory;
&nbsp;import megamek.client.bot.princess.CardinalEdge;
&nbsp;import megamek.client.bot.princess.Princess;
&nbsp;import megamek.client.bot.princess.PrincessException;
&nbsp;import megamek.client.ui.Messages;
&nbsp;import megamek.common.IPlayer;
&nbsp;import megamek.common.logging.LogLevel;
&nbsp;
&nbsp;/**
&nbsp; * BotConfigDialog is a dialog box that configures bot properties
&nbsp; */
&nbsp;public class BotConfigDialog extends JDialog implements ActionListener, KeyListener {
&nbsp;
&nbsp;    private static final String PRINCESS_PANEL = &quot;princess_config&quot;;
&nbsp;    private static final String TESTBOT_PANEL = &quot;testbot_config&quot;;
<b class="nc">&nbsp;    private static final String UNIT_TARGET = Messages.getString(&quot;BotConfigDialog.targetUnit&quot;);</b>
<b class="nc">&nbsp;    private static final String BUILDING_TARGET = Messages.getString(&quot;BotConfigDialog.targetBuilding&quot;);</b>
&nbsp;    private static final long serialVersionUID = -544663266637225925L;
&nbsp;
&nbsp;    private JRadioButton testBotRadiobutton;
&nbsp;    private JRadioButton princessRadiobutton;
<b class="nc">&nbsp;    private ButtonGroup selectBotGroup = new ButtonGroup();</b>
&nbsp;    private JList&lt;String&gt; playersToReplace;
&nbsp;
<b class="nc">&nbsp;    private BehaviorSettingsFactory behaviorSettingsFactory = BehaviorSettingsFactory.getInstance();</b>
&nbsp;    protected BehaviorSettings princessBehavior;
&nbsp;
&nbsp;    // Items for princess config here
&nbsp;    protected JComboBox&lt;String&gt; verbosityCombo;
&nbsp;    private JTextField targetId;
&nbsp;    private JComboBox&lt;String&gt; targetTypeCombo;
&nbsp;    private JButton addTargetButton;
&nbsp;    private JButton removeTargetButton;
&nbsp;    private JButton princessHelpButton;
&nbsp;    private JList&lt;String&gt; targetsList;
<b class="nc">&nbsp;    private DefaultListModel&lt;String&gt; targetsListModel = new DefaultListModel&lt;&gt;();</b>
&nbsp;    protected JCheckBox forcedWithdrawalCheck;
&nbsp;    protected JCheckBox autoFleeCheck;
&nbsp;    protected JComboBox&lt;String&gt; destinationEdgeCombo; // The board edge to to which the bot will attempt to move.
&nbsp;    protected JComboBox&lt;String&gt; retreatEdgeCombo; // The board edge to be used in a forced withdrawal.
&nbsp;    protected JSlider aggressionSlidebar;
&nbsp;    protected JSlider fallShameSlidebar;
&nbsp;    protected JSlider herdingSlidebar;
&nbsp;    protected JSlider selfPreservationSlidebar;
&nbsp;    protected JSlider braverySlidebar;
&nbsp;    private JComboBox&lt;String&gt; princessBehaviorNames;
&nbsp;
&nbsp;    protected JTextField nameField;
<b class="nc">&nbsp;    private boolean customName = false; // did user not use default name?</b>
<b class="nc">&nbsp;    public boolean dialogAborted = true; // did user not click Ok button?</b>
&nbsp;
&nbsp;    // Are we replacing an existing player?
<b class="nc">&nbsp;    private final Set&lt;IPlayer&gt; ghostPlayers = new HashSet&lt;&gt;();</b>
&nbsp;    private final boolean replacePlayer;
&nbsp;
<b class="nc">&nbsp;    protected final JButton butOK = new JButton(Messages.getString(&quot;Okay&quot;)); //$NON-NLS-1$</b>
&nbsp;
&nbsp;    private final JPanel botSpecificCardsPanel;
&nbsp;
&nbsp;    public BotConfigDialog(JFrame parent) {
<b class="nc">&nbsp;        this(parent, new HashSet&lt;&gt;());</b>
&nbsp;    }
&nbsp;    
&nbsp;    public BotConfigDialog(JFrame parent, BotClient existingBot) {
<b class="nc">&nbsp;        this(parent, new HashSet&lt;&gt;());</b>
&nbsp;        
<b class="nc">&nbsp;        if (existingBot instanceof Princess) {</b>
<b class="nc">&nbsp;            this.princessBehavior = ((Princess) existingBot).getBehaviorSettings();</b>
<b class="nc">&nbsp;            nameField.setText(existingBot.getName());</b>
<b class="nc">&nbsp;            setPrincessFields();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public BotConfigDialog(JFrame parent, Set&lt;IPlayer&gt; ghostPlayers) {
<b class="nc">&nbsp;        super(parent, &quot;Configure Bot&quot;, true);</b>
&nbsp;
<b class="nc">&nbsp;        if (ghostPlayers != null) {</b>
<b class="nc">&nbsp;            this.ghostPlayers.addAll(ghostPlayers);</b>
&nbsp;        }
<b class="nc">&nbsp;        this.replacePlayer = !this.ghostPlayers.isEmpty();</b>
&nbsp;
<b class="nc">&nbsp;        setLayout(new BorderLayout());</b>
<b class="nc">&nbsp;        add(switchBotPanel(), BorderLayout.NORTH);</b>
<b class="nc">&nbsp;        botSpecificCardsPanel = new JPanel(new CardLayout());</b>
<b class="nc">&nbsp;        botSpecificCardsPanel.add(new JPanel(), TESTBOT_PANEL);</b>
<b class="nc">&nbsp;        JScrollPane princessScroll = new JScrollPane(princessPanel());</b>
<b class="nc">&nbsp;        botSpecificCardsPanel.add(princessScroll, PRINCESS_PANEL);</b>
<b class="nc">&nbsp;        CardLayout cardlayout = (CardLayout) (botSpecificCardsPanel.getLayout());</b>
<b class="nc">&nbsp;        cardlayout.show(botSpecificCardsPanel, PRINCESS_PANEL);</b>
<b class="nc">&nbsp;        add(botSpecificCardsPanel, BorderLayout.CENTER);</b>
<b class="nc">&nbsp;        butOK.addActionListener(this);</b>
&nbsp;
<b class="nc">&nbsp;        add(okayPanel(), BorderLayout.SOUTH);</b>
&nbsp;
<b class="nc">&nbsp;        if (replacePlayer) {</b>
<b class="nc">&nbsp;            add(selectPlayerToReplacePanel(), BorderLayout.WEST);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        validate();</b>
<b class="nc">&nbsp;        pack();</b>
<b class="nc">&nbsp;        setSize(new Dimension(600, 600));</b>
<b class="nc">&nbsp;        setLocationRelativeTo(parent);</b>
&nbsp;    }
&nbsp;
&nbsp;    private JPanel switchBotPanel() {
<b class="nc">&nbsp;        JPanel panel = new JPanel(new FlowLayout());</b>
<b class="nc">&nbsp;        testBotRadiobutton = new JRadioButton(Messages.getString(&quot;BotConfigDialog.testBotRadioButton&quot;));</b>
<b class="nc">&nbsp;        testBotRadiobutton.addActionListener(this);</b>
<b class="nc">&nbsp;        selectBotGroup.add(testBotRadiobutton);</b>
<b class="nc">&nbsp;        panel.add(testBotRadiobutton);</b>
&nbsp;
<b class="nc">&nbsp;        princessRadiobutton = new JRadioButton(Messages.getString(&quot;BotConfigDialog.princessRadioButton&quot;));</b>
<b class="nc">&nbsp;        princessRadiobutton.addActionListener(this);</b>
<b class="nc">&nbsp;        selectBotGroup.add(princessRadiobutton);</b>
<b class="nc">&nbsp;        princessRadiobutton.setSelected(true);</b>
<b class="nc">&nbsp;        panel.add(princessRadiobutton);</b>
&nbsp;
<b class="nc">&nbsp;        return panel;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JPanel selectPlayerToReplacePanel() {
<b class="nc">&nbsp;        JPanel panel = new JPanel();</b>
<b class="nc">&nbsp;        panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));</b>
&nbsp;
<b class="nc">&nbsp;        String title = Messages.getString(&quot;BotConfigDialog.replacePlayerLabel&quot;) + &quot;  &quot;;</b>
<b class="nc">&nbsp;        TitledBorder border = new TitledBorder(new LineBorder(Color.black, 1),</b>
<b class="nc">&nbsp;                                               Messages.getString(&quot;BotConfigDialog.replacePlayerLabel&quot;),</b>
&nbsp;                                               TitledBorder.LEFT,
&nbsp;                                               TitledBorder.DEFAULT_POSITION);
<b class="nc">&nbsp;        panel.setBorder(border);</b>
<b class="nc">&nbsp;        String longestEntry = title;</b>
&nbsp;
<b class="nc">&nbsp;        Vector&lt;String&gt; playerList = new Vector&lt;&gt;(ghostPlayers.size());</b>
<b class="nc">&nbsp;        for (IPlayer p : ghostPlayers) {</b>
<b class="nc">&nbsp;            playerList.add(p.getName());</b>
<b class="nc">&nbsp;            if (p.getName().length() &gt; longestEntry.length()) {</b>
<b class="nc">&nbsp;                longestEntry = p.getName() + &quot;  &quot;;</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        playersToReplace = new JList&lt;&gt;(playerList);</b>
<b class="nc">&nbsp;        int minWidth = (int) playersToReplace</b>
<b class="nc">&nbsp;                .getFontMetrics(playersToReplace.getFont())</b>
<b class="nc">&nbsp;                .getStringBounds(longestEntry, null).getWidth();</b>
<b class="nc">&nbsp;        playersToReplace.setSelectedIndex(0);</b>
<b class="nc">&nbsp;        playersToReplace.setSelectionMode(ListSelectionModel.MULTIPLE_INTERVAL_SELECTION);</b>
<b class="nc">&nbsp;        playersToReplace.setPreferredSize(new Dimension(minWidth, playersToReplace.getPreferredSize().height));</b>
<b class="nc">&nbsp;        panel.add(playersToReplace);</b>
&nbsp;
<b class="nc">&nbsp;        panel.add(Box.createVerticalGlue());</b>
&nbsp;
<b class="nc">&nbsp;        return panel;</b>
&nbsp;    }
&nbsp;
&nbsp;    private boolean getPresetPrincessBehavior() {
<b class="nc">&nbsp;        princessBehavior = behaviorSettingsFactory.getBehavior((String) princessBehaviorNames.getSelectedItem());</b>
<b class="nc">&nbsp;        if (princessBehavior == null) {</b>
<b class="nc">&nbsp;            princessBehavior = new BehaviorSettings();</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
<b class="nc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;    
&nbsp;    public BehaviorSettings getBehaviorSettings() {
<b class="nc">&nbsp;        return princessBehavior;</b>
&nbsp;    }
&nbsp;
&nbsp;    protected void setPrincessFields() {
<b class="nc">&nbsp;        verbosityCombo.setSelectedIndex(0);</b>
<b class="nc">&nbsp;        forcedWithdrawalCheck.setSelected(princessBehavior.isForcedWithdrawal());</b>
<b class="nc">&nbsp;        autoFleeCheck.setSelected(princessBehavior.shouldAutoFlee());</b>
<b class="nc">&nbsp;        selfPreservationSlidebar.setValue(princessBehavior.getSelfPreservationIndex());</b>
<b class="nc">&nbsp;        aggressionSlidebar.setValue(princessBehavior.getHyperAggressionIndex());</b>
<b class="nc">&nbsp;        fallShameSlidebar.setValue(princessBehavior.getFallShameIndex());</b>
<b class="nc">&nbsp;        destinationEdgeCombo.setSelectedIndex(princessBehavior.getDestinationEdge().getIndex());</b>
<b class="nc">&nbsp;        retreatEdgeCombo.setSelectedIndex(princessBehavior.getRetreatEdge().getIndex());</b>
<b class="nc">&nbsp;        herdingSlidebar.setValue(princessBehavior.getHerdMentalityIndex());</b>
<b class="nc">&nbsp;        braverySlidebar.setValue(princessBehavior.getBraveryIndex());</b>
<b class="nc">&nbsp;        targetsListModel.clear();</b>
<b class="nc">&nbsp;        for (String t : princessBehavior.getStrategicBuildingTargets()) {</b>
&nbsp;            //noinspection unchecked
<b class="nc">&nbsp;            targetsListModel.addElement(BUILDING_TARGET + &quot;: &quot; + t);            </b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        for (int id : princessBehavior.getPriorityUnitTargets()) {</b>
<b class="nc">&nbsp;            targetsListModel.addElement(UNIT_TARGET + &quot;: &quot; + id);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        repaint();</b>
&nbsp;    }
&nbsp;
&nbsp;    private JLabel buildSliderLabel(String caption) {
<b class="nc">&nbsp;        Font slideFont = new Font(Font.SANS_SERIF, Font.PLAIN, 8);</b>
<b class="nc">&nbsp;        JLabel label = new JLabel(caption);</b>
<b class="nc">&nbsp;        label.setFont(slideFont);</b>
<b class="nc">&nbsp;        return label;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JSlider buildSlider(String minMsgProperty, String maxMsgProperty, String toolTip, String title) {
<b class="nc">&nbsp;        JSlider thisSlider = new JSlider(SwingConstants.HORIZONTAL, 0, 10, 5);</b>
<b class="nc">&nbsp;        Hashtable&lt;Integer, JLabel&gt; sliderLabels = new Hashtable&lt;Integer, JLabel&gt;(3);</b>
<b class="nc">&nbsp;        sliderLabels.put(0, buildSliderLabel(&quot;0 - &quot; + minMsgProperty));</b>
<b class="nc">&nbsp;        sliderLabels.put(10, buildSliderLabel(&quot;10 - &quot; + maxMsgProperty));</b>
<b class="nc">&nbsp;        sliderLabels.put(5, buildSliderLabel(&quot;5&quot;));</b>
<b class="nc">&nbsp;        thisSlider.setToolTipText(toolTip);</b>
<b class="nc">&nbsp;        thisSlider.setLabelTable(sliderLabels);</b>
<b class="nc">&nbsp;        thisSlider.setPaintLabels(true);</b>
<b class="nc">&nbsp;        thisSlider.setMinorTickSpacing(1);</b>
<b class="nc">&nbsp;        thisSlider.setMajorTickSpacing(2);</b>
<b class="nc">&nbsp;        thisSlider.setSnapToTicks(true);</b>
<b class="nc">&nbsp;        thisSlider.setBorder(new TitledBorder(new LineBorder(Color.black), title));</b>
<b class="nc">&nbsp;        thisSlider.setEnabled(true);</b>
&nbsp;
<b class="nc">&nbsp;        return thisSlider;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JPanel okayPanel() {
<b class="nc">&nbsp;        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 2, 2));</b>
&nbsp;
<b class="nc">&nbsp;        if (!replacePlayer) {</b>
<b class="nc">&nbsp;            JPanel namepanel = new JPanel(new FlowLayout());</b>
<b class="nc">&nbsp;            namepanel.add(new JLabel(Messages.getString(&quot;BotConfigDialog.nameLabel&quot;)));</b>
<b class="nc">&nbsp;            nameField = new JTextField();</b>
<b class="nc">&nbsp;            nameField.setText(&quot;Princess&quot;);</b>
<b class="nc">&nbsp;            nameField.setColumns(12);</b>
<b class="nc">&nbsp;            nameField.setToolTipText(Messages.getString(&quot;BotConfigDialog.namefield.tooltip&quot;));</b>
<b class="nc">&nbsp;            nameField.addKeyListener(this);</b>
<b class="nc">&nbsp;            namepanel.add(nameField);</b>
<b class="nc">&nbsp;            panel.add(namepanel);</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        butOK.addActionListener(this);</b>
<b class="nc">&nbsp;        panel.add(butOK);</b>
&nbsp;
<b class="nc">&nbsp;        panel.validate();</b>
<b class="nc">&nbsp;        return panel;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JPanel buildSliderPanel() {
<b class="nc">&nbsp;        JPanel panel = new JPanel();</b>
&nbsp;
<b class="nc">&nbsp;        GridBagConstraints constraints = new GridBagConstraints();</b>
<b class="nc">&nbsp;        GridBagLayout layout = new GridBagLayout();</b>
<b class="nc">&nbsp;        panel.setLayout(layout);</b>
&nbsp;
&nbsp;        //Initialize constraints.
<b class="nc">&nbsp;        constraints.gridheight = 1;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 0;</b>
<b class="nc">&nbsp;        constraints.weightx = 1;</b>
<b class="nc">&nbsp;        constraints.weighty = 1;</b>
<b class="nc">&nbsp;        constraints.insets = new Insets(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        constraints.anchor = GridBagConstraints.NORTHWEST;</b>
<b class="nc">&nbsp;        constraints.fill = GridBagConstraints.HORIZONTAL;</b>
&nbsp;
&nbsp;        //Row 1
<b class="nc">&nbsp;        constraints.gridy = 0;</b>
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        braverySlidebar = buildSlider(Messages.getString(&quot;BotConfigDialog.braverySliderMin&quot;),</b>
<b class="nc">&nbsp;                                      Messages.getString(&quot;BotConfigDialog.braverySliderMax&quot;),</b>
<b class="nc">&nbsp;                                      Messages.getString(&quot;BotConfigDialog.braveryTooltip&quot;),</b>
<b class="nc">&nbsp;                                      Messages.getString(&quot;BotConfigDialog.braverySliderTitle&quot;));</b>
<b class="nc">&nbsp;        panel.add(braverySlidebar, constraints);</b>
&nbsp;
&nbsp;        //Row 2
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        selfPreservationSlidebar = buildSlider(Messages.getString(&quot;BotConfigDialog.selfPreservationSliderMin&quot;),</b>
<b class="nc">&nbsp;                                               Messages.getString(&quot;BotConfigDialog.selfPreservationSliderMax&quot;),</b>
<b class="nc">&nbsp;                                               Messages.getString(&quot;BotConfigDialog.selfPreservationTooltip&quot;),</b>
<b class="nc">&nbsp;                                               Messages.getString(&quot;BotConfigDialog.selfPreservationSliderTitle&quot;));</b>
<b class="nc">&nbsp;        panel.add(selfPreservationSlidebar, constraints);</b>
&nbsp;
&nbsp;        //Row 3
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        aggressionSlidebar = buildSlider(Messages.getString(&quot;BotConfigDialog.aggressionSliderMin&quot;),</b>
<b class="nc">&nbsp;                                         Messages.getString(&quot;BotConfigDialog.aggressionSliderMax&quot;),</b>
<b class="nc">&nbsp;                                         Messages.getString(&quot;BotConfigDialog.aggressionTooltip&quot;),</b>
<b class="nc">&nbsp;                                         Messages.getString(&quot;BotConfigDialog.aggressionSliderTitle&quot;));</b>
<b class="nc">&nbsp;        panel.add(aggressionSlidebar, constraints);</b>
&nbsp;
&nbsp;        //Row 4
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        herdingSlidebar = buildSlider(Messages.getString(&quot;BotConfigDialog.herdingSliderMin&quot;),</b>
<b class="nc">&nbsp;                                      Messages.getString(&quot;BotConfigDialog.herdingSliderMax&quot;),</b>
<b class="nc">&nbsp;                                      Messages.getString(&quot;BotConfigDialog.herdingToolTip&quot;),</b>
<b class="nc">&nbsp;                                      Messages.getString(&quot;BotConfigDialog.herdingSliderTitle&quot;));</b>
<b class="nc">&nbsp;        panel.add(herdingSlidebar, constraints);</b>
&nbsp;
&nbsp;        //Row 5
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        fallShameSlidebar = buildSlider(Messages.getString(&quot;BotConfigDialog.fallShameSliderMin&quot;),</b>
<b class="nc">&nbsp;                                        Messages.getString(&quot;BotConfigDialog.fallShameSliderMax&quot;),</b>
<b class="nc">&nbsp;                                        Messages.getString(&quot;BotConfigDialog.fallShameToolTip&quot;),</b>
<b class="nc">&nbsp;                                        Messages.getString(&quot;BotConfigDialog.fallShameSliderTitle&quot;));</b>
<b class="nc">&nbsp;        panel.add(fallShameSlidebar, constraints);</b>
&nbsp;
<b class="nc">&nbsp;        panel.setBorder(new TitledBorder(new LineBorder(Color.black, 1), &quot;Behavior Settings&quot;));</b>
&nbsp;
<b class="nc">&nbsp;        return panel;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JPanel princessPanel() {
&nbsp;
&nbsp;        //Setup layout.
<b class="nc">&nbsp;        JPanel panel = new JPanel();</b>
<b class="nc">&nbsp;        GridBagConstraints constraints = new GridBagConstraints();</b>
<b class="nc">&nbsp;        GridBagLayout layout = new GridBagLayout();</b>
<b class="nc">&nbsp;        panel.setLayout(layout);</b>
&nbsp;
&nbsp;        //Initialize constraints.
<b class="nc">&nbsp;        constraints.gridheight = 1;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 1;</b>
<b class="nc">&nbsp;        constraints.insets = new Insets(2, 2, 2, 2);</b>
<b class="nc">&nbsp;        constraints.anchor = GridBagConstraints.NORTHWEST;</b>
<b class="nc">&nbsp;        constraints.fill = GridBagConstraints.HORIZONTAL;</b>
&nbsp;
&nbsp;        //Row 1 Column 1
<b class="nc">&nbsp;        constraints.gridy = 0;</b>
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        JLabel behaviorNameLabel = new JLabel(Messages.getString(&quot;BotConfigDialog.behaviorNameLabel&quot;));</b>
<b class="nc">&nbsp;        panel.add(behaviorNameLabel, constraints);</b>
&nbsp;
&nbsp;        //Row 1 Column 2
<b class="nc">&nbsp;        constraints.gridx++;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 2;</b>
<b class="nc">&nbsp;        princessBehaviorNames = new JComboBox&lt;&gt;(behaviorSettingsFactory.getBehaviorNames());</b>
<b class="nc">&nbsp;        princessBehaviorNames.setSelectedItem(BehaviorSettingsFactory.DEFAULT_BEHAVIOR_DESCRIPTION);</b>
<b class="nc">&nbsp;        princessBehaviorNames.setToolTipText(Messages.getString(&quot;BotConfigDialog.behaviorToolTip&quot;));</b>
<b class="nc">&nbsp;        princessBehaviorNames.addActionListener(this);</b>
<b class="nc">&nbsp;        princessBehaviorNames.setEditable(true);</b>
<b class="nc">&nbsp;        panel.add(princessBehaviorNames, constraints);</b>
&nbsp;
&nbsp;        //Row 2 Column 1
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 1;</b>
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        JLabel verbosityLabel = new JLabel(Messages.getString(&quot;BotConfigDialog.verbosityLabel&quot;));</b>
<b class="nc">&nbsp;        panel.add(verbosityLabel, constraints);</b>
&nbsp;
&nbsp;        //Row 2 Column 2;
<b class="nc">&nbsp;        constraints.gridx++;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 2;</b>
<b class="nc">&nbsp;        verbosityCombo = new JComboBox&lt;&gt;(LogLevel.getLogLevelNames());</b>
<b class="nc">&nbsp;        verbosityCombo.setToolTipText(Messages.getString(&quot;BotConfigDialog.verbosityToolTip&quot;));</b>
<b class="nc">&nbsp;        verbosityCombo.setSelectedIndex(0);</b>
<b class="nc">&nbsp;        panel.add(verbosityCombo, constraints);</b>
&nbsp;
&nbsp;        //Row 3 Column 1.
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 1;</b>
<b class="nc">&nbsp;        forcedWithdrawalCheck = new JCheckBox(Messages.getString(&quot;BotConfigDialog.forcedWithdrawalCheck&quot;));</b>
<b class="nc">&nbsp;        forcedWithdrawalCheck.setToolTipText(Messages.getString(&quot;BotConfigDialog.forcedWithdrawalTooltip&quot;));</b>
<b class="nc">&nbsp;        panel.add(forcedWithdrawalCheck, constraints);</b>
&nbsp;
&nbsp;        //Row 3 Column 3.
<b class="nc">&nbsp;        constraints.gridx++;</b>
<b class="nc">&nbsp;        autoFleeCheck = new JCheckBox(Messages.getString(&quot;BotConfigDialog.autoFleeCheck&quot;));</b>
<b class="nc">&nbsp;        autoFleeCheck.setToolTipText(Messages.getString(&quot;BotConfigDialog.autoFleeTooltip&quot;));</b>
<b class="nc">&nbsp;        autoFleeCheck.addActionListener(this);</b>
<b class="nc">&nbsp;        autoFleeCheck.setEnabled(false);</b>
<b class="nc">&nbsp;        panel.add(autoFleeCheck, constraints);</b>
&nbsp;
&nbsp;        //Row 4 Column 1.
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        JLabel homeEdgeLabel = new JLabel(Messages.getString(&quot;BotConfigDialog.homeEdgeLabel&quot;));</b>
<b class="nc">&nbsp;        layout.setConstraints(homeEdgeLabel, constraints);</b>
<b class="nc">&nbsp;        panel.add(homeEdgeLabel);</b>
&nbsp;
&nbsp;        //Row 4 Column 2.
<b class="nc">&nbsp;        constraints.gridx++;</b>
<b class="nc">&nbsp;        destinationEdgeCombo = new JComboBox&lt;String&gt;(new String[]{Messages.getString(&quot;BotConfigDialog.northEdge&quot;),</b>
<b class="nc">&nbsp;                                                           Messages.getString(&quot;BotConfigDialog.southEdge&quot;),</b>
<b class="nc">&nbsp;                                                           Messages.getString(&quot;BotConfigDialog.westEdge&quot;),</b>
<b class="nc">&nbsp;                                                           Messages.getString(&quot;BotConfigDialog.eastEdge&quot;),</b>
<b class="nc">&nbsp;                                                           Messages.getString(&quot;BotConfigDialog.noEdge&quot;)});</b>
<b class="nc">&nbsp;        destinationEdgeCombo.setToolTipText(Messages.getString(&quot;BotConfigDialog.homeEdgeTooltip&quot;));</b>
<b class="nc">&nbsp;        destinationEdgeCombo.setSelectedIndex(0);</b>
<b class="nc">&nbsp;        destinationEdgeCombo.addActionListener(this);</b>
<b class="nc">&nbsp;        panel.add(destinationEdgeCombo, constraints);</b>
&nbsp;        
&nbsp;        //Row 4.1 Column 1.
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        JLabel retreatEdgeLabel = new JLabel(Messages.getString(&quot;BotConfigDialog.retreatEdgeLabel&quot;));</b>
<b class="nc">&nbsp;        layout.setConstraints(retreatEdgeLabel, constraints);</b>
<b class="nc">&nbsp;        panel.add(retreatEdgeLabel);</b>
&nbsp;
&nbsp;        //Row 4 Column 2.
<b class="nc">&nbsp;        constraints.gridx++;</b>
<b class="nc">&nbsp;        retreatEdgeCombo = new JComboBox&lt;String&gt;(new String[]{Messages.getString(&quot;BotConfigDialog.northEdge&quot;),</b>
<b class="nc">&nbsp;                                                           Messages.getString(&quot;BotConfigDialog.southEdge&quot;),</b>
<b class="nc">&nbsp;                                                           Messages.getString(&quot;BotConfigDialog.westEdge&quot;),</b>
<b class="nc">&nbsp;                                                           Messages.getString(&quot;BotConfigDialog.eastEdge&quot;),</b>
<b class="nc">&nbsp;                                                           Messages.getString(&quot;BotConfigDialog.nearestEdge&quot;)});</b>
<b class="nc">&nbsp;        retreatEdgeCombo.setToolTipText(Messages.getString(&quot;BotConfigDialog.retreatEdgeTooltip&quot;));</b>
<b class="nc">&nbsp;        retreatEdgeCombo.setSelectedIndex(0);</b>
<b class="nc">&nbsp;        panel.add(retreatEdgeCombo, constraints);</b>
&nbsp;
&nbsp;        //Row 5.
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 3;</b>
<b class="nc">&nbsp;        JPanel sliderPanel = buildSliderPanel();</b>
<b class="nc">&nbsp;        layout.setConstraints(sliderPanel, constraints);</b>
<b class="nc">&nbsp;        panel.add(sliderPanel);</b>
&nbsp;
&nbsp;        //Row 6 Column 1.
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 1;</b>
<b class="nc">&nbsp;        JLabel targetsLabel = new JLabel(Messages.getString(&quot;BotConfigDialog.targetsLabel&quot;));</b>
<b class="nc">&nbsp;        panel.add(targetsLabel, constraints);</b>
&nbsp;
&nbsp;        //Row 6 Column 2.
<b class="nc">&nbsp;        constraints.gridx++;</b>
<b class="nc">&nbsp;        targetTypeCombo = new JComboBox&lt;&gt;(new String[]{BUILDING_TARGET, UNIT_TARGET});</b>
<b class="nc">&nbsp;        targetTypeCombo.setToolTipText(Messages.getString(&quot;BotConfigDialog.targetTypeTooltip&quot;));</b>
<b class="nc">&nbsp;        targetTypeCombo.setSelectedIndex(0);</b>
<b class="nc">&nbsp;        panel.add(targetTypeCombo, constraints);</b>
&nbsp;
&nbsp;        // Row 6 Column 3.
<b class="nc">&nbsp;        constraints.gridx++;</b>
<b class="nc">&nbsp;        targetId = new JTextField();</b>
<b class="nc">&nbsp;        targetId.setToolTipText(Messages.getString(&quot;BotConfigDialog.princessTargetIdToolTip&quot;));</b>
<b class="nc">&nbsp;        targetId.setColumns(4);</b>
<b class="nc">&nbsp;        panel.add(targetId, constraints);</b>
&nbsp;
&nbsp;        //Row 7.
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 3;</b>
<b class="nc">&nbsp;        panel.add(buildStrategicTargetsButtonPanel(), constraints);</b>
&nbsp;
&nbsp;        //Row 8
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        constraints.gridx = 0;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 3;</b>
<b class="nc">&nbsp;        targetsList = new JList&lt;&gt;(targetsListModel);</b>
<b class="nc">&nbsp;        targetsList.setToolTipText(Messages.getString(&quot;BotConfigDialog.princessStrategicTargetsToolTip&quot;));</b>
<b class="nc">&nbsp;        targetsList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);</b>
<b class="nc">&nbsp;        targetsList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);</b>
<b class="nc">&nbsp;        targetsList.setLayoutOrientation(JList.VERTICAL);</b>
<b class="nc">&nbsp;        JScrollPane targetScroller = new JScrollPane(targetsList);</b>
<b class="nc">&nbsp;        targetScroller.setAlignmentX(LEFT_ALIGNMENT);</b>
<b class="nc">&nbsp;        panel.add(targetScroller, constraints);</b>
&nbsp;
&nbsp;        //Row 9, Column 2
<b class="nc">&nbsp;        constraints.gridy++;</b>
<b class="nc">&nbsp;        constraints.gridx = 1;</b>
<b class="nc">&nbsp;        constraints.gridwidth = 1;</b>
<b class="nc">&nbsp;        princessHelpButton = new JButton(Messages.getString(&quot;BotConfigDialog.princessHelpButtonCaption&quot;));</b>
<b class="nc">&nbsp;        princessHelpButton.addActionListener(this);</b>
<b class="nc">&nbsp;        panel.add(princessHelpButton, constraints);</b>
&nbsp;
&nbsp;        // if we don&#39;t have a behavior already selected when initializing this panel
&nbsp;        // then set a default one
<b class="nc">&nbsp;        if(princessBehavior == null) {</b>
<b class="nc">&nbsp;            getPresetPrincessBehavior();</b>
&nbsp;        }
&nbsp;        
<b class="nc">&nbsp;        setPrincessFields();</b>
<b class="nc">&nbsp;        panel.validate();</b>
<b class="nc">&nbsp;        return panel;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JPanel buildStrategicTargetsButtonPanel() {
<b class="nc">&nbsp;        JPanel panel = new JPanel(new FlowLayout(FlowLayout.CENTER, 1, 1));</b>
<b class="nc">&nbsp;        addTargetButton = new JButton(Messages.getString(&quot;BotConfigDialog.princessAddTargetButtonCaption&quot;));</b>
<b class="nc">&nbsp;        addTargetButton.setToolTipText(Messages.getString(&quot;BotConfigDialog.princessAddTargetButtonToolTip&quot;));</b>
<b class="nc">&nbsp;        addTargetButton.addActionListener(this);</b>
<b class="nc">&nbsp;        panel.add(addTargetButton);</b>
&nbsp;
<b class="nc">&nbsp;        removeTargetButton = new JButton(Messages.getString(&quot;BotConfigDialog.princessRemoveTargetButtonCaption&quot;));</b>
<b class="nc">&nbsp;        removeTargetButton.setToolTipText(Messages.getString(&quot;BotConfigDialog.princessRemoveTargetButtonToolTip&quot;));</b>
<b class="nc">&nbsp;        removeTargetButton.addActionListener(this);</b>
<b class="nc">&nbsp;        panel.add(removeTargetButton);</b>
&nbsp;
<b class="nc">&nbsp;        return panel;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void launchPrincessHelp() {
&nbsp;        try {
&nbsp;            // Get the correct help file.
<b class="nc">&nbsp;            StringBuilder helpPath = new StringBuilder(&quot;file:///&quot;);</b>
<b class="nc">&nbsp;            helpPath.append(System.getProperty(&quot;user.dir&quot;));</b>
<b class="nc">&nbsp;            if (!helpPath.toString().endsWith(File.separator)) {</b>
<b class="nc">&nbsp;                helpPath.append(File.separator);</b>
&nbsp;            }
<b class="nc">&nbsp;            helpPath.append(Messages.getString(&quot;BotConfigDialog.princessHelpPath&quot;));</b>
<b class="nc">&nbsp;            URL helpUrl = new URL(helpPath.toString());</b>
&nbsp;
&nbsp;            // Launch the help dialog.
<b class="nc">&nbsp;            HelpDialog helpDialog = new HelpDialog(Messages.getString(&quot;BotConfigDialog.princessHelp.title&quot;), helpUrl);</b>
<b class="nc">&nbsp;            helpDialog.setVisible(true);</b>
<b class="nc">&nbsp;        } catch (MalformedURLException e) {</b>
<b class="nc">&nbsp;            handleError(e);</b>
<b class="nc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    public void actionPerformed(ActionEvent e) {
<b class="nc">&nbsp;        CardLayout cardlayout = (CardLayout) (botSpecificCardsPanel.getLayout());</b>
<b class="nc">&nbsp;        if (testBotRadiobutton.equals(e.getSource())) {</b>
<b class="nc">&nbsp;            if (!customName &amp;&amp; !replacePlayer) {</b>
<b class="nc">&nbsp;                nameField.setText(&quot;TestBot&quot;);</b>
&nbsp;            }
<b class="nc">&nbsp;            cardlayout.show(botSpecificCardsPanel, TESTBOT_PANEL);</b>
&nbsp;
<b class="nc">&nbsp;        } else if (princessRadiobutton.equals(e.getSource())) {</b>
<b class="nc">&nbsp;            if (!customName) {</b>
<b class="nc">&nbsp;                nameField.setText(&quot;Princess&quot;);</b>
&nbsp;            }
<b class="nc">&nbsp;            cardlayout.show(botSpecificCardsPanel, PRINCESS_PANEL);</b>
&nbsp;
<b class="nc">&nbsp;        } else if (butOK.equals(e.getSource())) {</b>
<b class="nc">&nbsp;            dialogAborted = false;</b>
<b class="nc">&nbsp;            savePrincessProperties();</b>
<b class="nc">&nbsp;            setVisible(false);</b>
&nbsp;
<b class="nc">&nbsp;        } else if (addTargetButton.equals(e.getSource())) {</b>
<b class="nc">&nbsp;            String data = targetTypeCombo.getSelectedItem() + &quot;: &quot; + targetId.getText();</b>
<b class="nc">&nbsp;            targetsListModel.addElement(data);</b>
&nbsp;
<b class="nc">&nbsp;        } else if (removeTargetButton.equals(e.getSource())) {</b>
<b class="nc">&nbsp;            targetsListModel.removeElementAt(targetsList.getSelectedIndex());</b>
&nbsp;
<b class="nc">&nbsp;        } else if (princessBehaviorNames.equals(e.getSource())) {</b>
<b class="nc">&nbsp;            getPresetPrincessBehavior();</b>
<b class="nc">&nbsp;            setPrincessFields();</b>
<b class="nc">&nbsp;        } else if (destinationEdgeCombo.equals(e.getSource())) {</b>
<b class="nc">&nbsp;            if (CardinalEdge.getCardinalEdge(destinationEdgeCombo.getSelectedIndex()) == CardinalEdge.NEAREST_OR_NONE) {</b>
<b class="nc">&nbsp;                autoFleeCheck.setSelected(false);</b>
<b class="nc">&nbsp;                autoFleeCheck.setEnabled(false);</b>
&nbsp;            } else {
<b class="nc">&nbsp;                autoFleeCheck.setEnabled(true);</b>
<b class="nc">&nbsp;                autoFleeCheck.setSelected(true);</b>
&nbsp;            }
<b class="nc">&nbsp;        } else if (princessHelpButton.equals(e.getSource())) {</b>
<b class="nc">&nbsp;            launchPrincessHelp();</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void handleError(Throwable t) {
<b class="nc">&nbsp;        JOptionPane.showMessageDialog(this, t.getMessage(), &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);</b>
<b class="nc">&nbsp;        MegaMek.getLogger().error(t);</b>
&nbsp;    }
&nbsp;
&nbsp;    private void savePrincessProperties() {
<b class="nc">&nbsp;        BehaviorSettings tempBehavior = new BehaviorSettings();</b>
&nbsp;
&nbsp;        try {
<b class="nc">&nbsp;            tempBehavior.setDescription((String) princessBehaviorNames.getSelectedItem());</b>
<b class="nc">&nbsp;        } catch (PrincessException e) {</b>
<b class="nc">&nbsp;            handleError(e);</b>
<b class="nc">&nbsp;        }</b>
<b class="nc">&nbsp;        tempBehavior.setFallShameIndex(fallShameSlidebar.getValue());</b>
<b class="nc">&nbsp;        tempBehavior.setForcedWithdrawal(forcedWithdrawalCheck.isSelected());</b>
<b class="nc">&nbsp;        tempBehavior.setAutoFlee(autoFleeCheck.isSelected());</b>
<b class="nc">&nbsp;        tempBehavior.setDestinationEdge(destinationEdgeCombo.getSelectedIndex());</b>
<b class="nc">&nbsp;        tempBehavior.setRetreatEdge(retreatEdgeCombo.getSelectedIndex());</b>
<b class="nc">&nbsp;        tempBehavior.setHyperAggressionIndex(aggressionSlidebar.getValue());</b>
<b class="nc">&nbsp;        tempBehavior.setSelfPreservationIndex(selfPreservationSlidebar.getValue());</b>
<b class="nc">&nbsp;        tempBehavior.setHerdMentalityIndex(herdingSlidebar.getValue());</b>
<b class="nc">&nbsp;        tempBehavior.setBraveryIndex(braverySlidebar.getValue());</b>
<b class="nc">&nbsp;        tempBehavior.setFallShameIndex(fallShameSlidebar.getValue());</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; targetsListModel.getSize(); i++) {</b>
<b class="nc">&nbsp;            String[] target = targetsListModel.get(i).split(&quot;:&quot;);</b>
<b class="nc">&nbsp;            if (BUILDING_TARGET.equalsIgnoreCase(target[0].trim())) {</b>
<b class="nc">&nbsp;                tempBehavior.addStrategicTarget(target[1].trim());</b>
&nbsp;            } else {
<b class="nc">&nbsp;                tempBehavior.addPriorityUnit(target[1].trim());</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        boolean save = false;</b>
<b class="nc">&nbsp;        boolean saveTargets = false;</b>
<b class="nc">&nbsp;        if (!tempBehavior.equals(princessBehavior)) {</b>
<b class="nc">&nbsp;            SavePrincessDialog dialog = new SavePrincessDialog(this);</b>
<b class="nc">&nbsp;            dialog.setVisible(true);</b>
<b class="nc">&nbsp;            save = dialog.doSave();</b>
<b class="nc">&nbsp;            saveTargets = dialog.doSaveTargets();</b>
<b class="nc">&nbsp;            dialog.dispose();</b>
&nbsp;        }
<b class="nc">&nbsp;        princessBehavior = tempBehavior;</b>
&nbsp;
<b class="nc">&nbsp;        if (save) {</b>
<b class="nc">&nbsp;            behaviorSettingsFactory.addBehavior(princessBehavior);</b>
<b class="nc">&nbsp;            behaviorSettingsFactory.saveBehaviorSettings(saveTargets);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public void keyTyped(KeyEvent e) {
<b class="nc">&nbsp;        customName = true;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void keyReleased(KeyEvent e) {
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void keyPressed(KeyEvent e) {
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * gets the selected, configured bot from the dialog
&nbsp;     *
&nbsp;     * @param host The game server&#39;s host address.
&nbsp;     * @param port The gme server&#39;s host port.
&nbsp;     * @return A new bot-controlled client.
&nbsp;     */
&nbsp;    BotClient getSelectedBot(String host, int port) {
<b class="nc">&nbsp;        if (testBotRadiobutton.isSelected()) {</b>
<b class="nc">&nbsp;            return new TestBot(getBotName(), host, port);</b>
&nbsp;
<b class="nc">&nbsp;        } else if (princessRadiobutton.isSelected()) {</b>
<b class="nc">&nbsp;            Princess toReturn = new Princess(getBotName(), host, port,</b>
<b class="nc">&nbsp;                                             LogLevel.getLogLevel((String) verbosityCombo.getSelectedItem()));</b>
<b class="nc">&nbsp;            toReturn.setBehaviorSettings(princessBehavior);</b>
<b class="nc">&nbsp;            toReturn.getLogger().debug(toReturn.getBehaviorSettings().toLog());</b>
<b class="nc">&nbsp;            return toReturn;</b>
&nbsp;        }
<b class="nc">&nbsp;        return null; // shouldn&#39;t happen</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getBotName() {
<b class="nc">&nbsp;        if (replacePlayer) {</b>
<b class="nc">&nbsp;            return playersToReplace.getSelectedValuesList().get(0);</b>
&nbsp;        }
<b class="nc">&nbsp;        return nameField.getText();</b>
&nbsp;    }
&nbsp;
&nbsp;    Collection&lt;String&gt; getPlayerToReplace() {
<b class="nc">&nbsp;        if (!replacePlayer) {</b>
<b class="nc">&nbsp;            return new HashSet&lt;&gt;(0);</b>
&nbsp;        }
<b class="nc">&nbsp;        return playersToReplace.getSelectedValuesList();</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-05-16 16:28</div>
</div>
</body>
</html>
