


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > RandomMapPanelBasic</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">megamek.client.ui.swing</a>
</div>

<h1>Coverage Summary for Class: RandomMapPanelBasic (megamek.client.ui.swing)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">RandomMapPanelBasic</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/42)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/438)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * MegaMek - Copyright (C) 2000-2011 Ben Mazur (bmazur@sev.org)
&nbsp; *
&nbsp; *  This program is free software; you can redistribute it and/or modify it
&nbsp; *  under the terms of the GNU General Public License as published by the Free
&nbsp; *  Software Foundation; either version 2 of the License, or (at your option)
&nbsp; *  any later version.
&nbsp; *
&nbsp; *  This program is distributed in the hope that it will be useful, but
&nbsp; *  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
&nbsp; *  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
&nbsp; *  for more details.
&nbsp; */
&nbsp;package megamek.client.ui.swing;
&nbsp;
&nbsp;import megamek.client.ui.Messages;
&nbsp;import megamek.client.ui.swing.widget.CheckpointComboBox;
&nbsp;import megamek.common.MapSettings;
&nbsp;
&nbsp;import javax.swing.*;
&nbsp;import java.awt.*;
&nbsp;
&nbsp;/**
&nbsp; * @author Deric &quot;Netzilla&quot; Page (deric dot page at usa dot net)
&nbsp; * @since 3/13/14 3:55 PM
&nbsp; */
&nbsp;public class RandomMapPanelBasic extends JPanel {
&nbsp;
&nbsp;    private static final long serialVersionUID = -6971330721623187856L;
&nbsp;    
<b class="nc">&nbsp;    private static final String NONE = Messages.getString(&quot;RandomMapDialog.uiNONE&quot;);</b>
<b class="nc">&nbsp;    private static final String LOW = Messages.getString(&quot;RandomMapDialog.uiLow&quot;);</b>
<b class="nc">&nbsp;    private static final String MEDIUM = Messages.getString(&quot;RandomMapDialog.uiMedium&quot;);</b>
<b class="nc">&nbsp;    private static final String HIGH = Messages.getString(&quot;RandomMapDialog.uiHigh&quot;);</b>
<b class="nc">&nbsp;    private static final String[] LOW_HIGH_CHOICES = new String[]{NONE, LOW, MEDIUM, HIGH};</b>
&nbsp;
&nbsp;    private MapSettings mapSettings;
&nbsp;
<b class="nc">&nbsp;    private final JTabbedPane tabbedPane = new JTabbedPane(JTabbedPane.TOP, JTabbedPane.WRAP_TAB_LAYOUT);</b>
&nbsp;
&nbsp;    // Civilization
&nbsp;    private static final String CT_HUB = &quot;HUB&quot;;
&nbsp;    private static final String CT_GRID = &quot;GRID&quot;;
&nbsp;    private static final String CT_METRO = &quot;METRO&quot;;
&nbsp;    private static final String CT_TOWN = &quot;TOWN&quot;;
<b class="nc">&nbsp;    private static final String[] CT_CHOICES = new String[]{NONE, CT_GRID, CT_HUB, CT_METRO, CT_TOWN};</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; cityTypeCombo = new CheckpointComboBox&lt;&gt;(CT_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; fortifiedCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; pavementCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; plantedFieldsCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; roadsCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; rubbleCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
&nbsp;
&nbsp;    // Elevation
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; cliffsCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; cratersCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; hillinessCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; mountainCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
&nbsp;
&nbsp;    // Natural Features
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; roughsCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; sandsCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; swampsCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; woodsCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; foliageCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
&nbsp;
&nbsp;    // Water
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; lakesCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; riversCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
<b class="nc">&nbsp;    private final CheckpointComboBox&lt;String&gt; iceCombo = new CheckpointComboBox&lt;&gt;(LOW_HIGH_CHOICES);</b>
&nbsp;
<b class="nc">&nbsp;    public RandomMapPanelBasic(MapSettings mapSettings) {</b>
<b class="nc">&nbsp;        setMapSettings(mapSettings);</b>
&nbsp;
<b class="nc">&nbsp;        initGUI();</b>
<b class="nc">&nbsp;        validate();</b>
&nbsp;    }
&nbsp;
&nbsp;    private void initGUI() {
<b class="nc">&nbsp;        JScrollPane civilizationPanel = setupCivilizationPanel();</b>
<b class="nc">&nbsp;        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabCivilization&quot;), civilizationPanel);</b>
&nbsp;
<b class="nc">&nbsp;        JScrollPane elevationPanel = setupElevationPanel();</b>
<b class="nc">&nbsp;        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabElevation&quot;), elevationPanel);</b>
&nbsp;
<b class="nc">&nbsp;        JScrollPane naturalFeaturesPanel = setupNaturalFeaturesPanel();</b>
<b class="nc">&nbsp;        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabNatural&quot;), naturalFeaturesPanel);</b>
&nbsp;
<b class="nc">&nbsp;        JScrollPane waterPanel = setupWaterPanel();</b>
<b class="nc">&nbsp;        tabbedPane.addTab(Messages.getString(&quot;RandomMapDialog.tabWater&quot;), waterPanel);</b>
&nbsp;
<b class="nc">&nbsp;        tabbedPane.setSelectedComponent(civilizationPanel);</b>
&nbsp;
<b class="nc">&nbsp;        setLayout(new BorderLayout());</b>
<b class="nc">&nbsp;        add(tabbedPane, BorderLayout.CENTER);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMapSettings(MapSettings mapSettings) {
<b class="nc">&nbsp;        if (mapSettings == null) {</b>
&nbsp;            return;
&nbsp;        }
<b class="nc">&nbsp;        this.mapSettings = mapSettings;</b>
<b class="nc">&nbsp;        loadMapSettings();</b>
&nbsp;    }
&nbsp;
&nbsp;    private void loadMapSettings() {
<b class="nc">&nbsp;        lakesCombo.setSelectedItem(lakesToRange(this.mapSettings.getMinWaterSize(),</b>
<b class="nc">&nbsp;                                                this.mapSettings.getMinWaterSpots(),</b>
<b class="nc">&nbsp;                                                this.mapSettings.getProbDeep()));</b>
<b class="nc">&nbsp;        lakesCombo.checkpoint();</b>
<b class="nc">&nbsp;        riversCombo.setSelectedItem(percentageToRange(this.mapSettings.getProbRiver()));</b>
<b class="nc">&nbsp;        riversCombo.checkpoint();</b>
<b class="nc">&nbsp;        iceCombo.setSelectedItem(iceToRange(this.mapSettings.getMinIceSize(), this.mapSettings.getMinIceSpots()));</b>
<b class="nc">&nbsp;        iceCombo.checkpoint();</b>
<b class="nc">&nbsp;        roughsCombo.setSelectedItem(roughsToRange(this.mapSettings.getMinRoughSize(),</b>
<b class="nc">&nbsp;                                                  this.mapSettings.getMinRoughSpots()));</b>
<b class="nc">&nbsp;        roughsCombo.checkpoint();</b>
<b class="nc">&nbsp;        sandsCombo.setSelectedItem(sandsToRange(this.mapSettings.getMinSandSize(),</b>
<b class="nc">&nbsp;                                                this.mapSettings.getMinSandSpots()));</b>
<b class="nc">&nbsp;        sandsCombo.checkpoint();</b>
<b class="nc">&nbsp;        swampsCombo.setSelectedItem(swampsToRange(this.mapSettings.getMinSwampSize(),</b>
<b class="nc">&nbsp;                                                  this.mapSettings.getMinSwampSpots()));</b>
<b class="nc">&nbsp;        swampsCombo.checkpoint();</b>
<b class="nc">&nbsp;        woodsCombo.setSelectedItem(woodsToRange(this.mapSettings.getMinForestSize(),</b>
<b class="nc">&nbsp;                                                this.mapSettings.getMinForestSpots(),</b>
<b class="nc">&nbsp;                                                this.mapSettings.getProbHeavy()));</b>
<b class="nc">&nbsp;        woodsCombo.checkpoint();</b>
<b class="nc">&nbsp;        foliageCombo.setSelectedItem(woodsToRange(this.mapSettings.getMinFoliageSize(),</b>
<b class="nc">&nbsp;                this.mapSettings.getMinFoliageSpots(),</b>
<b class="nc">&nbsp;                this.mapSettings.getProbFoliageHeavy()));</b>
<b class="nc">&nbsp;        foliageCombo.checkpoint();</b>
<b class="nc">&nbsp;        cliffsCombo.setSelectedItem(percentageToRange(this.mapSettings.getCliffs()));</b>
<b class="nc">&nbsp;        cliffsCombo.checkpoint();</b>
<b class="nc">&nbsp;        cratersCombo.setSelectedItem(cratersToRange(this.mapSettings.getProbCrater()));</b>
<b class="nc">&nbsp;        cratersCombo.checkpoint();</b>
<b class="nc">&nbsp;        hillinessCombo.setSelectedItem(percentageToRange(this.mapSettings.getHilliness()));</b>
<b class="nc">&nbsp;        hillinessCombo.checkpoint();</b>
<b class="nc">&nbsp;        mountainCombo.setSelectedItem(convertMountain(this.mapSettings.getMountainPeaks(),</b>
<b class="nc">&nbsp;                                                      this.mapSettings.getMountainHeightMin(),</b>
<b class="nc">&nbsp;                                                      this.mapSettings.getMountainWidthMin(),</b>
<b class="nc">&nbsp;                                                      this.mapSettings.getMountainStyle()));</b>
<b class="nc">&nbsp;        mountainCombo.checkpoint();</b>
<b class="nc">&nbsp;        cityTypeCombo.setSelectedItem(this.mapSettings.getCityType());</b>
<b class="nc">&nbsp;        cityTypeCombo.checkpoint();</b>
<b class="nc">&nbsp;        fortifiedCombo.setSelectedItem(fortifiedToRange(this.mapSettings.getMinFortifiedSize(),</b>
<b class="nc">&nbsp;                                                        this.mapSettings.getMinFortifiedSpots()));</b>
<b class="nc">&nbsp;        fortifiedCombo.checkpoint();</b>
<b class="nc">&nbsp;        pavementCombo.setSelectedItem(pavementToRange(this.mapSettings.getMinPavementSize(),</b>
<b class="nc">&nbsp;                                                      this.mapSettings.getMinPavementSpots()));</b>
<b class="nc">&nbsp;        pavementCombo.checkpoint();</b>
<b class="nc">&nbsp;        plantedFieldsCombo.setSelectedItem(plantedFieldsToRange(this.mapSettings.getMinPlantedFieldSize(),</b>
<b class="nc">&nbsp;                                                                this.mapSettings.getMinPlantedFieldSpots()));</b>
<b class="nc">&nbsp;        plantedFieldsCombo.checkpoint();</b>
<b class="nc">&nbsp;        roadsCombo.setSelectedItem(percentageToRange(this.mapSettings.getProbRoad()));</b>
<b class="nc">&nbsp;        roadsCombo.checkpoint();</b>
<b class="nc">&nbsp;        rubbleCombo.setSelectedItem(rubbleToRange(this.mapSettings.getMinRubbleSize(),</b>
<b class="nc">&nbsp;                                                  this.mapSettings.getMinRubbleSpots()));</b>
<b class="nc">&nbsp;        rubbleCombo.checkpoint();</b>
&nbsp;    }
&nbsp;
&nbsp;    private JScrollPane setupWaterPanel() {
&nbsp;
<b class="nc">&nbsp;        JPanel panel = new JPanel(new SpringLayout());</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel lakesLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labLakes&quot;));</b>
<b class="nc">&nbsp;        panel.add(lakesLabel);</b>
<b class="nc">&nbsp;        lakesCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.lakesCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(lakesCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel riversLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRivers&quot;));</b>
<b class="nc">&nbsp;        panel.add(riversLabel);</b>
<b class="nc">&nbsp;        riversCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.riversCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(riversCombo);</b>
&nbsp;        
<b class="nc">&nbsp;        final JLabel iceLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labIce&quot;));</b>
<b class="nc">&nbsp;        panel.add(iceLabel);</b>
<b class="nc">&nbsp;        iceCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.iceCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(iceCombo);</b>
&nbsp;
<b class="nc">&nbsp;        makeCompactGrid(panel, 3, 2, 6, 6, 6, 6);</b>
<b class="nc">&nbsp;        return new JScrollPane(panel);</b>
&nbsp;    }
&nbsp;    
&nbsp;
&nbsp;    private String iceToRange(int minSize, int minSpots) {
<b class="nc">&nbsp;        return convert(minSize + minSpots, 2, 4, 6);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String lakesToRange(int minSize, int minSpots, int percentDeep) {
<b class="nc">&nbsp;        int range = percentDeep + (minSize * 5) + (minSpots * 10);</b>
<b class="nc">&nbsp;        return convert(range, 20, 65, 100);</b>
&nbsp;    }
&nbsp;    
&nbsp;    private String convert(int value, int low, int med, int high) {
<b class="nc">&nbsp;        if (value &gt;= high) {</b>
<b class="nc">&nbsp;            return HIGH;</b>
<b class="nc">&nbsp;        } else if (value &gt;= med) {</b>
<b class="nc">&nbsp;            return MEDIUM;</b>
<b class="nc">&nbsp;        } else if (value &gt;= low) {</b>
<b class="nc">&nbsp;            return LOW;</b>
&nbsp;        }
<b class="nc">&nbsp;        return NONE;</b>
&nbsp;    }
&nbsp;
&nbsp;    private JScrollPane setupNaturalFeaturesPanel() {
<b class="nc">&nbsp;        JPanel panel = new JPanel(new SpringLayout());</b>
&nbsp;        
<b class="nc">&nbsp;        final JLabel roughsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRough&quot;));</b>
<b class="nc">&nbsp;        panel.add(roughsLabel);</b>
<b class="nc">&nbsp;        roughsCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.roughsCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(roughsCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel sandsLabel = new JLabel(Messages.getString((&quot;RandomMapDialog.labSand&quot;)));</b>
<b class="nc">&nbsp;        panel.add(sandsLabel);</b>
<b class="nc">&nbsp;        sandsCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.sandsCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(sandsCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel swampsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labSwamp&quot;));</b>
<b class="nc">&nbsp;        panel.add(swampsLabel);</b>
<b class="nc">&nbsp;        swampsCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.swampsCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(swampsCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel woodsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labWoods&quot;));</b>
<b class="nc">&nbsp;        panel.add(woodsLabel);</b>
<b class="nc">&nbsp;        woodsCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.woodsCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(woodsCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel foliageLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labFoliage&quot;));</b>
<b class="nc">&nbsp;        panel.add(foliageLabel);</b>
<b class="nc">&nbsp;        foliageCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.foliageCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(foliageCombo);</b>
&nbsp;        
<b class="nc">&nbsp;        makeCompactGrid(panel, 5, 2, 6, 6, 6, 6);</b>
<b class="nc">&nbsp;        return new JScrollPane(panel);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String roughsToRange(int minSize, int minSpots) {
<b class="nc">&nbsp;        return convert(minSize + minSpots, 2, 4, 6);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String sandsToRange(int minSize, int minSpots) {
<b class="nc">&nbsp;        return convert(minSize + minSpots, 2, 4, 6);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String swampsToRange(int minSize, int minSpots) {
<b class="nc">&nbsp;        return convert(minSize + minSpots, 2, 4, 6);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String woodsToRange(int minSize, int minSpots, int percentHeavy) {
<b class="nc">&nbsp;        return convert(percentHeavy + (minSize * 5) + (minSpots * 6), 50, 65, 100);</b>
&nbsp;    }
&nbsp;
&nbsp;    private JScrollPane setupElevationPanel() {
<b class="nc">&nbsp;        JPanel panel = new JPanel(new SpringLayout());</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel cliffsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCliffs&quot;));</b>
<b class="nc">&nbsp;        panel.add(cliffsLabel);</b>
<b class="nc">&nbsp;        cliffsCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.cliffsCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(cliffsCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel cratersLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCraters&quot;));</b>
<b class="nc">&nbsp;        panel.add(cratersLabel);</b>
<b class="nc">&nbsp;        cratersCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.cratersCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(cratersCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel hillinessLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labElevation&quot;));</b>
<b class="nc">&nbsp;        panel.add(hillinessLabel);</b>
<b class="nc">&nbsp;        hillinessCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.hillinessCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(hillinessCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel mountainLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labMountain&quot;));</b>
<b class="nc">&nbsp;        panel.add(mountainLabel);</b>
<b class="nc">&nbsp;        mountainCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.mountainCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(mountainCombo);</b>
&nbsp;        
<b class="nc">&nbsp;        makeCompactGrid(panel, 4, 2, 6, 6, 6, 6);</b>
<b class="nc">&nbsp;        return new JScrollPane(panel);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String cratersToRange(int craterProbability) {
<b class="nc">&nbsp;        return convert(craterProbability, 15, 40, 60);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String convertMountain(int peaks, int minHeight, int minWidth, int style) {
<b class="nc">&nbsp;        if (MapSettings.MOUNTAIN_SNOWCAPPED == style) {</b>
<b class="nc">&nbsp;            return HIGH;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (minWidth &gt;= 10) {</b>
<b class="nc">&nbsp;            return HIGH;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (minHeight &gt;= 8) {</b>
<b class="nc">&nbsp;            return HIGH;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minHeight &gt;= 6) {</b>
<b class="nc">&nbsp;            return MEDIUM;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (peaks &lt; 1) {</b>
<b class="nc">&nbsp;            return NONE;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return LOW;</b>
&nbsp;    }
&nbsp;
&nbsp;    private String percentageToRange(int value) {
<b class="nc">&nbsp;        return convert(value, 15, 40, 60);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String fortifiedToRange(int minSize, int minSpots) {
<b class="nc">&nbsp;        return convert(minSize + minSpots, 2, 3, 5);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String pavementToRange(int minSize, int minSpots) {
<b class="nc">&nbsp;        return convert(minSize + minSpots, 2, 4, 6);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String plantedFieldsToRange(int minSize, int minSpots) {
<b class="nc">&nbsp;        return convert(minSize + minSpots, 2, 4, 6);</b>
&nbsp;    }
&nbsp;
&nbsp;    private String rubbleToRange(int minSize, int minSpots) {
<b class="nc">&nbsp;        return convert(minSize + minSpots, 2, 4, 6);</b>
&nbsp;    }
&nbsp;
&nbsp;    private JScrollPane setupCivilizationPanel() {
<b class="nc">&nbsp;        JPanel panel = new JPanel(new SpringLayout());</b>
&nbsp;        
<b class="nc">&nbsp;        final JLabel cityTypeLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labCity&quot;));</b>
<b class="nc">&nbsp;        panel.add(cityTypeLabel);</b>
<b class="nc">&nbsp;        cityTypeCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.cityTypeCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(cityTypeCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel fortifiedLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labFortified&quot;));</b>
<b class="nc">&nbsp;        panel.add(fortifiedLabel);</b>
<b class="nc">&nbsp;        fortifiedCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.fortifiedCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(fortifiedCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel pavementLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labPavement&quot;));</b>
<b class="nc">&nbsp;        panel.add(pavementLabel);</b>
<b class="nc">&nbsp;        pavementCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.pavementCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(pavementCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel plantedFieldsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labPlantedField&quot;));</b>
<b class="nc">&nbsp;        panel.add(plantedFieldsLabel);</b>
<b class="nc">&nbsp;        plantedFieldsCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.plantedFieldsCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(plantedFieldsCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel roadsLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRoads&quot;));</b>
<b class="nc">&nbsp;        panel.add(roadsLabel);</b>
<b class="nc">&nbsp;        roadsCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.roadsCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(roadsCombo);</b>
&nbsp;
<b class="nc">&nbsp;        final JLabel rubbleLabel = new JLabel(Messages.getString(&quot;RandomMapDialog.labRubble&quot;));</b>
<b class="nc">&nbsp;        panel.add(rubbleLabel);</b>
<b class="nc">&nbsp;        rubbleCombo.setToolTipText(Messages.getString(&quot;RandomMapDialog.rubbleCombo.toolTip&quot;));</b>
<b class="nc">&nbsp;        panel.add(rubbleCombo);</b>
&nbsp;        
<b class="nc">&nbsp;        makeCompactGrid(panel, 6, 2, 6, 6, 6, 6);</b>
<b class="nc">&nbsp;        return new JScrollPane(panel);</b>
&nbsp;    }
&nbsp;
&nbsp;    public MapSettings getMapSettings() {
<b class="nc">&nbsp;        MapSettings newMapSettings = MapSettings.getInstance(mapSettings);</b>
&nbsp;        String value;
<b class="nc">&nbsp;        boolean anyChanges = false;</b>
&nbsp;
<b class="nc">&nbsp;        if (hillinessCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) hillinessCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupHills(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (cliffsCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) cliffsCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            newMapSettings.setCliffParam(rangeToPercentage(value));</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (woodsCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) woodsCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupWoods(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;        
<b class="nc">&nbsp;        if (foliageCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) foliageCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupFoliage(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (lakesCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) lakesCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupLakes(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (roughsCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) roughsCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupRoughs(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (sandsCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) sandsCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupSand(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (plantedFieldsCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) plantedFieldsCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupPlantedFields(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (swampsCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) swampsCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupSwamps(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (pavementCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) pavementCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupPavement(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (rubbleCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) rubbleCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupRubble(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (fortifiedCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) fortifiedCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupFortified(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (iceCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) iceCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupIce(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (roadsCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) roadsCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            newMapSettings.setRoadParam(rangeToPercentage(value));</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (riversCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) riversCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            newMapSettings.setRiverParam(rangeToPercentage(value));</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (cratersCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) cratersCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupCraters(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (mountainCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) mountainCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupMountains(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (cityTypeCombo.hasChanged()) {</b>
<b class="nc">&nbsp;            value = (String) cityTypeCombo.getSelectedItem();</b>
<b class="nc">&nbsp;            setupCity(value, newMapSettings);</b>
<b class="nc">&nbsp;            anyChanges = true;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (anyChanges) {</b>
<b class="nc">&nbsp;            newMapSettings.setAlgorithmToUse(0);</b>
<b class="nc">&nbsp;            newMapSettings.setSpecialFX(0, 0, 0, 0, 0);</b>
<b class="nc">&nbsp;            newMapSettings.setInvertNegativeTerrain(0);</b>
<b class="nc">&nbsp;            return newMapSettings;</b>
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        return mapSettings;</b>
&nbsp;    }
&nbsp;
&nbsp;    private void setupCity(String cityType, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(cityType)) {</b>
<b class="nc">&nbsp;            mapSettings.setCityParams(0, cityType, 0, 0, 0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (NONE.equalsIgnoreCase(cityType)) {</b>
<b class="nc">&nbsp;            mapSettings.setCityParams(3, cityType, 10, 50, 1, 3, 75, 60);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setCityParams(16, cityType, 10, 100, 1, 6, 75, 60);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupMountains(String mountainsValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(mountainsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setMountainParams(0, 7, 10, 4, 6, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(mountainsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setMountainParams(1, 7, 10, 4, 6, 0);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(mountainsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setMountainParams(2, 7, 10, 6, 8, 0);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setMountainParams(3, 9, 14, 8, 10, MapSettings.MOUNTAIN_SNOWCAPPED);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupCraters(String cratersValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(cratersValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setCraterParam(0, 0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(cratersValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setCraterParam(25, 1, 3, 1, 3);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(cratersValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setCraterParam(50, 3, 8, 1, 5);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setCraterParam(75, 6, 14, 3, 9);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupIce(String iceValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(iceValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setIceParams(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(iceValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setIceParams(2, 6, 1, 2);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(iceValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setIceParams(2, 5, 3, 8);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setIceParams(5, 10, 3, 7);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupFortified(String fortifiedValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(fortifiedValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setFortifiedParams(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(fortifiedValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setFortifiedParams(1, 2, 1, 2);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(fortifiedValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setFortifiedParams(2, 4, 2, 3);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setFortifiedParams(2, 4, 3, 6);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupRubble(String rubbleValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(rubbleValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setRubbleParams(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(rubbleValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setRubbleParams(2, 6, 1, 2);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(rubbleValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setRubbleParams(3, 8, 2, 5);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setRubbleParams(5, 10, 3, 7);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupPavement(String pavementValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(pavementValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setPavementParams(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(pavementValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setPavementParams(2, 6, 1, 2);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(pavementValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setPavementParams(3, 8, 2, 5);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setPavementParams(5, 10, 3, 7);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupSwamps(String swampsValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(swampsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setSwampParams(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(swampsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setSwampParams(2, 6, 1, 2);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(swampsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setSwampParams(3, 8, 2, 5);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setSwampParams(5, 10, 3, 7);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupPlantedFields(String fieldsValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(fieldsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setPlantedFieldParams(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(fieldsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setPlantedFieldParams(2, 6, 1, 2);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(fieldsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setPlantedFieldParams(3, 8, 2, 5);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setPlantedFieldParams(5, 10, 3, 7);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupSand(String sandsValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(sandsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setSandParams(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(sandsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setSandParams(2, 6, 1, 2);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(sandsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setSandParams(3, 8, 2, 5);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setSandParams(5, 10, 3, 7);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupRoughs(String roughsValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(roughsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setRoughParams(0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(roughsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setRoughParams(2, 6, 1, 2);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(roughsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setRoughParams(3, 8, 2, 5);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setRoughParams(5, 10, 3, 7);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupLakes(String lakesValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(lakesValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setWaterParams(0, 0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(lakesValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setWaterParams(1, 5, 1, 5, 20);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(lakesValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setWaterParams(2, 5, 6, 10, 30);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setWaterParams(3, 6, 8, 15, 45);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupWoods(String woodsValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(woodsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setForestParams(0, 0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(woodsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setForestParams(3, 6, 3, 6, 20);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(woodsValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setForestParams(4, 8, 3, 10, 30);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setForestParams(6, 10, 8, 13, 45);</b>
&nbsp;        }
&nbsp;    }
&nbsp;    
&nbsp;    private void setupFoliage(String foliageValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(foliageValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setFoliageParams(0, 0, 0, 0, 0);</b>
<b class="nc">&nbsp;        } else if (LOW.equalsIgnoreCase(foliageValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setFoliageParams(3, 6, 3, 6, 20);</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(foliageValue)) {</b>
<b class="nc">&nbsp;            mapSettings.setFoliageParams(4, 8, 3, 10, 30);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            mapSettings.setFoliageParams(6, 10, 8, 13, 45);</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupHills(String hillsValue, MapSettings mapSettings) {
<b class="nc">&nbsp;        int percent = rangeToPercentage(hillsValue);</b>
<b class="nc">&nbsp;        int range = 0;</b>
<b class="nc">&nbsp;        if (LOW.equalsIgnoreCase(hillsValue)) {</b>
<b class="nc">&nbsp;            range = 3;</b>
<b class="nc">&nbsp;        } else if (MEDIUM.equalsIgnoreCase(hillsValue)) {</b>
<b class="nc">&nbsp;            range = 5;</b>
<b class="nc">&nbsp;        } else if (HIGH.equalsIgnoreCase(hillsValue)) {</b>
<b class="nc">&nbsp;            range = 8;</b>
&nbsp;        }
<b class="nc">&nbsp;        mapSettings.setElevationParams(percent, range, 0);</b>
&nbsp;    }
&nbsp;
&nbsp;    private int rangeToPercentage(String range) {
<b class="nc">&nbsp;        if (NONE.equalsIgnoreCase(range)) {</b>
<b class="nc">&nbsp;            return 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (LOW.equals(range)) {</b>
<b class="nc">&nbsp;            return 25;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (MEDIUM.equals(range)) {</b>
<b class="nc">&nbsp;            return 50;</b>
&nbsp;        }
<b class="nc">&nbsp;        return 75;</b>
&nbsp;    }
&nbsp;    
&nbsp;    /**
&nbsp;     * From https://docs.oracle.com/javase/tutorial/uiswing/examples/layout/SpringGridProject/src/layout/SpringUtilities.java
&nbsp;     * 
&nbsp;     * Aligns the first &lt;code&gt;rows&lt;/code&gt; * &lt;code&gt;cols&lt;/code&gt;
&nbsp;     * components of &lt;code&gt;parent&lt;/code&gt; in
&nbsp;     * a grid. Each component in a column is as wide as the maximum
&nbsp;     * preferred width of the components in that column;
&nbsp;     * height is similarly determined for each row.
&nbsp;     * The parent is made just big enough to fit them all.
&nbsp;     *
&nbsp;     * @param rows number of rows
&nbsp;     * @param cols number of columns
&nbsp;     * @param initialX x location to start the grid at
&nbsp;     * @param initialY y location to start the grid at
&nbsp;     * @param xPad x padding between cells
&nbsp;     * @param yPad y padding between cells
&nbsp;     */
&nbsp;    public static void makeCompactGrid(Container parent,
&nbsp;            int rows, int cols,
&nbsp;            int initialX, int initialY,
&nbsp;            int xPad, int yPad) {
&nbsp;        SpringLayout layout;
&nbsp;        try {
<b class="nc">&nbsp;            layout = (SpringLayout)parent.getLayout();</b>
<b class="nc">&nbsp;        } catch (ClassCastException exc) {</b>
<b class="nc">&nbsp;            System.err.println(&quot;The first argument to makeCompactGrid must use SpringLayout.&quot;);</b>
&nbsp;            return;
<b class="nc">&nbsp;        }</b>
&nbsp;
&nbsp;        //Align all cells in each column and make them the same width.
<b class="nc">&nbsp;        Spring x = Spring.constant(initialX);</b>
<b class="nc">&nbsp;        for (int c = 0; c &lt; cols; c++) {</b>
<b class="nc">&nbsp;            Spring width = Spring.constant(0);</b>
<b class="nc">&nbsp;            for (int r = 0; r &lt; rows; r++) {</b>
<b class="nc">&nbsp;                width = Spring.max(width,</b>
<b class="nc">&nbsp;                        getConstraintsForCell(r, c, parent, cols).</b>
<b class="nc">&nbsp;                        getWidth());</b>
&nbsp;            }
<b class="nc">&nbsp;            for (int r = 0; r &lt; rows; r++) {</b>
<b class="nc">&nbsp;                SpringLayout.Constraints constraints =</b>
<b class="nc">&nbsp;                        getConstraintsForCell(r, c, parent, cols);</b>
<b class="nc">&nbsp;                constraints.setX(x);</b>
<b class="nc">&nbsp;                constraints.setWidth(width);</b>
&nbsp;            }
<b class="nc">&nbsp;            x = Spring.sum(x, Spring.sum(width, Spring.constant(xPad)));</b>
&nbsp;        }
&nbsp;
&nbsp;        //Align all cells in each row and make them the same height.
<b class="nc">&nbsp;        Spring y = Spring.constant(initialY);</b>
<b class="nc">&nbsp;        for (int r = 0; r &lt; rows; r++) {</b>
<b class="nc">&nbsp;            Spring height = Spring.constant(0);</b>
<b class="nc">&nbsp;            for (int c = 0; c &lt; cols; c++) {</b>
<b class="nc">&nbsp;                height = Spring.max(height,</b>
<b class="nc">&nbsp;                        getConstraintsForCell(r, c, parent, cols).</b>
<b class="nc">&nbsp;                        getHeight());</b>
&nbsp;            }
<b class="nc">&nbsp;            for (int c = 0; c &lt; cols; c++) {</b>
<b class="nc">&nbsp;                SpringLayout.Constraints constraints =</b>
<b class="nc">&nbsp;                        getConstraintsForCell(r, c, parent, cols);</b>
<b class="nc">&nbsp;                constraints.setY(y);</b>
<b class="nc">&nbsp;                constraints.setHeight(height);</b>
&nbsp;            }
<b class="nc">&nbsp;            y = Spring.sum(y, Spring.sum(height, Spring.constant(yPad)));</b>
&nbsp;        }
&nbsp;
&nbsp;        //Set the parent&#39;s size.
<b class="nc">&nbsp;        SpringLayout.Constraints pCons = layout.getConstraints(parent);</b>
<b class="nc">&nbsp;        pCons.setConstraint(SpringLayout.SOUTH, y);</b>
<b class="nc">&nbsp;        pCons.setConstraint(SpringLayout.EAST, x);</b>
&nbsp;    }
&nbsp;
&nbsp;    private static SpringLayout.Constraints getConstraintsForCell(
&nbsp;            int row, int col,
&nbsp;            Container parent,
&nbsp;            int cols) {
<b class="nc">&nbsp;        SpringLayout layout = (SpringLayout) parent.getLayout();</b>
<b class="nc">&nbsp;        Component c = parent.getComponent(row * cols + col);</b>
<b class="nc">&nbsp;        return layout.getConstraints(c);</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-05-16 16:28</div>
</div>
</body>
</html>
