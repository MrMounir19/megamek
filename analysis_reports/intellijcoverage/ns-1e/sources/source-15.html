


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > ChassisType</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">megamek.common.loaders</a>
</div>

<h1>Coverage Summary for Class: ChassisType (megamek.common.loaders)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">ChassisType</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/10)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * MegaMek - Copyright (C) 2000,2001,2002,2003,2004 Ben Mazur (bmazur@sev.org)
&nbsp; *
&nbsp; *  This program is free software; you can redistribute it and/or modify it
&nbsp; *  under the terms of the GNU General Public License as published by the Free
&nbsp; *  Software Foundation; either version 2 of the License, or (at your option)
&nbsp; *  any later version.
&nbsp; *
&nbsp; *  This program is distributed in the hope that it will be useful, but
&nbsp; *  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
&nbsp; *  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
&nbsp; *  for more details.
&nbsp; */
&nbsp;
&nbsp;/* OMIT_FOR_JHMPREAD_COMPILATION BLOCK_BEGIN */
&nbsp;package megamek.common.loaders;
&nbsp;
&nbsp;/* BLOCK_END */
&nbsp;
&nbsp;import java.io.BufferedWriter;
&nbsp;import java.io.DataInputStream;
&nbsp;import java.io.File;
&nbsp;import java.io.FileInputStream;
&nbsp;import java.io.FileWriter;
&nbsp;import java.io.IOException;
&nbsp;import java.io.InputStream;
&nbsp;import java.io.Serializable;
&nbsp;import java.math.BigInteger;
&nbsp;import java.util.Hashtable;
&nbsp;import java.util.Objects;
&nbsp;import java.util.Vector;
&nbsp;
&nbsp;import megamek.common.ArmlessMech;
&nbsp;import megamek.common.BipedMech;
&nbsp;import megamek.common.CriticalSlot;
&nbsp;import megamek.common.Engine;
&nbsp;import megamek.common.Entity;
&nbsp;import megamek.common.EntityMovementMode;
&nbsp;import megamek.common.EquipmentType;
&nbsp;import megamek.common.LocationFullException;
&nbsp;import megamek.common.Mech;
&nbsp;import megamek.common.MiscType;
&nbsp;import megamek.common.Mounted;
&nbsp;import megamek.common.QuadMech;
&nbsp;import megamek.common.TechConstants;
&nbsp;import megamek.common.WeaponType;
&nbsp;
&nbsp;/* BLOCK_END */
&nbsp;
&nbsp;/**
&nbsp; * Based on the hmpread.c program and the MtfFile object. Note that this class
&nbsp; * doubles as both a MM Heavy Metal Pro parser and a HMP to MTF file converter
&nbsp; * (when the &quot;main&quot; method is used).
&nbsp; *
&nbsp; * @author &lt;a href=&quot;mailto:mnewcomb@sourceforge.net&quot;&gt;Michael Newcomb&lt;/a&gt;
&nbsp; * @version $Revision$ Modified by Ryan McConnell (oscarmm) with lots of
&nbsp; *          help from Ian Hamilton.
&nbsp; */
&nbsp;public class HmpFile
&nbsp;/* OMIT_FOR_JHMPREAD_COMPILATION BLOCK_BEGIN */
&nbsp;implements IMechLoader
&nbsp;/* BLOCK_END */
&nbsp;{
&nbsp;    private String name;
&nbsp;    private String model;
&nbsp;    private String fluff = null;
&nbsp;
&nbsp;    private ChassisType chassisType;
&nbsp;
&nbsp;    private TechType techType;
&nbsp;
&nbsp;    private TechType mixedBaseTechType;
&nbsp;    private TechType engineTechType;
&nbsp;    private TechType heatSinkTechType;
&nbsp;    private TechType physicalWeaponTechType;
&nbsp;    private TechType targetingComputerTechType;
&nbsp;    private TechType myomerTechType;
&nbsp;    private TechType armorTechType;
&nbsp;
&nbsp;    private int year;
&nbsp;    private int rulesLevel;
&nbsp;
&nbsp;    private int tonnage;
&nbsp;
&nbsp;    private InternalStructureType internalStructureType;
&nbsp;    private int engineRating;
&nbsp;    private EngineType engineType;
&nbsp;    private ArmorType armorType;
&nbsp;
&nbsp;    private int heatSinks;
&nbsp;    private HeatSinkType heatSinkType;
&nbsp;
&nbsp;    private int walkMP;
&nbsp;    private int jumpMP;
&nbsp;
&nbsp;    private int laArmor;
&nbsp;    private ArmorType laArmorType;
&nbsp;    private int ltArmor;
&nbsp;    private ArmorType ltArmorType;
&nbsp;    private int ltrArmor;
&nbsp;    private ArmorType ltrArmorType;
&nbsp;    private int llArmor;
&nbsp;    private ArmorType llArmorType;
&nbsp;
&nbsp;    private int raArmor;
&nbsp;    private ArmorType raArmorType;
&nbsp;    private int rtArmor;
&nbsp;    private ArmorType rtArmorType;
&nbsp;    private int rtrArmor;
&nbsp;    private ArmorType rtrArmorType;
&nbsp;    private int rlArmor;
&nbsp;    private ArmorType rlArmorType;
&nbsp;
&nbsp;    private int headArmor;
&nbsp;    private ArmorType headArmorType;
&nbsp;
&nbsp;    private int ctArmor;
&nbsp;    private ArmorType ctArmorType;
&nbsp;    private int ctrArmor;
&nbsp;    private ArmorType ctrArmorType;
&nbsp;
&nbsp;    private MyomerType myomerType;
&nbsp;
&nbsp;    private int totalWeaponCount;
&nbsp;    private int[][] weaponArray;
&nbsp;
&nbsp;    private long[] laCriticals = new long[12];
&nbsp;    private long[] ltCriticals = new long[12];
&nbsp;    private long[] llCriticals = new long[12];
&nbsp;
&nbsp;    private long[] raCriticals = new long[12];
&nbsp;    private long[] rtCriticals = new long[12];
&nbsp;    private long[] rlCriticals = new long[12];
&nbsp;
&nbsp;    private long[] headCriticals = new long[12];
&nbsp;    private long[] ctCriticals = new long[12];
&nbsp;
&nbsp;    private Hashtable&lt;EquipmentType, Mounted&gt; spreadEquipment = new Hashtable&lt;EquipmentType, Mounted&gt;();
&nbsp;    private Vector&lt;Mounted&gt; vSplitWeapons = new Vector&lt;Mounted&gt;();
&nbsp;
&nbsp;    private int gyroType = Mech.GYRO_STANDARD;
&nbsp;    private int cockpitType = Mech.COCKPIT_STANDARD;
&nbsp;    private int jjType;
&nbsp;
&nbsp;    private int atmCounter = 0;
&nbsp;    private int lbxCounter = 0;
&nbsp;
&nbsp;    public HmpFile(InputStream is)
&nbsp;    /* OMIT_FOR_JHMPREAD_COMPILATION BLOCK_BEGIN */
&nbsp;    throws EntityLoadingException
&nbsp;    /* BLOCK_END */
&nbsp;    {
&nbsp;        try {
&nbsp;            DataInputStream dis = new DataInputStream(is);
&nbsp;
&nbsp;            byte[] buffer = new byte[5];
&nbsp;            dis.read(buffer);
&nbsp;            // String version = new String(buffer); //never used
&nbsp;
&nbsp;            // this next one no longer seems accurate...
&nbsp;            // DesignType designType =
&nbsp;            // DesignType.getType(readUnsignedByte(dis));
&nbsp;            readUnsignedByte(dis);
&nbsp;
&nbsp;            // ??
&nbsp;            dis.skipBytes(3);
&nbsp;
&nbsp;            // some flags saying which Clans use this design
&nbsp;            dis.skipBytes(3);
&nbsp;
&nbsp;            // ??
&nbsp;            dis.skipBytes(1);
&nbsp;
&nbsp;            // some flags saying which Inner Sphere factions use this design
&nbsp;            dis.skipBytes(3);
&nbsp;
&nbsp;            // ??
&nbsp;            dis.skipBytes(1);
&nbsp;
&nbsp;            tonnage = readUnsignedShort(dis);
&nbsp;
&nbsp;            buffer = new byte[readUnsignedShort(dis)];
&nbsp;            dis.read(buffer);
&nbsp;            name = new String(buffer);
&nbsp;
&nbsp;            buffer = new byte[readUnsignedShort(dis)];
&nbsp;            dis.read(buffer);
&nbsp;            model = new String(buffer);
&nbsp;
&nbsp;            year = readUnsignedShort(dis);
&nbsp;
&nbsp;            rulesLevel = readUnsignedShort(dis);
&nbsp;
&nbsp;            // long cost = readUnsignedInt(dis);
&nbsp;            readUnsignedInt(dis);
&nbsp;
&nbsp;            // ??
&nbsp;            dis.skipBytes(22);
&nbsp;
&nbsp;            // section with BF2 stuff
&nbsp;            int bf2Length = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(bf2Length);
&nbsp;
&nbsp;            techType = TechType.getType(readUnsignedShort(dis));
&nbsp;
&nbsp;            if (techType == TechType.MIXED) {
&nbsp;                // We&#39;ve got a total of 7 shorts here.
&nbsp;                // The first one is the mech&#39;s &quot;base&quot; chassis technology type.
&nbsp;                // It also doubles as the internal structure type.
&nbsp;                mixedBaseTechType = TechType.getType(readUnsignedShort(dis));
&nbsp;                // Next we have engine, heat sinks, physical attack weapon,
&nbsp;                // myomer, targeting computer, and finally armor. Note that
&nbsp;                // these 14 bytes are always present in mixed-tech designs,
&nbsp;                // whether the specific equipment exists on the mech or not.
&nbsp;                engineTechType = TechType.getType(readUnsignedShort(dis));
&nbsp;                heatSinkTechType = TechType.getType(readUnsignedShort(dis));
&nbsp;                physicalWeaponTechType = TechType.getType(readUnsignedShort(dis));
&nbsp;                myomerTechType = TechType.getType(readUnsignedShort(dis));
&nbsp;                targetingComputerTechType = TechType.getType(readUnsignedShort(dis));
&nbsp;                armorTechType = TechType.getType(readUnsignedShort(dis));
&nbsp;            }
&nbsp;
&nbsp;            chassisType = ChassisType.getType(readUnsignedShort(dis));
&nbsp;
&nbsp;            internalStructureType = InternalStructureType.getType(readUnsignedShort(dis));
&nbsp;
&nbsp;            engineRating = readUnsignedShort(dis);
&nbsp;            engineType = EngineType.getType(readUnsignedShort(dis));
&nbsp;
&nbsp;            walkMP = readUnsignedShort(dis);
&nbsp;            jumpMP = readUnsignedShort(dis);
&nbsp;
&nbsp;            heatSinks = readUnsignedShort(dis);
&nbsp;            heatSinkType = HeatSinkType.getType(readUnsignedShort(dis));
&nbsp;            if (heatSinkType == HeatSinkType.COMPACT) {
&nbsp;                heatSinks *= 2;
&nbsp;            }
&nbsp;
&nbsp;            armorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;
&nbsp;            if (armorType == ArmorType.PATCHWORK) {
&nbsp;                laArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                ltArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                llArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                raArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                rtArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                rlArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                headArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                ctArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                ltrArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                rtrArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;                ctrArmorType = ArmorType.getType(readUnsignedShort(dis));
&nbsp;            }
&nbsp;
&nbsp;            dis.skipBytes(2); // ??
&nbsp;            laArmor = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(4); // ??
&nbsp;            ltArmor = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(4); // ??
&nbsp;            llArmor = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(4); // ??
&nbsp;            raArmor = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(4); // ??
&nbsp;            rtArmor = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(2); // ??
&nbsp;            jjType = readUnsignedShort(dis);
&nbsp;            rlArmor = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(4); // ??
&nbsp;            headArmor = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(4); // ??
&nbsp;            ctArmor = readUnsignedShort(dis);
&nbsp;            dis.skipBytes(2); // ??
&nbsp;            ltrArmor = readUnsignedShort(dis);
&nbsp;            rtrArmor = readUnsignedShort(dis);
&nbsp;            ctrArmor = readUnsignedShort(dis);
&nbsp;
&nbsp;            myomerType = MyomerType.getType(readUnsignedShort(dis));
&nbsp;
&nbsp;            totalWeaponCount = readUnsignedShort(dis);
&nbsp;            weaponArray = new int[totalWeaponCount][4];
&nbsp;            for (int i = 0; i &lt; totalWeaponCount; i++) {
&nbsp;                weaponArray[i][0] = readUnsignedShort(dis); // weapon count
&nbsp;                weaponArray[i][1] = readUnsignedShort(dis); // weapon type
&nbsp;                weaponArray[i][2] = readUnsignedShort(dis); // weapon location
&nbsp;                weaponArray[i][3] = readUnsignedShort(dis); // ammo
&nbsp;
&nbsp;                dis.skipBytes(2); // ??
&nbsp;
&nbsp;                // manufacturer name
&nbsp;                dis.skipBytes(readUnsignedShort(dis));
&nbsp;            }
&nbsp;
&nbsp;            // left arm criticals
&nbsp;            for (int x = 0; x &lt; 12; x++) {
&nbsp;                laCriticals[x] = readUnsignedInt(dis);
&nbsp;            }
&nbsp;
&nbsp;            // left torso criticals
&nbsp;            for (int x = 0; x &lt; 12; x++) {
&nbsp;                ltCriticals[x] = readUnsignedInt(dis);
&nbsp;            }
&nbsp;
&nbsp;            // left leg criticals
&nbsp;            for (int x = 0; x &lt; 12; x++) {
&nbsp;                llCriticals[x] = readUnsignedInt(dis);
&nbsp;            }
&nbsp;
&nbsp;            // right arm criticals
&nbsp;            for (int x = 0; x &lt; 12; x++) {
&nbsp;                raCriticals[x] = readUnsignedInt(dis);
&nbsp;            }
&nbsp;
&nbsp;            // right torso criticals
&nbsp;            for (int x = 0; x &lt; 12; x++) {
&nbsp;                rtCriticals[x] = readUnsignedInt(dis);
&nbsp;            }
&nbsp;
&nbsp;            // right leg criticals
&nbsp;            for (int x = 0; x &lt; 12; x++) {
&nbsp;                rlCriticals[x] = readUnsignedInt(dis);
&nbsp;            }
&nbsp;
&nbsp;            // head criticals
&nbsp;            for (int x = 0; x &lt; 12; x++) {
&nbsp;                headCriticals[x] = readUnsignedInt(dis);
&nbsp;            }
&nbsp;
&nbsp;            // center torso criticals
&nbsp;            for (int x = 0; x &lt; 12; x++) {
&nbsp;                ctCriticals[x] = readUnsignedInt(dis);
&nbsp;            }
&nbsp;
&nbsp;            dis.skipBytes(4);
&nbsp;
&nbsp;            int fluffSize = 0;
&nbsp;            fluff = &quot;Overview:\n\r&quot;;
&nbsp;            buffer = new byte[readUnsignedShort(dis)];
&nbsp;            dis.read(buffer);
&nbsp;            fluff += new String(buffer);
&nbsp;            fluffSize += new String(buffer).length();
&nbsp;
&nbsp;            fluff += &quot;\n\rCapability:\n\r&quot;;
&nbsp;            buffer = new byte[readUnsignedShort(dis)];
&nbsp;            dis.read(buffer);
&nbsp;            fluff += new String(buffer);
&nbsp;            fluffSize += new String(buffer).length();
&nbsp;
&nbsp;            fluff += &quot;\n\rBattle History:\n\r&quot;;
&nbsp;            buffer = new byte[readUnsignedShort(dis)];
&nbsp;            dis.read(buffer);
&nbsp;            fluff += new String(buffer);
&nbsp;            fluffSize += new String(buffer).length();
&nbsp;
&nbsp;            fluff += &quot;\n\rVariants:\n\r&quot;;
&nbsp;            buffer = new byte[readUnsignedShort(dis)];
&nbsp;            dis.read(buffer);
&nbsp;            fluff += new String(buffer);
&nbsp;            fluffSize += new String(buffer).length();
&nbsp;
&nbsp;            fluff += &quot;\n\rFamous Mechs and Warriors:\n\r&quot;;
&nbsp;            buffer = new byte[readUnsignedShort(dis)];
&nbsp;            dis.read(buffer);
&nbsp;            fluff += new String(buffer);
&nbsp;            fluffSize += new String(buffer).length();
&nbsp;
&nbsp;            fluff += &quot;\n\rDeployment:\n\r&quot;;
&nbsp;            buffer = new byte[readUnsignedShort(dis)];
&nbsp;            dis.read(buffer);
&nbsp;            fluff += new String(buffer);
&nbsp;            fluffSize += new String(buffer).length();
&nbsp;
&nbsp;            // just a catch all for small Fluffs anything well less then 10
&nbsp;            // characters, per section, isn&#39;t worth printing.
&nbsp;            if (fluffSize &lt;= 60) {
&nbsp;                fluff = null;
&nbsp;            }
&nbsp;
&nbsp;            // non printing notes
&nbsp;            dis.skipBytes(readUnsignedShort(dis));
&nbsp;            dis.skipBytes(readUnsignedShort(dis));
&nbsp;
&nbsp;            dis.skipBytes(8); // mechs with supercharger have an 01 in here,
&nbsp;            // but we can identify from the criticals
&nbsp;
&nbsp;            // Get cockpit and gyro type, if any.
&nbsp;            if (rulesLevel &gt; 2) {
&nbsp;                gyroType = readUnsignedShort(dis);
&nbsp;                cockpitType = readUnsignedShort(dis);
&nbsp;                dis.skipBytes(16);
&nbsp;                readUnsignedShort(dis);
&nbsp;            } else {
&nbsp;                gyroType = Mech.GYRO_STANDARD;
&nbsp;                cockpitType = Mech.COCKPIT_STANDARD;
&nbsp;            }
&nbsp;
&nbsp;            dis.close();
&nbsp;        } catch (IOException ex) {
&nbsp;            ex.printStackTrace();
&nbsp;            /* OMIT_FOR_JHMPREAD_COMPILATION BLOCK_BEGIN */
&nbsp;            throw new EntityLoadingException(&quot;I/O Error reading file&quot;);
&nbsp;            /* BLOCK_END */
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private short readUnsignedByte(DataInputStream dis) throws IOException {
&nbsp;        short b = dis.readByte();
&nbsp;        b += b &lt; 0 ? 256 : 0;
&nbsp;        return b;
&nbsp;    }
&nbsp;
&nbsp;    private int readUnsignedShort(DataInputStream dis) throws IOException {
&nbsp;        int b2 = readUnsignedByte(dis);
&nbsp;
&nbsp;        int b1 = readUnsignedByte(dis);
&nbsp;        b1 &lt;&lt;= 8;
&nbsp;
&nbsp;        return b1 + b2;
&nbsp;    }
&nbsp;
&nbsp;    private long readUnsignedInt(DataInputStream dis) throws IOException {
&nbsp;        long b4 = readUnsignedByte(dis);
&nbsp;
&nbsp;        long b3 = readUnsignedByte(dis);
&nbsp;        b3 &lt;&lt;= 8;
&nbsp;
&nbsp;        long b2 = readUnsignedByte(dis);
&nbsp;        b2 &lt;&lt;= 16;
&nbsp;
&nbsp;        long b1 = readUnsignedByte(dis);
&nbsp;        b1 &lt;&lt;= 32;
&nbsp;
&nbsp;        return b1 + b2 + b3 + b4;
&nbsp;    }
&nbsp;
&nbsp;    /* OMIT_FOR_JHMPREAD_COMPILATION BLOCK_BEGIN */
&nbsp;    public Entity getEntity() throws EntityLoadingException {
&nbsp;        try {
&nbsp;            Mech mech = null;
&nbsp;            if ((chassisType == ChassisType.QUADRAPED_OMNI) || (chassisType == ChassisType.QUADRAPED)) {
&nbsp;                mech = new QuadMech(gyroType, cockpitType);
&nbsp;            } else if (chassisType == ChassisType.ARMLESS) {
&nbsp;                mech = new ArmlessMech(gyroType, cockpitType);
&nbsp;            } else {
&nbsp;                mech = new BipedMech(gyroType, cockpitType);
&nbsp;            }
&nbsp;
&nbsp;            mech.setChassis(name);
&nbsp;            mech.setModel(model);
&nbsp;            mech.setYear(year);
&nbsp;            mech.getFluff().setCapabilities(fluff);
&nbsp;
&nbsp;            mech.setOmni((chassisType == ChassisType.BIPED_OMNI) || (chassisType == ChassisType.QUADRAPED_OMNI));
&nbsp;
&nbsp;            if (techType == TechType.INNER_SPHERE) {
&nbsp;                switch (rulesLevel) {
&nbsp;                    case 1:
&nbsp;                        mech.setTechLevel(TechConstants.T_INTRO_BOXSET);
&nbsp;                        break;
&nbsp;                    case 2:
&nbsp;                        mech.setTechLevel(TechConstants.T_IS_TW_NON_BOX);
&nbsp;                        break;
&nbsp;                    case 3:
&nbsp;                        mech.setTechLevel(TechConstants.T_IS_ADVANCED);
&nbsp;                        break;
&nbsp;                    default:
&nbsp;                        throw new EntityLoadingException(&quot;Unsupported tech level: &quot; + rulesLevel);
&nbsp;                }
&nbsp;            } else if (techType == TechType.CLAN) {
&nbsp;                switch (rulesLevel) {
&nbsp;                    case 2:
&nbsp;                        mech.setTechLevel(TechConstants.T_CLAN_TW);
&nbsp;                        break;
&nbsp;                    case 3:
&nbsp;                        mech.setTechLevel(TechConstants.T_CLAN_ADVANCED);
&nbsp;                        break;
&nbsp;                    default:
&nbsp;                        throw new EntityLoadingException(&quot;Unsupported tech level: &quot; + rulesLevel);
&nbsp;                }
&nbsp;            } else if ((techType == TechType.MIXED) &amp;&amp; (mixedBaseTechType == TechType.INNER_SPHERE)) {
&nbsp;                mech.setTechLevel(TechConstants.T_IS_EXPERIMENTAL);
&nbsp;                mech.setMixedTech(true);
&nbsp;            } else if ((techType == TechType.MIXED) &amp;&amp; (mixedBaseTechType == TechType.CLAN)) {
&nbsp;                mech.setTechLevel(TechConstants.T_CLAN_EXPERIMENTAL);
&nbsp;                mech.setMixedTech(true);
&nbsp;            } else {
&nbsp;                throw new EntityLoadingException(&quot;Unsupported tech base: &quot; + techType);
&nbsp;            }
&nbsp;
&nbsp;            mech.setWeight(tonnage);
&nbsp;
&nbsp;            int engineFlags = 0;
&nbsp;            if ((techType == TechType.CLAN) || (engineTechType == TechType.CLAN)) {
&nbsp;                engineFlags = Engine.CLAN_ENGINE;
&nbsp;            }
&nbsp;            mech.setEngine(new Engine(engineRating, Engine.getEngineTypeByString(engineType.toString()), engineFlags));
&nbsp;
&nbsp;            mech.setOriginalJumpMP(jumpMP);
&nbsp;
&nbsp;            mech.setStructureType(internalStructureType.toString());
&nbsp;            mech.autoSetInternal();
&nbsp;
&nbsp;            mech.setArmorType(armorType.toString());
&nbsp;            if (armorTechType == TechType.CLAN) {
&nbsp;                switch (rulesLevel) {
&nbsp;                    case 2:
&nbsp;                        mech.setArmorTechLevel(TechConstants.T_CLAN_TW);
&nbsp;                        break;
&nbsp;                    case 3:
&nbsp;                        mech.setArmorTechLevel(TechConstants.T_CLAN_ADVANCED);
&nbsp;                        break;
&nbsp;                    default:
&nbsp;                        throw new EntityLoadingException(&quot;Unsupported tech level: &quot; + rulesLevel);
&nbsp;                }
&nbsp;            } else {
&nbsp;                switch (rulesLevel) {
&nbsp;                    case 1:
&nbsp;                        mech.setArmorTechLevel(TechConstants.T_INTRO_BOXSET);
&nbsp;                        break;
&nbsp;                    case 2:
&nbsp;                        mech.setArmorTechLevel(TechConstants.T_IS_TW_NON_BOX);
&nbsp;                        break;
&nbsp;                    case 3:
&nbsp;                        mech.setArmorTechLevel(TechConstants.T_IS_ADVANCED);
&nbsp;                        break;
&nbsp;                    default:
&nbsp;                        throw new EntityLoadingException(&quot;Unsupported tech level: &quot; + rulesLevel);
&nbsp;                }
&nbsp;            }
&nbsp;            mech.initializeArmor(laArmor, Mech.LOC_LARM);
&nbsp;            mech.initializeArmor(ltArmor, Mech.LOC_LT);
&nbsp;            mech.initializeRearArmor(ltrArmor, Mech.LOC_LT);
&nbsp;            mech.initializeArmor(llArmor, Mech.LOC_LLEG);
&nbsp;
&nbsp;            mech.initializeArmor(raArmor, Mech.LOC_RARM);
&nbsp;            mech.initializeArmor(rtArmor, Mech.LOC_RT);
&nbsp;            mech.initializeRearArmor(rtrArmor, Mech.LOC_RT);
&nbsp;            mech.initializeArmor(rlArmor, Mech.LOC_RLEG);
&nbsp;
&nbsp;            mech.initializeArmor(headArmor, Mech.LOC_HEAD);
&nbsp;
&nbsp;            mech.initializeArmor(ctArmor, Mech.LOC_CT);
&nbsp;            mech.initializeRearArmor(ctrArmor, Mech.LOC_CT);
&nbsp;
&nbsp;            setupCriticals(mech);
&nbsp;
&nbsp;            if (mech.isClan()) {
&nbsp;                mech.addClanCase();
&nbsp;            }
&nbsp;
&nbsp;            mech.setArmorTonnage(mech.getArmorWeight());
&nbsp;
&nbsp;            // add any heat sinks not allocated
&nbsp;            BigInteger heatSinkFlag;
&nbsp;            if (heatSinkType ==  HeatSinkType.DOUBLE) {
&nbsp;                heatSinkFlag = MiscType.F_DOUBLE_HEAT_SINK;
&nbsp;            } else if (heatSinkType ==  HeatSinkType.LASER) {
&nbsp;                heatSinkFlag = MiscType.F_LASER_HEAT_SINK;
&nbsp;            } else if (heatSinkType == HeatSinkType.COMPACT) {
&nbsp;                heatSinkFlag = MiscType.F_COMPACT_HEAT_SINK;
&nbsp;            } else {
&nbsp;                heatSinkFlag = MiscType.F_HEAT_SINK;
&nbsp;            }
&nbsp;            mech.addEngineSinks(heatSinks - mech.heatSinks(), heatSinkFlag);
&nbsp;
&nbsp;            return mech;
&nbsp;        } catch (Exception e) {
&nbsp;            e.printStackTrace();
&nbsp;            throw new EntityLoadingException(e.getMessage());
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void removeArmActuators(Mech mech, long[] criticals, int location) {
&nbsp;        // Quad have leg and foot actuators, not arm and hand actuators.
&nbsp;        if (mech.getMovementMode() == EntityMovementMode.QUAD) {
&nbsp;            if (!isLowerLegActuator(criticals[2])) {
&nbsp;                mech.setCritical(location, 2, null);
&nbsp;            }
&nbsp;            if (!isFootActuator(criticals[3])) {
&nbsp;                mech.setCritical(location, 3, null);
&nbsp;            }
&nbsp;        } else {
&nbsp;            if (!isLowerArmActuator(criticals[2])) {
&nbsp;                mech.setCritical(location, 2, null);
&nbsp;            }
&nbsp;            if (!isHandActuator(criticals[3])) {
&nbsp;                mech.setCritical(location, 3, null);
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    private void setupCriticals(Mech mech) throws EntityLoadingException {
&nbsp;        removeArmActuators(mech, laCriticals, Mech.LOC_LARM);
&nbsp;        removeArmActuators(mech, raCriticals, Mech.LOC_RARM);
&nbsp;
&nbsp;        compactCriticals(rlCriticals);
&nbsp;        setupCriticals(mech, rlCriticals, Mech.LOC_RLEG);
&nbsp;        compactCriticals(llCriticals);
&nbsp;        setupCriticals(mech, llCriticals, Mech.LOC_LLEG);
&nbsp;        if (chassisType != ChassisType.ARMLESS) {
&nbsp;            // HMP helpfully includes arm actuators in armless mechs
&nbsp;            compactCriticals(raCriticals);
&nbsp;            setupCriticals(mech, raCriticals, Mech.LOC_RARM);
&nbsp;            compactCriticals(laCriticals);
&nbsp;            setupCriticals(mech, laCriticals, Mech.LOC_LARM);
&nbsp;        }
&nbsp;        compactCriticals(rtCriticals);
&nbsp;        setupCriticals(mech, rtCriticals, Mech.LOC_RT);
&nbsp;        compactCriticals(ltCriticals);
&nbsp;        setupCriticals(mech, ltCriticals, Mech.LOC_LT);
&nbsp;        compactCriticals(ctCriticals);
&nbsp;        setupCriticals(mech, ctCriticals, Mech.LOC_CT);
&nbsp;        setupCriticals(mech, headCriticals, Mech.LOC_HEAD);
&nbsp;    }
&nbsp;
&nbsp;    private String mutateLBXAmmo(String crit) {
&nbsp;        if ((crit.startsWith(&quot;CLLBX&quot;) || crit.startsWith(&quot;ISLBX&quot;)) &amp;&amp; crit.endsWith(&quot;Ammo&quot;)) {
&nbsp;            lbxCounter++;
&nbsp;            if ((lbxCounter % 2) == 1) {
&nbsp;                return crit.substring(0, crit.indexOf(&quot;Ammo&quot;)) + &quot;CL Ammo&quot;;
&nbsp;            }
&nbsp;        }
&nbsp;        return crit;
&nbsp;    }
&nbsp;
&nbsp;    private String mutateATMAmmo(String crit) {
&nbsp;        if (crit.startsWith(&quot;CLATM&quot;) &amp;&amp; crit.endsWith(&quot;Ammo&quot;)) {
&nbsp;            atmCounter++;
&nbsp;            if ((atmCounter % 3) == 2) {
&nbsp;                return crit.substring(0, crit.indexOf(&quot;Ammo&quot;)) + &quot;HE Ammo&quot;;
&nbsp;            } else if ((atmCounter % 3) == 0) {
&nbsp;                return crit.substring(0, crit.indexOf(&quot;Ammo&quot;)) + &quot;ER Ammo&quot;;
&nbsp;            }
&nbsp;        }
&nbsp;        return crit;
&nbsp;    }
&nbsp;
&nbsp;    private void setupCriticals(Mech mech, long[] criticals, int location) throws EntityLoadingException {
&nbsp;        // Use pass-by-value in case we need the original criticals
&nbsp;        // later (getMtf for example).
&nbsp;        long[] crits = criticals.clone();
&nbsp;
&nbsp;        for (int i = 0; i &lt; mech.getNumberOfCriticals(location); i++) {
&nbsp;            if (mech.getCritical(location, i) == null) {
&nbsp;                long critical = crits[i];
&nbsp;                String criticalName = getCriticalName(critical);
&nbsp;
&nbsp;                if (isFusionEngine(critical)) {
&nbsp;                    mech.setCritical(location, i, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, Mech.SYSTEM_ENGINE));
&nbsp;                } else if (isGyro(critical)) {
&nbsp;                    mech.setCritical(location, i, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, Mech.SYSTEM_GYRO));
&nbsp;                } else if (isCockpit(critical)) {
&nbsp;                    mech.setCritical(location, i, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, Mech.SYSTEM_COCKPIT));
&nbsp;                } else if (isLifeSupport(critical)) {
&nbsp;                    mech.setCritical(location, i, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, Mech.SYSTEM_LIFE_SUPPORT));
&nbsp;                } else if (isSensor(critical)) {
&nbsp;                    mech.setCritical(location, i, new CriticalSlot(CriticalSlot.TYPE_SYSTEM, Mech.SYSTEM_SENSORS));
&nbsp;                } else if (isJumpJet(critical)) {
&nbsp;                    try {
&nbsp;                        if (jjType == 0) {
&nbsp;                            mech.addEquipment(EquipmentType.get(&quot;Jump Jet&quot;), location, false);
&nbsp;                        } else if (jjType == 1) {
&nbsp;                            mech.addEquipment(EquipmentType.get(&quot;Improved Jump Jet&quot;), location, false);
&nbsp;                        }
&nbsp;                    } catch (LocationFullException ex) {
&nbsp;                        System.err.print(&quot;Location was full when adding jump jets to slot #&quot;);
&nbsp;                        System.err.print(i);
&nbsp;                        System.err.print(&quot; of location &quot;);
&nbsp;                        System.err.println(location);
&nbsp;                        ex.printStackTrace(System.err);
&nbsp;                        System.err.println(&quot;... aborting entity loading.&quot;);
&nbsp;                        throw new EntityLoadingException(ex.getMessage());
&nbsp;                    }
&nbsp;                } else if (criticalName != null) {
&nbsp;                    EquipmentType equipment = null;
&nbsp;                    try {
&nbsp;                        equipment = EquipmentType.get(criticalName);
&nbsp;                        if (equipment == null) {
&nbsp;                            equipment = EquipmentType.get(mech.isClan()?&quot;Clan &quot;+criticalName:&quot;IS &quot;+criticalName);
&nbsp;                        }
&nbsp;                        if (equipment != null) {
&nbsp;                            // for experimental or unofficial equipment, we need
&nbsp;                            // to adjust the mech&#39;s techlevel, because HMP only
&nbsp;                            // knows lvl1/2/3
&nbsp;                            if ((equipment.getTechLevel(year) &gt; mech.getTechLevel()) &amp;&amp; (mech.getTechLevel() &gt;= TechConstants.T_IS_ADVANCED)) {
&nbsp;                                boolean isClan = mech.isClan();
&nbsp;                                if ((equipment.getTechLevel(year) == TechConstants.T_IS_EXPERIMENTAL) || (equipment.getTechLevel(year) == TechConstants.T_CLAN_EXPERIMENTAL)) {
&nbsp;                                    mech.setTechLevel(isClan ? TechConstants.T_CLAN_EXPERIMENTAL : TechConstants.T_IS_EXPERIMENTAL);
&nbsp;                                } else if ((equipment.getTechLevel(year) == TechConstants.T_IS_UNOFFICIAL) || (equipment.getTechLevel(year) == TechConstants.T_CLAN_UNOFFICIAL)) {
&nbsp;                                    mech.setTechLevel(isClan ? TechConstants.T_CLAN_UNOFFICIAL : TechConstants.T_IS_UNOFFICIAL);
&nbsp;                                }
&nbsp;                            }
&nbsp;                            boolean rearMounted = (equipment instanceof WeaponType) &amp;&amp; isRearMounted(critical);
&nbsp;                            if (equipment.isSpreadable()) {
&nbsp;                                Mounted m = spreadEquipment.get(equipment);
&nbsp;                                if (m != null) {
&nbsp;                                    CriticalSlot criticalSlot = new CriticalSlot(m);
&nbsp;                                    mech.addCritical(location, criticalSlot);
&nbsp;
&nbsp;                                } else {
&nbsp;                                    m = mech.addEquipment(equipment, location, rearMounted);
&nbsp;                                    spreadEquipment.put(equipment, m);
&nbsp;                                }
&nbsp;                            } else if (((equipment instanceof WeaponType) &amp;&amp; ((WeaponType)equipment).isSplitable()) || ((equipment instanceof MiscType) &amp;&amp; equipment.hasFlag(MiscType.F_SPLITABLE))) {
&nbsp;                                // do we already have this one in this or an
&nbsp;                                // outer location?
&nbsp;                                Mounted m = null;
&nbsp;                                boolean bFound = false;
&nbsp;                                for (int x = 0, n = vSplitWeapons.size(); x &lt; n; x++) {
&nbsp;                                    m = vSplitWeapons.elementAt(x);
&nbsp;                                    int nLoc = m.getLocation();
&nbsp;                                    if (((nLoc == location) || (location == Mech.getInnerLocation(nLoc))) &amp;&amp; m.getType().equals(equipment)) {
&nbsp;                                        bFound = true;
&nbsp;                                        break;
&nbsp;                                    }
&nbsp;                                }
&nbsp;                                if (bFound) {
&nbsp;                                    m.setFoundCrits(m.getFoundCrits() + 1);
&nbsp;                                    if (m.getFoundCrits() &gt;= m.getCriticals()) {
&nbsp;                                        vSplitWeapons.removeElement(m);
&nbsp;                                    }
&nbsp;                                    // if we&#39;re in a new location, set the
&nbsp;                                    // weapon as split
&nbsp;                                    if (location != m.getLocation()) {
&nbsp;                                        m.setSplit(true);
&nbsp;                                    }
&nbsp;                                    // give the most restrictive location for
&nbsp;                                    // arcs
&nbsp;                                    int help = m.getLocation();
&nbsp;                                    m.setLocation(Mech.mostRestrictiveLoc(location, help));
&nbsp;                                    if (location != help) {
&nbsp;                                        m.setSecondLocation(Mech.leastRestrictiveLoc(location, help));
&nbsp;                                    }
&nbsp;                                } else {
&nbsp;                                    // make a new one
&nbsp;                                    m = new Mounted(mech, equipment);
&nbsp;                                    m.setFoundCrits(1);
&nbsp;                                    vSplitWeapons.addElement(m);
&nbsp;                                }
&nbsp;                                mech.addEquipment(m, location, rearMounted);
&nbsp;                            } else {
&nbsp;                                mech.addEquipment(equipment, location, rearMounted);
&nbsp;                            }
&nbsp;                        } else {
&nbsp;                            if (!criticalName.equals(&quot;-Empty-&quot;)) {
&nbsp;                                // Can&#39;t load this piece of equipment!
&nbsp;                                // Add it to the list so we can show the user.
&nbsp;                                mech.addFailedEquipment(criticalName);
&nbsp;                                // Make the failed equipment an empty slot
&nbsp;                                crits[i] = 0;
&nbsp;                                // Compact criticals again
&nbsp;                                compactCriticals(crits);
&nbsp;                                // Re-parse the same slot, since the compacting
&nbsp;                                // could have moved new equipment to this slot
&nbsp;                                i--;
&nbsp;                            }
&nbsp;                        }
&nbsp;                    } catch (LocationFullException ex) {
&nbsp;                        System.err.print(&quot;Location was full when adding &quot;);
&nbsp;                        System.err.print(equipment.getInternalName());
&nbsp;                        System.err.print(&quot; to slot #&quot;);
&nbsp;                        System.err.print(i);
&nbsp;                        System.err.print(&quot; of location &quot;);
&nbsp;                        System.err.println(location);
&nbsp;                        ex.printStackTrace(System.err);
&nbsp;                        System.err.println(&quot;... aborting entity loading.&quot;);
&nbsp;                        throw new EntityLoadingException(ex.getMessage());
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /* BLOCK_END */
&nbsp;
&nbsp;    private boolean isLowerArmActuator(long critical) {
&nbsp;        return critical == 0x03;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isHandActuator(long critical) {
&nbsp;        return critical == 0x04;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isLowerLegActuator(long critical) {
&nbsp;        return critical == 0x07;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isFootActuator(long critical) {
&nbsp;        return critical == 0x08;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isCockpit(long critical) {
&nbsp;        return critical == 0x0E;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isJumpJet(long critical) {
&nbsp;        return critical == 0x0B;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isLifeSupport(long critical) {
&nbsp;        return critical == 0x0C;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isSensor(long critical) {
&nbsp;        return critical == 0x0D;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isFusionEngine(long critical) {
&nbsp;        return critical == 0x0F;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isGyro(long critical) {
&nbsp;        return critical == 0x10;
&nbsp;    }
&nbsp;
&nbsp;    private static boolean isRearMounted(long critical) {
&nbsp;        return (critical &amp; 0xFFFF0000) != 0;
&nbsp;    }
&nbsp;
&nbsp;    private static final Hashtable&lt;Object, Serializable&gt; criticals = new Hashtable&lt;Object, Serializable&gt;();
&nbsp;    static {
&nbsp;        // common criticals
&nbsp;        criticals.put(Long.valueOf(0x00), &quot;-Empty-&quot;);
&nbsp;        criticals.put(Long.valueOf(0x01), &quot;Shoulder&quot;);
&nbsp;        criticals.put(Long.valueOf(0x02), &quot;Upper Arm Actuator&quot;);
&nbsp;        criticals.put(Long.valueOf(0x03), &quot;Lower Arm Actuator&quot;);
&nbsp;        criticals.put(Long.valueOf(0x04), &quot;Hand Actuator&quot;);
&nbsp;        criticals.put(Long.valueOf(0x05), &quot;Hip&quot;);
&nbsp;        criticals.put(Long.valueOf(0x06), &quot;Upper Leg Actuator&quot;);
&nbsp;        criticals.put(Long.valueOf(0x07), &quot;Lower Leg Actuator&quot;);
&nbsp;        criticals.put(Long.valueOf(0x08), &quot;Foot Actuator&quot;);
&nbsp;        criticals.put(Long.valueOf(0x09), &quot;Heat Sink&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0x0B), &quot;Jump Jet&quot;);
&nbsp;        criticals.put(Long.valueOf(0x0C), &quot;Life Support&quot;);
&nbsp;        criticals.put(Long.valueOf(0x0D), &quot;Sensors&quot;);
&nbsp;        criticals.put(Long.valueOf(0x0E), &quot;Cockpit&quot;);
&nbsp;        criticals.put(Long.valueOf(0x0F), &quot;Fusion Engine&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10), &quot;Gyro&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0x13), &quot;Turret&quot;);
&nbsp;        criticals.put(Long.valueOf(0x14), &quot;Endo Steel&quot;);
&nbsp;        criticals.put(Long.valueOf(0x15), &quot;Ferro-Fibrous&quot;);
&nbsp;        criticals.put(Long.valueOf(0x16), &quot;Triple Strength Myomer&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0x1a), &quot;Variable Range TargSys&quot;);
&nbsp;        criticals.put(Long.valueOf(0x1b), &quot;Multi-Trac II&quot;);
&nbsp;        criticals.put(Long.valueOf(0x1c), &quot;Reactive Armor&quot;);
&nbsp;        criticals.put(Long.valueOf(0x1d), &quot;Laser-Reflective Armor&quot;);
&nbsp;        criticals.put(Long.valueOf(0x1e), &quot;Jump Booster&quot;);
&nbsp;        criticals.put(Long.valueOf(0x20), &quot;Supercharger&quot;);
&nbsp;        criticals.put(Long.valueOf(0x21), &quot;Light Ferro-Fibrous&quot;);
&nbsp;        criticals.put(Long.valueOf(0x22), &quot;Heavy Ferro-Fibrous&quot;);
&nbsp;        criticals.put(Long.valueOf(0x25), &quot;IS2 Compact Heat Sinks&quot;);
&nbsp;        criticals.put(Long.valueOf(0x27), &quot;Null Signature System&quot;);
&nbsp;        criticals.put(Long.valueOf(0x28), &quot;Coolant Pod&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2B), &quot;Claw (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2C), &quot;Mace (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2d), &quot;Armored Cowl&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2e), &quot;Buzzsaw (UB)&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0xF8), &quot;Combine&quot;);
&nbsp;        criticals.put(Long.valueOf(0xF9), &quot;Lift Hoist&quot;);
&nbsp;        criticals.put(Long.valueOf(0xFA), &quot;Chainsaw&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0xFC), &quot;CLATM3&quot;);
&nbsp;        criticals.put(Long.valueOf(0xFD), &quot;CLATM6&quot;);
&nbsp;        criticals.put(Long.valueOf(0xFE), &quot;CLATM9&quot;);
&nbsp;        criticals.put(Long.valueOf(0xFF), &quot;CLATM12&quot;);
&nbsp;        criticals.put(Long.valueOf(0x100), &quot;SB Gauss Rifle (UB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x101), &quot;Caseless AC/2 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x102), &quot;Caseless AC/5 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x103), &quot;Caseless AC/10 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x104), &quot;Caseless AC/20 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x105), &quot;Heavy AC/2 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x106), &quot;Heavy AC/5 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x107), &quot;Heavy AC/10 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x108), &quot;ISTHBLBXAC2&quot;);
&nbsp;        criticals.put(Long.valueOf(0x109), &quot;ISTHBLBXAC5&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10A), &quot;ISTHBLBXAC20&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10B), &quot;ISUltraAC2 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10C), &quot;ISUltraAC10 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10D), &quot;ISUltraAC20 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10E), &quot;ELRM-5 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10F), &quot;ELRM-10 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x110), &quot;ELRM-15 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x111), &quot;ELRM-20 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x112), &quot;LR DFM-5 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x113), &quot;LR DFM-10 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x114), &quot;LR DFM-15 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x115), &quot;LR DFM-20 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x116), &quot;SR DFM-2 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x117), &quot;SR DFM-4 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x118), &quot;SR DFM-6 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x119), &quot;Thunderbolt-5 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x11A), &quot;Thunderbolt-10 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x11B), &quot;Thunderbolt-15 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x11C), &quot;Thunderbolt-20 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x11F), &quot;Watchdog ECM (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x120), &quot;IS Laser AMS (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x121), &quot;ISRotaryAC2&quot;);
&nbsp;        criticals.put(Long.valueOf(0x122), &quot;ISRotaryAC5&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0x124), &quot;CLRotaryAC2&quot;);
&nbsp;        criticals.put(Long.valueOf(0x125), &quot;CLRotaryAC5&quot;);
&nbsp;        criticals.put(Long.valueOf(0x126), &quot;CLRotaryAC10&quot;);
&nbsp;        criticals.put(Long.valueOf(0x127), &quot;CLRotaryAC20&quot;);
&nbsp;        criticals.put(Long.valueOf(0x128), &quot;CLPlasmaRifle&quot;);
&nbsp;        criticals.put(Long.valueOf(0x129), &quot;ISRocketLauncher10&quot;);
&nbsp;        criticals.put(Long.valueOf(0x12A), &quot;ISRocketLauncher15&quot;);
&nbsp;        criticals.put(Long.valueOf(0x12B), &quot;ISRocketLauncher20&quot;);
&nbsp;        criticals.put(Long.valueOf(0x12C), &quot;Mortar/1 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x12D), &quot;Mortar/2 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x12E), &quot;Mortar/4 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x12F), &quot;Mortar/8 (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x130), &quot;Backhoe&quot;);
&nbsp;        criticals.put(Long.valueOf(0x131), &quot;Drill&quot;);
&nbsp;        criticals.put(Long.valueOf(0x132), &quot;Rock Cutter&quot;);
&nbsp;        criticals.put(Long.valueOf(0x133), &quot;CLStreakLRM5 (OS)&quot;); // ?
&nbsp;        criticals.put(Long.valueOf(0x134), &quot;CLStreakLRM10 (OS)&quot;); // ?
&nbsp;        criticals.put(Long.valueOf(0x135), &quot;CLStreakLRM15 (OS)&quot;);// ?
&nbsp;        criticals.put(Long.valueOf(0x136), &quot;CLStreakLRM20 (OS)&quot;);// ?
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0x28c), &quot;CLATM3 Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x28d), &quot;CLATM6 Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x28e), &quot;CLATM9 Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x28f), &quot;CLATM12 Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x290), &quot;SB Gauss Rifle Ammo (UB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x291), &quot;Caseless AC/2 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x292), &quot;Caseless AC/5 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x293), &quot;Caseless AC/10 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x294), &quot;Caseless AC/20 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x295), &quot;Heavy AC/2 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x296), &quot;Heavy AC/5 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x297), &quot;Heavy AC/10 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x298), &quot;ISLBXAC2 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x299), &quot;ISLBXAC5 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x29A), &quot;ISLBXAC20 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x29B), &quot;IS Ultra AC/2 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x29C), &quot;IS Ultra AC/10 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x29D), &quot;IS Ultra AC/20 Ammo (THB)&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0x2B1), &quot;ISRotaryAC2 Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2B2), &quot;ISRotaryAC5 Ammo&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0x2b4), &quot;CLRotaryAC2 Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2b5), &quot;CLRotaryAC5 Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2b6), &quot;CLRotaryAC10 Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2b7), &quot;CLRotaryAC20 Ammo&quot;);
&nbsp;
&nbsp;        criticals.put(Long.valueOf(0x2BC), &quot;Mortar/1 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2BD), &quot;Mortar/2 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2BE), &quot;Mortar/4 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2BF), &quot;Mortar/8 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x29E), &quot;ELRM-5 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x29F), &quot;ELRM-10 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A0), &quot;ELRM-15 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A1), &quot;ELRM-20 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A2), &quot;LR DFM-5 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A3), &quot;LR DFM-10 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A4), &quot;LR DFM-15 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A5), &quot;LR DFM-20 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A6), &quot;SR DFM-2 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A7), &quot;SR DFM-4 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A8), &quot;SR DFM-6 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2A9), &quot;Thunderbolt-5 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2AA), &quot;Thunderbolt-10 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2AB), &quot;Thunderbolt-15 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x2AC), &quot;Thunderbolt-20 Ammo (THB)&quot;);
&nbsp;
&nbsp;        // Criticals for mechs with a base type of Inner Sphere.
&nbsp;        Hashtable&lt;Long, String&gt; isCriticals = new Hashtable&lt;Long, String&gt;();
&nbsp;        criticals.put(TechType.INNER_SPHERE, isCriticals);
&nbsp;        isCriticals.put(Long.valueOf(0x0A), &quot;ISDouble Heat Sink&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x11), &quot;Hatchet&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x12), &quot;ISTargeting Computer&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x17), &quot;ISMASC&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x18), &quot;ISArtemisIV&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x19), &quot;ISCASE&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x1F), &quot;Sword&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x23), &quot;Stealth Armor&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x24), &quot;Blue Shield (UB)&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x26), &quot;ISCASEII&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x33), &quot;ISERLargeLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x34), &quot;ISERPPC&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x35), &quot;ISFlamer&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x36), &quot;ISLaserAntiMissileSystem&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x37), &quot;ISLargeLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x38), &quot;ISMediumLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x39), &quot;ISSmallLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x3A), &quot;ISPPC&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x3B), &quot;ISLargePulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x3C), &quot;ISMediumPulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x3D), &quot;ISSmallPulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x3E), &quot;ISAC2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x3F), &quot;ISAC5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x40), &quot;ISAC10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x41), &quot;ISAC20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x42), &quot;ISAntiMissileSystem&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x43), &quot;Long Tom Cannon&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x44), &quot;Sniper Cannon&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x45), &quot;Thumper Cannon&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x46), &quot;ISLightGaussRifle&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x47), &quot;ISGaussRifle&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x48), &quot;ISLargeXPulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x49), &quot;ISMediumXPulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x4A), &quot;ISSmallXPulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x4B), &quot;ISLBXAC2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x4C), &quot;ISLBXAC5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x4D), &quot;ISLBXAC10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x4E), &quot;ISLBXAC20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x4F), &quot;ISMachine Gun&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x50), &quot;ISLAC2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x51), &quot;ISLAC5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x52), &quot;ISHeavyFlamer&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x53), &quot;ISPPCCapacitor&quot;); // HMP uses this
&nbsp;        // code for ERPPC
&nbsp;        isCriticals.put(Long.valueOf(0x54), &quot;ISUltraAC2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x55), &quot;ISUltraAC5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x56), &quot;ISUltraAC10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x57), &quot;ISUltraAC20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x58), &quot;CLERMicroLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x59), &quot;ISPPCCapacitor&quot;); // HMP uses this
&nbsp;        // code for standard
&nbsp;        // PPC
&nbsp;        isCriticals.put(Long.valueOf(0x5A), &quot;ISERMediumLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x5B), &quot;ISERSmallLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x5C), &quot;ISAntiPersonnelPod&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x5E), &quot;CLLightMG&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x5F), &quot;CLHeavyMG&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x60), &quot;ISLRM5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x61), &quot;ISLRM10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x62), &quot;ISLRM15&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x63), &quot;ISLRM20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x64), &quot;CLLightActiveProbe&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x65), &quot;CLLightTAG&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x66), &quot;ISImprovedNarc&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x67), &quot;ISSRM2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x68), &quot;ISSRM4&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x69), &quot;ISSRM6&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x6A), &quot;ISStreakSRM2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x6B), &quot;ISStreakSRM4&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x6C), &quot;ISStreakSRM6&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x6D), &quot;Thunderbolt-5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x6E), &quot;Thunderbolt-10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x6F), &quot;Thunderbolt-15&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x70), &quot;Thunderbolt-20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x71), &quot;ISArrowIVSystem&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x72), &quot;ISAngelECMSuite&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x73), &quot;ISBeagleActiveProbe&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x74), &quot;ISBloodhoundActiveProbe&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x75), &quot;ISC3MasterComputer&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x76), &quot;ISC3SlaveUnit&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x77), &quot;ISImprovedC3CPU&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x78), &quot;ISGuardianECM&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x79), &quot;ISNarcBeacon&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x7A), &quot;ISTAG&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x7B), &quot;ISLRM5 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x7C), &quot;ISLRM10 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x7D), &quot;ISLRM15 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x7E), &quot;ISLRM20 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x7F), &quot;ISSRM2 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x80), &quot;ISSRM4 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x81), &quot;ISSRM6 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x82), &quot;ISStreakSRM2 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x83), &quot;ISStreakSRM4 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x84), &quot;ISStreakSRM6 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x85), &quot;ISVehicleFlamer&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x86), &quot;ISLongTomArtillery&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x87), &quot;ISSniperArtillery&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x88), &quot;ISThumperArtillery&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x89), &quot;ISMRM10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x8A), &quot;ISMRM20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x8B), &quot;ISMRM30&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x8C), &quot;ISMRM40&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x8D), &quot;Grenade Launcher&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x8E), &quot;ISMRM10 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x8F), &quot;ISMRM20 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x90), &quot;ISMRM30 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x91), &quot;ISMRM40 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x92), &quot;ISLRTorpedo5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x93), &quot;ISLRTorpedo10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x94), &quot;ISLRTorpedo15&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x95), &quot;ISLRTorpedo20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x96), &quot;ISSRT2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x97), &quot;ISSRT4&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x98), &quot;ISSRT6&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x99), &quot;ISLRM5 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x9A), &quot;ISLRM10 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x9B), &quot;ISLRM15 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x9C), &quot;ISLRM20 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x9D), &quot;ISSRM2 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x9E), &quot;ISSRM4 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x9f), &quot;ISSRM6 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA0), &quot;ISStreakSRM2 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA1), &quot;ISStreakSRM4 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA2), &quot;ISStreakSRM6 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA3), &quot;ISMRM10 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA4), &quot;ISMRM20 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA5), &quot;ISMRM30 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA6), &quot;ISMRM40 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA7), &quot;CLERLargeLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA8), &quot;CLERMediumLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xA9), &quot;CLERSmallLaser&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0xAA), &quot;CLERPPC&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xAB), &quot;CLFlamer&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0xAF), &quot;CLLaserAntiMissileSystem&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB0), &quot;CLLargePulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB1), &quot;CLMediumPulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB2), &quot;CLSmallPulseLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB3), &quot;CLAngelECMSuite&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB4), &quot;CLAntiMissileSystem&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB5), &quot;CLGaussRifle&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB6), &quot;CLLBXAC2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB7), &quot;CLLBXAC5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB8), &quot;CLLBXAC10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xB9), &quot;CLLBXAC20&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0xBA), &quot;CLMG&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xBB), &quot;CLUltraAC2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xBC), &quot;CLUltraAC5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xBD), &quot;CLUltraAC10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xBE), &quot;CLUltraAC20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xBF), &quot;CLLRM5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC0), &quot;CLLRM10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC1), &quot;CLLRM15&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC2), &quot;CLLRM20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC3), &quot;CLSRM2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC4), &quot;CLSRM4&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC5), &quot;CLSRM6&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC6), &quot;CLStreakSRM2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC7), &quot;CLStreakSRM4&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC8), &quot;CLStreakSRM6&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xC9), &quot;CLArrowIVSystem&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xCA), &quot;CLAntiPersonnelPod&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xCB), &quot;CLActiveProbe&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xCC), &quot;CLECMSuite&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xCD), &quot;CLNarcBeacon&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xCE), &quot;CLTAG&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xCF), &quot;Thunderbolt (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD0), &quot;CLLRM5 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD1), &quot;CLLRM10 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD2), &quot;CLLRM15 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD3), &quot;CLLRM20 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD4), &quot;CLSRM2 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD5), &quot;CLSRM2 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD6), &quot;CLSRM2 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD7), &quot;CLStreakSRM2 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD8), &quot;CLStreakSRM4 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xD9), &quot;CLStreakSRM6 (OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xDA), &quot;CLVehicleFlamer&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xDB), &quot;CLLongTomArtillery&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xDC), &quot;CLSniperArtillery&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xDD), &quot;CLThumperArtillery&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xDE), &quot;CLLRTorpedo5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xDF), &quot;CLLRTorpedo10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE0), &quot;CLLRTorpedo15&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE1), &quot;CLLRTorpedo20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE2), &quot;CLSRT2&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE3), &quot;CLSRT4&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE4), &quot;CLSRT6&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE5), &quot;CLStreakLRM5&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE6), &quot;CLStreakLRM10&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE7), &quot;CLStreakLRM15&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE8), &quot;CLStreakLRM20&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xE9), &quot;CLGrenadeLauncher&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xEA), &quot;CLLRM5 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xEB), &quot;CLLRM10 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xEC), &quot;CLLRM15 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xED), &quot;CLLRM20 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xEE), &quot;CLSRM2 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xEF), &quot;CLSRM4 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xF0), &quot;CLSRM6 (I=OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xF1), &quot;CLStreakSRM2 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xF2), &quot;CLStreakSRM4 (I-OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xF3), &quot;CLStreakSRM6 (I=OS)&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xF4), &quot;CLHeavyLargeLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xF5), &quot;CLHeavyMediumLaser&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0xF6), &quot;CLHeavySmallLaser&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x11D), &quot;ISTHBAngelECMSuite&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x11E), &quot;ISTHBBloodhoundActiveProbe&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x123), &quot;ISHeavyGaussRifle&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x01CE), &quot;ISAC2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01CF), &quot;ISAC5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01D0), &quot;ISAC10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01d1), &quot;ISAC20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01d2), &quot;ISAMS Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01d3), &quot;Long Tom Cannon Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01d4), &quot;Sniper Cannon Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01d5), &quot;Thumper Cannon Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01d6), &quot;ISLightGauss Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01d7), &quot;ISGauss Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x01db), &quot;ISLBXAC2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01dc), &quot;ISLBXAC5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01dd), &quot;ISLBXAC10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01de), &quot;ISLBXAC20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01df), &quot;ISMG Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x1e0), &quot;ISLAC2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x1e1), &quot;ISLAC5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x1e2), &quot;ISHeavyFlamer Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x01e4), &quot;ISUltraAC2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01e5), &quot;ISUltraAC5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01e6), &quot;ISUltraAC10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01e7), &quot;ISUltraAC20 Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x01EE), &quot;CLLightMG Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01EF), &quot;CLHeavyMG Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01f0), &quot;ISLRM5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01f1), &quot;ISLRM10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01f2), &quot;ISLRM15 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01f3), &quot;ISLRM20 Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x01f6), &quot;ISiNarc Pods&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01f7), &quot;ISSRM2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01f8), &quot;ISSRM4 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01f9), &quot;ISSRM6 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01fa), &quot;ISStreakSRM2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01fb), &quot;ISStreakSRM4 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01FC), &quot;ISStreakSRM6 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01FD), &quot;Thunderbolt-5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01FE), &quot;Thunderbolt-10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x01FF), &quot;Thunderbolt-15 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0200), &quot;Thunderbolt-20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0201), &quot;ISArrowIV Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x0209), &quot;ISNarc Pods&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x0215), &quot;ISVehicleFlamer Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0216), &quot;ISLongTom Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0217), &quot;ISSniper Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0218), &quot;ISThumper Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0219), &quot;ISMRM10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x021a), &quot;ISMRM20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x021b), &quot;ISMRM30 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x021c), &quot;ISMRM40 Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x0222), &quot;ISLRTorpedo5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0223), &quot;ISLRTorpedo10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0224), &quot;ISLRTorpedo15 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0225), &quot;ISLRTorpedo20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0226), &quot;ISSRT2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0227), &quot;ISSRT4 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0228), &quot;ISSRT6 Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x0244), &quot;CLAMS Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0245), &quot;CLGauss Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0246), &quot;CLLBXAC2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0247), &quot;CLLBXAC5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0248), &quot;CLLBXAC10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0249), &quot;CLLBXAC20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x024A), &quot;CLMG Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x024B), &quot;CLUltraAC2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x024C), &quot;CLUltraAC5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x024D), &quot;CLUltraAC10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x024E), &quot;CLUltraAC20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x024F), &quot;CLLRM5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0250), &quot;CLLRM10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0251), &quot;CLLRM15 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0252), &quot;CLLRM20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0253), &quot;CLSRM2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0254), &quot;CLSRM4 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0255), &quot;CLSRM6 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0256), &quot;CLStreakSRM2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0257), &quot;CLStreakSRM4 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0258), &quot;CLStreakSRM6 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0259), &quot;CLArrowIV Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x025D), &quot;CLNarc Pods&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x026A), &quot;CLVehicleFlamer Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x026B), &quot;CLLongTom Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x026C), &quot;CLSniper Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x026D), &quot;CLThumper Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x026E), &quot;CLLRTorpedo5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x026F), &quot;CLLRTorpedo10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0270), &quot;CLLRTorpedo15 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0271), &quot;CLLRTorpedo20 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0272), &quot;CLSRT2 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0273), &quot;CLSRT4 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0274), &quot;CLSRT6 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0275), &quot;CLStreakLRM5 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0276), &quot;CLStreakLRM10 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0277), &quot;CLStreakLRM15 Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x0278), &quot;CLStreakLRM20 Ammo&quot;);
&nbsp;
&nbsp;        isCriticals.put(Long.valueOf(0x02b3), &quot;ISHeavyGauss Ammo&quot;);
&nbsp;
&nbsp;        // criticals for mechs with a base type of clan
&nbsp;        Hashtable&lt;Long, String&gt; clanCriticals = new Hashtable&lt;Long, String&gt;();
&nbsp;        criticals.put(TechType.CLAN, clanCriticals);
&nbsp;        clanCriticals.put(Long.valueOf(0x0A), &quot;CLDouble Heat Sink&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x12), &quot;CLTargeting Computer&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x17), &quot;CLMASC&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x18), &quot;CLArtemisIV&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x21), &quot;Light Ferro-Fibrous&quot;); // ?
&nbsp;        clanCriticals.put(Long.valueOf(0x22), &quot;Heavy Ferro-Fibrous&quot;); // ?
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x26), &quot;CLCASEII&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x33), &quot;CLERLargeLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x34), &quot;CLERMediumLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x35), &quot;CLERSmallLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x36), &quot;CLERPPC&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x37), &quot;CLFlamer&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x38), &quot;CLERLargePulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x39), &quot;CLERMediumPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x3A), &quot;CLERSmallPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x3B), &quot;CLLaserAMS&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x3C), &quot;CLLargePulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x3D), &quot;CLMediumPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x3E), &quot;CLSmallPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x3F), &quot;CLAngelECMSuite&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x40), &quot;CLAntiMissileSystem&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x41), &quot;CLGaussRifle&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x42), &quot;CLLBXAC2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x43), &quot;CLLBXAC5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x44), &quot;CLLBXAC10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x45), &quot;CLLBXAC20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x46), &quot;CLMG&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x47), &quot;CLUltraAC2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x48), &quot;CLUltraAC5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x49), &quot;CLUltraAC10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x4A), &quot;CLUltraAC20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x4B), &quot;CLLRM5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x4C), &quot;CLLRM10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x4D), &quot;CLLRM15&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x4E), &quot;CLLRM20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x4F), &quot;CLSRM2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x50), &quot;CLSRM4&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x51), &quot;CLSRM6&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x52), &quot;CLStreakSRM2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x53), &quot;CLStreakSRM4&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x54), &quot;CLStreakSRM6&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x55), &quot;CLArrowIVSystem&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x56), &quot;CLAntiPersonnelPod&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x57), &quot;CLActiveProbe&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x58), &quot;CLECMSuite&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x59), &quot;CLNarcBeacon&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x5A), &quot;CLTAG&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x5B), &quot;CLERMicroLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x5C), &quot;CLLRM5 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x5D), &quot;CLLRM10 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x5E), &quot;CLLRM15 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x5F), &quot;CLLRM20 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x60), &quot;CLSRM2 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x61), &quot;CLSRM4 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x62), &quot;CLSRM6 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x63), &quot;CLStreakSRM2 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x64), &quot;CLStreakSRM4 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x65), &quot;CLStreakSRM6 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x66), &quot;CLVehicleFlamer&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x67), &quot;CLLongTomArtillery&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x68), &quot;CLSniperArtillery&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x69), &quot;CLThumperArtillery&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x6A), &quot;CLLRTorpedo5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x6B), &quot;CLLRTorpedo10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x6C), &quot;CLLRTorpedo15&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x6D), &quot;CLLRTorpedo20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x6E), &quot;CLSRT2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x6F), &quot;CLSRT4&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x70), &quot;CLSRT6&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x71), &quot;CLStreakLRM5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x72), &quot;CLStreakLRM10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x73), &quot;CLStreakLRM15&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x74), &quot;CLStreakLRM20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x75), &quot;CLGrenadeLauncher&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x76), &quot;CLLRM5 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x77), &quot;CLLRM10 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x78), &quot;CLLRM15 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x79), &quot;CLLRM20 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x7a), &quot;CLSRM2 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x7b), &quot;CLSRM4 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x7c), &quot;CLSRM6 (I=OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x7d), &quot;CLStreakSRM2 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x7e), &quot;CLStreakSRM4 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x7f), &quot;CLStreakSRM6 (I=OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x80), &quot;CLHeavyLargeLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x81), &quot;CLHeavyMediumLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x82), &quot;CLHeavySmallLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x83), &quot;ISERLargeLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x84), &quot;ISERPPC&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x85), &quot;ISFlamer&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x86), &quot;ISLaserAMS&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x87), &quot;ISLargeLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x88), &quot;ISMediumLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x89), &quot;ISSmallLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x8A), &quot;ISPPC&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x8B), &quot;ISLargePulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x8C), &quot;ISMediumPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x8D), &quot;ISSmallPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x8E), &quot;ISAC2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x8F), &quot;ISAC5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x90), &quot;ISAC10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x91), &quot;ISAC20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x92), &quot;ISAntiMissileSystem&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x93), &quot;Long Tom Cannon&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x94), &quot;Sniper Cannon&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x95), &quot;Thumper Cannon&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x96), &quot;ISLightGaussRifle&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x97), &quot;ISGaussRifle&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x98), &quot;ISLargeXPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x99), &quot;ISMediumXPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x9A), &quot;ISSmallXPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x9B), &quot;ISLBXAC2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x9C), &quot;ISLBXAC5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x9D), &quot;ISLBXAC10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x9E), &quot;ISLBXAC20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x9F), &quot;ISMachine Gun&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xA0), &quot;ISLAC2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xA1), &quot;ISLAC5&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0xA3), &quot;ISPPCCapacitor&quot;); // HMP uses this
&nbsp;        // code for
&nbsp;        // ERPPC
&nbsp;        clanCriticals.put(Long.valueOf(0xA4), &quot;ISUltraAC2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xA5), &quot;ISUltraAC5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xA6), &quot;ISUltraAC10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xA7), &quot;ISUltraAC20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xA8), &quot;CLMicroPulseLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xA9), &quot;ISPPCCapacitor&quot;); // HMP uses this
&nbsp;        // code for PPC
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0xAA), &quot;ISERMediumLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xAB), &quot;ISERSmallLaser&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xAC), &quot;ISAntiPersonnelPod&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0xAD), &quot;CLLightMG&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xAE), &quot;CLHeavyMG&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xAF), &quot;CLLightActiveProbe&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0xB0), &quot;ISLRM5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xB1), &quot;ISLRM10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xB2), &quot;ISLRM15&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xB3), &quot;ISLRM20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xB4), &quot;CLLightTAG&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xCF), &quot;Thunderbolt (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xB6), &quot;ISImprovedNarc&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xB7), &quot;ISSRM2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xB8), &quot;ISSRM4&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xB9), &quot;ISSRM6&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xBA), &quot;ISStreakSRM2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xBB), &quot;ISStreakSRM4&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xBC), &quot;ISStreakSRM6&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xBD), &quot;ISThunderbolt5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xBE), &quot;ISThunderbolt10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xBF), &quot;ISThunderbolt15&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xC0), &quot;ISThunderbolt20&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0xC2), &quot;ISAngelECMSuite&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xC3), &quot;ISBeagleActiveProbe&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xC4), &quot;ISBloodhoundActiveProbe&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xC5), &quot;ISC3MasterComputer&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xC6), &quot;ISC3SlaveUnit&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xC7), &quot;ISImprovedC3CPU&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xC8), &quot;ISGuardianECM&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xC9), &quot;ISNarcBeacon&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xCA), &quot;ISTAG&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0xCB), &quot;ISLRM5 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xCC), &quot;ISLRM10 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xCD), &quot;ISLRM15 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xCE), &quot;ISLRM20 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xCF), &quot;ISSRM2 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD0), &quot;ISSRM4 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD1), &quot;ISSRM6 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD2), &quot;ISStreakSRM2 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD3), &quot;ISStreakSRM4 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD4), &quot;ISStreakSRM6 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD5), &quot;ISVehicleFlamer&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD6), &quot;ISLongTomArtillery&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD7), &quot;ISSniperArtillery&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD8), &quot;ISThumperArtillery&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xD9), &quot;ISMRM10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xDA), &quot;ISMRM20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xDB), &quot;ISMRM30&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xDC), &quot;ISMRM40&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xDD), &quot;Grenade Launcher&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xDE), &quot;ISMRM10 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xDF), &quot;ISMRM20 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE0), &quot;ISMRM30 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE1), &quot;ISMRM40 (OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE2), &quot;ISLRTorpedo5&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE3), &quot;ISLRTorpedo10&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE4), &quot;ISLRTorpedo15&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE5), &quot;ISLRTorpedo20&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE6), &quot;ISSRT2&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE7), &quot;ISSRT4&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE8), &quot;ISSRT6&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xE9), &quot;ISLRM5 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xEA), &quot;ISLRM10 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xEB), &quot;ISLRM15 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xEC), &quot;ISLRM20 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xED), &quot;ISSRM2 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xEE), &quot;ISSRM4 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xEf), &quot;ISSRM6 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xF0), &quot;ISStreakSRM2 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xF1), &quot;ISStreakSRM4 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xF2), &quot;ISStreakSRM6 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xF3), &quot;ISMRM10 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xF4), &quot;ISMRM20 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xF5), &quot;ISMRM30 (I-OS)&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0xF6), &quot;ISMRM40 (I-OS)&quot;);
&nbsp;
&nbsp;        // clanCriticals.put(Long.valueOf(0x01ce), &quot;CLAC2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d0), &quot;CLAMS Ammo&quot;);
&nbsp;        // clanCriticals.put(Long.valueOf(0x01cf), &quot;CLAC5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d1), &quot;CLGauss Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d2), &quot;CLLBXAC2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d3), &quot;CLLBXAC5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d4), &quot;CLLBXAC10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d5), &quot;CLLBXAC20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d6), &quot;CLMG Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d7), &quot;CLUltraAC2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d8), &quot;CLUltraAC5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01d9), &quot;CLUltraAC10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01da), &quot;CLUltraAC20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01db), &quot;CLLRM5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01dc), &quot;CLLRM10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01dd), &quot;CLLRM15 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01de), &quot;CLLRM20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01df), &quot;CLSRM2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01e0), &quot;CLSRM4 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01e1), &quot;CLSRM6 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01e2), &quot;CLStreakSRM2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01e3), &quot;CLStreakSRM4 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01e4), &quot;CLStreakSRM6 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01e5), &quot;CLArrowIV Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01e9), &quot;CLNarc Pods&quot;);
&nbsp;        // clanCriticals.put(Long.valueOf(0x0215), &quot;CLFlamer Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x01f0), &quot;CLLRM5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01f1), &quot;CLLRM10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01f2), &quot;CLLRM15 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01f3), &quot;CLLRM20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01f6), &quot;CLVehicleFlamer Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01f7), &quot;CLLongTom Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01f8), &quot;CLSniper Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01f9), &quot;CLThumper Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01fa), &quot;CLLRTorpedo5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01fb), &quot;CLLRTorpedo10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01fc), &quot;CLLRTorpedo15 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01fd), &quot;CLLRTorpedo20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01fe), &quot;CLSRT2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x01ff), &quot;CLSRT4 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0200), &quot;CLSRT6 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0201), &quot;CLStreakLRM5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0202), &quot;CLStreakLRM10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0203), &quot;CLStreakLRM15 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0204), &quot;CLStreakLRM20 Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x021E), &quot;ISAC2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x021F), &quot;ISAC5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0220), &quot;ISAC10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0221), &quot;ISAC20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0222), &quot;ISAMS Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0223), &quot;Long Tom Cannon Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0224), &quot;Sniper Cannon Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0225), &quot;Thumper Cannon Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0226), &quot;ISLightGauss Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0227), &quot;ISGauss Ammo&quot;);
&nbsp;        // clanCriticals.put(Long.valueOf(0x0228), &quot;CLSRTorpedo6 Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x022B), &quot;ISLBXAC2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x022C), &quot;ISLBXAC5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x022D), &quot;ISLBXAC10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x022E), &quot;ISLBXAC20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x022F), &quot;ISMG Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0230), &quot;ISLAC2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0231), &quot;ISLAC5 Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x0234), &quot;ISUltraAC2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0235), &quot;ISUltraAC5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0236), &quot;ISUltraAC10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0237), &quot;ISUltraAC20 Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x023d), &quot;CLLightMG Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x023e), &quot;CLHeavyMG Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x0240), &quot;ISLRM5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0241), &quot;ISLRM10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0242), &quot;ISLRM15 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0243), &quot;ISLRM20 Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x0246), &quot;ISiNarc Pods&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0247), &quot;ISSRM2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0248), &quot;ISSRM4 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0249), &quot;ISSRM6 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x024A), &quot;ISStreakSRM2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x024B), &quot;ISStreakSRM4 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x024C), &quot;ISStreakSRM6 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x024D), &quot;ISThunderbolt5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x024E), &quot;ISThunderbolt10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x024F), &quot;ISThunderbolt15 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0250), &quot;ISThunderbolt20 Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x0259), &quot;ISNarc Pods&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x0265), &quot;ISVehicleFlamer Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0266), &quot;ISLongTomArtillery Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0267), &quot;ISSniperArtillery Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0268), &quot;ISThumperArtillery Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0269), &quot;ISMRM10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x026A), &quot;ISMRM20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x026B), &quot;ISMRM30 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x026C), &quot;ISMRM40 Ammo&quot;);
&nbsp;
&nbsp;        clanCriticals.put(Long.valueOf(0x0272), &quot;ISLRTorpedo15 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0273), &quot;ISLRTorpedo20 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0274), &quot;ISLRTorpedo5 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0275), &quot;ISLRTorpedo10 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0276), &quot;ISSRT4 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0277), &quot;ISSRT2 Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x0278), &quot;ISSRT6 Ammo&quot;);
&nbsp;
&nbsp;        // special for ammo mutator
&nbsp;        // 28c-28f = atm
&nbsp;        criticals.put(Long.valueOf(0x10000028cL), &quot;CLATM3 ER Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x20000028cL), &quot;CLATM3 HE Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10000028dL), &quot;CLATM6 ER Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x20000028dL), &quot;CLATM6 HE Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10000028eL), &quot;CLATM9 ER Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x20000028eL), &quot;CLATM9 HE Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10000028fL), &quot;CLATM12 ER Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x20000028fL), &quot;CLATM12 HE Ammo&quot;);
&nbsp;        // 1db-1de = is
&nbsp;        // 1d2-1d5 = cl
&nbsp;        // 298-299 = thb
&nbsp;        // 22B-22E = IS on clan
&nbsp;        // 246-249 = clan on IS
&nbsp;        isCriticals.put(Long.valueOf(0x1000001dbL), &quot;ISLBXAC2 CL Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x1000001dcL), &quot;ISLBXAC5 CL Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x1000001ddL), &quot;ISLBXAC10 CL Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x1000001deL), &quot;ISLBXAC20 CL Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x100000246L), &quot;CLLBXAC2 CL Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x100000247L), &quot;CLLBXAC5 CL Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x100000248L), &quot;CLLBXAC10 CL Ammo&quot;);
&nbsp;        isCriticals.put(Long.valueOf(0x100000249L), &quot;CLLBXAC20 CL Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x10000022bL), &quot;ISLBXAC2 CL Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x10000022cL), &quot;ISLBXAC5 CL Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x10000022dL), &quot;ISLBXAC10 CL Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x10000022eL), &quot;ISLBXAC20 CL Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x1000001d2L), &quot;CLLBXAC2 CL Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x1000001d3L), &quot;CLLBXAC5 CL Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x1000001d4L), &quot;CLLBXAC10 CL Ammo&quot;);
&nbsp;        clanCriticals.put(Long.valueOf(0x1000001d5L), &quot;CLLBXAC20 CL Ammo&quot;);
&nbsp;        criticals.put(Long.valueOf(0x100000298L), &quot;ISLBXAC2 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x100000299L), &quot;ISLBXAC5 Ammo (THB)&quot;);
&nbsp;        criticals.put(Long.valueOf(0x10000029AL), &quot;ISLBXAC20 Ammo (THB)&quot;);
&nbsp;    }
&nbsp;
&nbsp;    private String getCriticalName(long critical) {
&nbsp;        return getCriticalName(Long.valueOf(critical));
&nbsp;    }
&nbsp;
&nbsp;    private String getCriticalName(Long critical) {
&nbsp;        // Critical slots are 4 bytes long. The first two bytes are
&nbsp;        // the type, the third is the ammo count, and I don&#39;t know
&nbsp;        // what the fourth is.
&nbsp;
&nbsp;        short ammoCount = 0;
&nbsp;        if (critical.longValue() &gt; Short.MAX_VALUE) {
&nbsp;            // Grab the ammo count from the third byte. It is stored as
&nbsp;            // an unsigned 8-bit number, so we&#39;ll fit it into a signed
&nbsp;            // 16-bit number.
&nbsp;            ammoCount = (short) ((critical.longValue() &gt;&gt; 16) &amp; 0xFF);
&nbsp;            // Mask off everything but the first two bytes.
&nbsp;            critical = Long.valueOf(critical.longValue() &amp; 0xFFFF);
&nbsp;        }
&nbsp;
&nbsp;        // At this point, the critical value is an unsigned integer.
&nbsp;
&nbsp;        // First try &quot;shared&quot; criticals.
&nbsp;        String critName = (String) criticals.get(critical);
&nbsp;
&nbsp;        if (critName == null) {
&nbsp;            TechType tType = techType;
&nbsp;
&nbsp;            if (tType == TechType.MIXED) {
&nbsp;                if (critical.intValue() == 0x0A) {
&nbsp;                    tType = heatSinkTechType;
&nbsp;                } else if ((critical.intValue() == 0x11) || (critical.intValue() == 0x1F)) {
&nbsp;                    tType = physicalWeaponTechType;
&nbsp;                } else if (critical.intValue() == 0x12) {
&nbsp;                    tType = targetingComputerTechType;
&nbsp;                } else if (critical.intValue() == 0x17) {
&nbsp;                    tType = myomerTechType;
&nbsp;                } else {
&nbsp;                    // Mixed tech mechs lookup most equipment using their &quot;base&quot;
&nbsp;                    // or
&nbsp;                    // &quot;preferred&quot; technology type.
&nbsp;                    tType = mixedBaseTechType;
&nbsp;                }
&nbsp;            }
&nbsp;
&nbsp;            // Attempt to lookup equipment using the appropriate
&nbsp;            // tech type.
&nbsp;            Hashtable&lt;?, ?&gt; techCriticals = (Hashtable&lt;?, ?&gt;) criticals.get(tType);
&nbsp;            if (techCriticals != null) {
&nbsp;                critName = (String) techCriticals.get(critical);
&nbsp;            }
&nbsp;        }
&nbsp;
&nbsp;        // MG ammo can come in half ton increments, so we have to look
&nbsp;        // up the actual ammo count. Other weapons have their counts
&nbsp;        // hard-coded.
&nbsp;        if ((critName != null) &amp;&amp; critName.endsWith(&quot;MG Ammo&quot;)) {
&nbsp;            critName += &quot; (&quot; + ammoCount + &quot;)&quot;;
&nbsp;        }
&nbsp;
&nbsp;        if ((critName == null) &amp;&amp; (critical.longValue() == 0)) {
&nbsp;            return &quot;-Empty-&quot;;
&nbsp;        }
&nbsp;
&nbsp;        // Unexpected parsing failures should be passed on so that
&nbsp;        // they can be dealt with properly.
&nbsp;        if (critName == null) {
&nbsp;            critName = &quot;UnknownCritical(0x&quot; + Integer.toHexString(critical.intValue()) + &quot;)&quot;;
&nbsp;        }
&nbsp;
&nbsp;        if (ammoCount &gt; 0) {
&nbsp;            critName = mutateLBXAmmo(critName);
&nbsp;            critName = mutateATMAmmo(critName);
&nbsp;        }
&nbsp;
&nbsp;        return critName;
&nbsp;    }
&nbsp;
&nbsp;    /* OMIT_FOR_JHMPREAD_COMPILATION BLOCK_BEGIN */
&nbsp;    /**
&nbsp;     * This function moves all &quot;empty&quot; slots to the end of a location&#39;s critical
&nbsp;     * list. MegaMek adds equipment to the first empty slot available in a
&nbsp;     * location. This means that any &quot;holes&quot; (empty slots not at the end of a
&nbsp;     * location), will cause the file crits and MegaMek&#39;s crits to become out of
&nbsp;     * sync.
&nbsp;     */
&nbsp;    private void compactCriticals(long[] criticals) {
&nbsp;        for (int x = 0; x &lt; criticals.length; x++) {
&nbsp;            int firstEmpty = -1;
&nbsp;            for (int slot = 0; slot &lt; criticals.length; slot++) {
&nbsp;                if (criticals[slot] == 0) {
&nbsp;                    firstEmpty = slot;
&nbsp;                }
&nbsp;                if ((firstEmpty != -1) &amp;&amp; (criticals[slot] != 0)) {
&nbsp;                    // move this to the first empty slot
&nbsp;                    criticals[firstEmpty] = criticals[slot];
&nbsp;                    // mark the old slot empty
&nbsp;                    criticals[slot] = 0;
&nbsp;                    // restart just after the moved slot&#39;s new location
&nbsp;                    slot = firstEmpty;
&nbsp;                    firstEmpty = -1;
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /* BLOCK_END */
&nbsp;
&nbsp;    public String getMtf() {
&nbsp;        StringBuffer sb = new StringBuffer();
&nbsp;        String nl = &quot;\r\n&quot;; // DOS friendly
&nbsp;
&nbsp;        // Write Output MTF
&nbsp;        sb.append(&quot;Version:1.0&quot;).append(nl);
&nbsp;        sb.append(name).append(nl);
&nbsp;        sb.append(model).append(nl);
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Config:&quot;).append(chassisType);
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;TechBase:&quot;).append(techType);
&nbsp;        if (techType == TechType.MIXED) {
&nbsp;            sb.append(&quot; (&quot;);
&nbsp;            if (mixedBaseTechType == TechType.INNER_SPHERE) {
&nbsp;                // MtfFile expects abbreviated form of Inner Sphere if
&nbsp;                // mixed tech is involved.
&nbsp;                sb.append(&quot;IS&quot;);
&nbsp;            } else {
&nbsp;                sb.append(mixedBaseTechType);
&nbsp;            }
&nbsp;            sb.append(&quot; Chassis)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;Era:&quot;).append(year).append(nl);
&nbsp;        sb.append(&quot;Rules Level:&quot;).append(rulesLevel);
&nbsp;        sb.append(nl);
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Mass:&quot;).append(tonnage).append(nl);
&nbsp;        sb.append(&quot;Engine:&quot;).append(engineRating).append(&quot; &quot;).append(engineType).append(&quot; Engine&quot;);
&nbsp;        if (mixedBaseTechType != engineTechType) {
&nbsp;            sb.append(&quot; (&quot;).append(engineTechType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;Structure:&quot;).append(internalStructureType).append(nl);
&nbsp;        sb.append(&quot;Myomer:&quot;).append(myomerType).append(nl);
&nbsp;        if (gyroType != Mech.GYRO_STANDARD) {
&nbsp;            sb.append(&quot;Gyro:&quot;).append(Mech.getGyroTypeString(gyroType)).append(nl);
&nbsp;        }
&nbsp;        if (cockpitType != Mech.COCKPIT_STANDARD) {
&nbsp;            sb.append(&quot;Cockpit:&quot;).append(Mech.getCockpitTypeString(cockpitType)).append(nl);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Heat Sinks:&quot;).append(heatSinks).append(&quot; &quot;).append(heatSinkType).append(nl);
&nbsp;        sb.append(&quot;Walk MP:&quot;).append(walkMP).append(nl);
&nbsp;        sb.append(&quot;Jump MP:&quot;).append(jumpMP).append(nl);
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Armor:&quot;).append(armorType);
&nbsp;        if (mixedBaseTechType != armorTechType) {
&nbsp;            sb.append(&quot; (&quot;).append(armorTechType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        boolean isPatchwork = false;
&nbsp;        if (armorType == ArmorType.PATCHWORK) {
&nbsp;            isPatchwork = true;
&nbsp;        }
&nbsp;        sb.append(&quot;LA Armor:&quot;).append(laArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(laArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;RA Armor:&quot;).append(raArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(raArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;LT Armor:&quot;).append(ltArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(ltArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;RT Armor:&quot;).append(rtArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(rtArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;CT Armor:&quot;).append(ctArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(ctArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;HD Armor:&quot;).append(headArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(headArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;LL Armor:&quot;).append(llArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(llArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;RL Armor:&quot;).append(rlArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(rlArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;RTL Armor:&quot;).append(ltrArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(ltrArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;RTR Armor:&quot;).append(rtrArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(rtrArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;RTC Armor:&quot;).append(ctrArmor);
&nbsp;        if (isPatchwork) {
&nbsp;            sb.append(&quot; (&quot;).append(ctrArmorType).append(&quot;)&quot;);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Weapons:&quot;).append(totalWeaponCount).append(nl);
&nbsp;        for (int x = 0; x &lt; totalWeaponCount; x++) {
&nbsp;            sb.append(weaponArray[x][0]).append(&quot; &quot;).append(getCriticalName(weaponArray[x][1])).append(&quot;, &quot;).append(WeaponLocation.getType(weaponArray[x][2]));
&nbsp;            if (weaponArray[x][3] &gt; 0) {
&nbsp;                sb.append(&quot;, Ammo:&quot;).append(weaponArray[x][3]);
&nbsp;            }
&nbsp;            sb.append(nl);
&nbsp;        }
&nbsp;
&nbsp;        sb.append(nl);
&nbsp;        sb.append(&quot;Left Arm:&quot;).append(nl);
&nbsp;        for (int x = 0; x &lt; 12; x++) {
&nbsp;            sb.append(getCriticalName(laCriticals[x])).append(nl);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Right Arm:&quot;).append(nl);
&nbsp;        for (int x = 0; x &lt; 12; x++) {
&nbsp;            sb.append(getCriticalName(raCriticals[x])).append(nl);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Left Torso:&quot;).append(nl);
&nbsp;        for (int x = 0; x &lt; 12; x++) {
&nbsp;            sb.append(getCriticalName(ltCriticals[x])).append(nl);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Right Torso:&quot;).append(nl);
&nbsp;        for (int x = 0; x &lt; 12; x++) {
&nbsp;            sb.append(getCriticalName(rtCriticals[x])).append(nl);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Center Torso:&quot;).append(nl);
&nbsp;        for (int x = 0; x &lt; 12; x++) {
&nbsp;            sb.append(getCriticalName(ctCriticals[x])).append(nl);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Head:&quot;).append(nl);
&nbsp;        for (int x = 0; x &lt; 12; x++) {
&nbsp;            sb.append(getCriticalName(headCriticals[x])).append(nl);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Left Leg:&quot;).append(nl);
&nbsp;        for (int x = 0; x &lt; 12; x++) {
&nbsp;            sb.append(getCriticalName(llCriticals[x])).append(nl);
&nbsp;        }
&nbsp;        sb.append(nl);
&nbsp;
&nbsp;        sb.append(&quot;Right Leg:&quot;).append(nl);
&nbsp;        for (int x = 0; x &lt; 12; x++) {
&nbsp;            sb.append(getCriticalName(rlCriticals[x])).append(nl);
&nbsp;        }
&nbsp;
&nbsp;        return sb.toString();
&nbsp;    }
&nbsp;
&nbsp;    public static void main(String[] args) {
&nbsp;        if (args.length == 0) {
&nbsp;            System.out.println(&quot;Hmpread (Java Edition) version 1.3&quot;);
&nbsp;            System.out.println(&quot;--------------------------------------&quot;);
&nbsp;            System.out.println();
&nbsp;            System.out.println(&quot;Drag and drop \&quot;.hmp\&quot; files onto this exe to convert them to \&quot;.mtf\&quot; files.\nMultiple files may be processed at once.  Files may also be specified on\nthe command line.&quot;);
&nbsp;            System.out.println();
&nbsp;            System.out.println(&quot;Press &lt;enter&gt; to quit...&quot;);
&nbsp;            try {
&nbsp;                System.in.read(); // pause
&nbsp;            } catch (Exception e) {
&nbsp;                // ignore
&nbsp;            }
&nbsp;            return;
&nbsp;        }
&nbsp;        for (int i = 0; i &lt; args.length; i++) {
&nbsp;            String filename = args[i];
&nbsp;            if (!filename.endsWith(&quot;.hmp&quot;)) {
&nbsp;                System.out.println(&quot;Error: Input file must have Heavy Metal Pro extension &#39;.hmp&#39;&quot;);
&nbsp;                System.out.println();
&nbsp;                System.out.println(&quot;Press &lt;enter&gt; to quit...&quot;);
&nbsp;                try {
&nbsp;                    System.in.read(); // pause
&nbsp;                } catch (Exception e) {
&nbsp;                    // ignore
&nbsp;                }
&nbsp;                return;
&nbsp;            }
&nbsp;            HmpFile hmpFile = null;
&nbsp;            try(InputStream is = new FileInputStream(args[i])) {
&nbsp;                hmpFile = new HmpFile(is);
&nbsp;            } catch (Exception e) {
&nbsp;                e.printStackTrace();
&nbsp;                return;
&nbsp;            }
&nbsp;            filename = filename.substring(0, filename.lastIndexOf(&quot;.hmp&quot;));
&nbsp;            filename += &quot;.mtf&quot;;
&nbsp;            BufferedWriter out = null;
&nbsp;            try {
&nbsp;                out = new BufferedWriter(new FileWriter(new File(filename)));
&nbsp;                out.write(hmpFile.getMtf());
&nbsp;            } catch (Exception e) {
&nbsp;                e.printStackTrace();
&nbsp;            } finally {
&nbsp;                if (out != null) {
&nbsp;                    try {
&nbsp;                        out.close();
&nbsp;                    } catch (IOException ex) {
&nbsp;                        // ignore
&nbsp;                    }
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;abstract class HMPType {
&nbsp;    private String name;
&nbsp;
&nbsp;    private int id;
&nbsp;
&nbsp;    protected HMPType(String name, int id) {
&nbsp;        this.name = name;
&nbsp;        this.id = id;
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String toString() {
&nbsp;        return name;
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean equals(Object obj) {
&nbsp;        if(this == obj) {
&nbsp;            return true;
&nbsp;        }
&nbsp;        if((null == obj) || (getClass() != obj.getClass())) {
&nbsp;            return false;
&nbsp;        }
&nbsp;        final HMPType other = (HMPType) obj;
&nbsp;        return Objects.equals(name, other.name) &amp;&amp; Objects.equals(id, other.id);
&nbsp;    }
&nbsp;    
&nbsp;    @Override
&nbsp;    public int hashCode() {
&nbsp;        return Objects.hash(name, id);
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class DesignType extends HMPType {
&nbsp;    public static final Hashtable&lt;Integer, DesignType&gt; types = new Hashtable&lt;Integer, DesignType&gt;();
&nbsp;
&nbsp;    public static final DesignType STANDARD = new DesignType(&quot;Standard&quot;, 1);
&nbsp;    public static final DesignType MODIFIED = new DesignType(&quot;Modified&quot;, 2);
&nbsp;    public static final DesignType CUSTOM = new DesignType(&quot;Custom&quot;, 3);
&nbsp;
&nbsp;    private DesignType(String name, int id) {
&nbsp;        super(name, id);
&nbsp;        types.put(Integer.valueOf(id), this);
&nbsp;    }
&nbsp;
&nbsp;    public static DesignType getType(int i) {
&nbsp;        return types.get(Integer.valueOf(i));
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class ArmorType extends HMPType {
&nbsp;    public static final Hashtable&lt;Integer, ArmorType&gt; types = new Hashtable&lt;Integer, ArmorType&gt;();
&nbsp;
&nbsp;    public static final ArmorType STANDARD = new ArmorType(&quot;Standard&quot;, 0);
&nbsp;    public static final ArmorType FERRO_FIBROUS = new ArmorType(&quot;Ferro-Fibrous&quot;, 1);
&nbsp;    public static final ArmorType REACTIVE = new ArmorType(&quot;Reactive&quot;, 2);
&nbsp;    public static final ArmorType REFLECTIVE = new ArmorType(&quot;Reflective&quot;, 3);
&nbsp;    public static final ArmorType HARDENED = new ArmorType(&quot;Hardened&quot;, 4);
&nbsp;    public static final ArmorType LIGHT_FERRO_FIBROUS = new ArmorType(&quot;Light Ferro-Fibrous&quot;, 5);
&nbsp;    public static final ArmorType HEAVY_FERRO_FIBROUS = new ArmorType(&quot;Heavy Ferro-Fibrous&quot;, 6);
&nbsp;    public static final ArmorType PATCHWORK = new ArmorType(&quot;Patchwork&quot;, 7);
&nbsp;    public static final ArmorType STEALTH = new ArmorType(&quot;Stealth&quot;, 8);
&nbsp;
&nbsp;    private ArmorType(String name, int id) {
&nbsp;        super(name, id);
&nbsp;        types.put(Integer.valueOf(id), this);
&nbsp;    }
&nbsp;
&nbsp;    public static ArmorType getType(int i) {
&nbsp;        return types.get(Integer.valueOf(i));
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class EngineType extends HMPType {
&nbsp;    public static final Hashtable&lt;Integer, EngineType&gt; types = new Hashtable&lt;Integer, EngineType&gt;();
&nbsp;
&nbsp;    public static final EngineType FUSION = new EngineType(&quot;Fusion&quot;, 0);
&nbsp;    public static final EngineType XL = new EngineType(&quot;XL&quot;, 1);
&nbsp;    public static final EngineType XXL = new EngineType(&quot;XXL&quot;, 2);
&nbsp;    public static final EngineType COMPACT = new EngineType(&quot;Compact&quot;, 3);
&nbsp;    public static final EngineType ICE = new EngineType(&quot;I.C.E.&quot;, 4);
&nbsp;    public static final EngineType LIGHT = new EngineType(&quot;Light&quot;, 5);
&nbsp;
&nbsp;    private EngineType(String name, int id) {
&nbsp;        super(name, id);
&nbsp;        types.put(Integer.valueOf(id), this);
&nbsp;    }
&nbsp;
&nbsp;    public static EngineType getType(int i) {
&nbsp;        return types.get(Integer.valueOf(i));
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class HeatSinkType extends HMPType {
&nbsp;    public static final Hashtable&lt;Integer, HeatSinkType&gt; types = new Hashtable&lt;Integer, HeatSinkType&gt;();
&nbsp;
&nbsp;    public static final HeatSinkType SINGLE = new HeatSinkType(&quot;Single&quot;, 0);
&nbsp;    public static final HeatSinkType DOUBLE = new HeatSinkType(&quot;Double&quot;, 1);
&nbsp;    public static final HeatSinkType COMPACT = new HeatSinkType(&quot;Compact&quot;, 2);
&nbsp;    public static final HeatSinkType LASER = new HeatSinkType(&quot;Laser&quot;, 3);
&nbsp;
&nbsp;    private HeatSinkType(String name, int id) {
&nbsp;        super(name, id);
&nbsp;        types.put(Integer.valueOf(id), this);
&nbsp;    }
&nbsp;
&nbsp;    public static HeatSinkType getType(int i) {
&nbsp;        return types.get(Integer.valueOf(i));
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class ChassisType extends HMPType {
<b class="nc">&nbsp;    public static final Hashtable&lt;Integer, ChassisType&gt; types = new Hashtable&lt;Integer, ChassisType&gt;();</b>
&nbsp;
<b class="nc">&nbsp;    public static final ChassisType BIPED = new ChassisType(&quot;Biped&quot;, 0);</b>
<b class="nc">&nbsp;    public static final ChassisType QUADRAPED = new ChassisType(&quot;Quadraped&quot;, 1);</b>
<b class="nc">&nbsp;    public static final ChassisType LAM = new ChassisType(&quot;LAM&quot;, 2);</b>
<b class="nc">&nbsp;    public static final ChassisType ARMLESS = new ChassisType(&quot;Armless&quot;, 3);</b>
<b class="nc">&nbsp;    public static final ChassisType BIPED_OMNI = new ChassisType(&quot;Biped Omni&quot;, 10);</b>
<b class="nc">&nbsp;    public static final ChassisType QUADRAPED_OMNI = new ChassisType(&quot;Quadraped Omni&quot;, 11);</b>
&nbsp;
&nbsp;    private ChassisType(String name, int id) {
<b class="nc">&nbsp;        super(name, id);</b>
<b class="nc">&nbsp;        types.put(Integer.valueOf(id), this);</b>
&nbsp;    }
&nbsp;
&nbsp;    public static ChassisType getType(int i) {
<b class="nc">&nbsp;        return types.get(Integer.valueOf(i));</b>
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class InternalStructureType extends HMPType {
&nbsp;    public static final Hashtable&lt;Integer, InternalStructureType&gt; types = new Hashtable&lt;Integer, InternalStructureType&gt;();
&nbsp;
&nbsp;    public static final InternalStructureType STANDARD = new InternalStructureType(EquipmentType.getStructureTypeName(EquipmentType.T_STRUCTURE_STANDARD), 0);
&nbsp;    public static final InternalStructureType ENDO_STEEL = new InternalStructureType(EquipmentType.getStructureTypeName(EquipmentType.T_STRUCTURE_ENDO_STEEL), 1);
&nbsp;    public static final InternalStructureType COMPOSITE = new InternalStructureType(EquipmentType.getStructureTypeName(EquipmentType.T_STRUCTURE_COMPOSITE), 2);
&nbsp;    public static final InternalStructureType REINFORCED = new InternalStructureType(EquipmentType.getStructureTypeName(EquipmentType.T_STRUCTURE_REINFORCED), 3);
&nbsp;    public static final InternalStructureType UTILITY = new InternalStructureType(&quot;Utility&quot;, 4);
&nbsp;
&nbsp;    private InternalStructureType(String name, int id) {
&nbsp;        super(name, id);
&nbsp;        types.put(Integer.valueOf(id), this);
&nbsp;    }
&nbsp;
&nbsp;    public static InternalStructureType getType(int i) {
&nbsp;        return types.get(Integer.valueOf(i));
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class TechType extends HMPType {
&nbsp;    public static final Hashtable&lt;Integer, TechType&gt; types = new Hashtable&lt;Integer, TechType&gt;();
&nbsp;
&nbsp;    public static final TechType INNER_SPHERE = new TechType(&quot;Inner Sphere&quot;, 0);
&nbsp;    public static final TechType CLAN = new TechType(&quot;Clan&quot;, 1);
&nbsp;    public static final TechType MIXED = new TechType(&quot;Mixed&quot;, 2);
&nbsp;
&nbsp;    private TechType(String name, int id) {
&nbsp;        super(name, id);
&nbsp;        types.put(Integer.valueOf(id), this);
&nbsp;    }
&nbsp;
&nbsp;    public static TechType getType(int i) {
&nbsp;        return types.get(Integer.valueOf(i));
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class MyomerType extends HMPType {
&nbsp;    public static final Hashtable&lt;Integer, MyomerType&gt; types = new Hashtable&lt;Integer, MyomerType&gt;();
&nbsp;
&nbsp;    public static final MyomerType STANDARD = new MyomerType(&quot;Standard&quot;, 0);
&nbsp;    public static final MyomerType TRIPLE_STRENGTH = new MyomerType(&quot;Triple-Strength&quot;, 1);
&nbsp;    public static final MyomerType MASC = new MyomerType(&quot;MASC&quot;, 2);
&nbsp;    public static final MyomerType INDUSTRIAL_TRIPLE_STRENGTH = new MyomerType(&quot;Industrial Triple-Strength&quot;, 3);
&nbsp;
&nbsp;    private MyomerType(String name, int id) {
&nbsp;        super(name, id);
&nbsp;        types.put(Integer.valueOf(id), this);
&nbsp;    }
&nbsp;
&nbsp;    public static MyomerType getType(int i) {
&nbsp;        return types.get(Integer.valueOf(i));
&nbsp;    }
&nbsp;}
&nbsp;
&nbsp;class WeaponLocation extends HMPType {
&nbsp;    public static final Hashtable&lt;Integer, WeaponLocation&gt; types = new Hashtable&lt;Integer, WeaponLocation&gt;();
&nbsp;
&nbsp;    public static final WeaponLocation LEFT_ARM = new WeaponLocation(&quot;Left Arm&quot;, 1);
&nbsp;    public static final WeaponLocation LEFT_TORSO = new WeaponLocation(&quot;Left Torso&quot;, 2);
&nbsp;    public static final WeaponLocation LEFT_LEG = new WeaponLocation(&quot;Left Leg&quot;, 3);
&nbsp;    public static final WeaponLocation RIGHT_ARM = new WeaponLocation(&quot;Right Arm&quot;, 4);
&nbsp;    public static final WeaponLocation RIGHT_TORSO = new WeaponLocation(&quot;Right Torso&quot;, 5);
&nbsp;    public static final WeaponLocation RIGHT_LEG = new WeaponLocation(&quot;Right Leg&quot;, 6);
&nbsp;    public static final WeaponLocation HEAD = new WeaponLocation(&quot;Head&quot;, 7);
&nbsp;    public static final WeaponLocation CENTER_TORSO = new WeaponLocation(&quot;Center Torso&quot;, 8);
&nbsp;    public static final WeaponLocation LEFT_TORSO_R = new WeaponLocation(&quot;Left Torso (R)&quot;, 11);
&nbsp;    public static final WeaponLocation LEFT_LEG_R = new WeaponLocation(&quot;Left Leg (R)&quot;, 12);
&nbsp;    public static final WeaponLocation RIGHT_TORSO_R = new WeaponLocation(&quot;Right Torso (R)&quot;, 14);
&nbsp;    public static final WeaponLocation RIGHT_LEG_R = new WeaponLocation(&quot;Right Leg (R)&quot;, 15);
&nbsp;    public static final WeaponLocation HEAD_R = new WeaponLocation(&quot;Head (R)&quot;, 16);
&nbsp;    public static final WeaponLocation CENTER_TORSO_R = new WeaponLocation(&quot;Center Torso (R)&quot;, 17);
&nbsp;
&nbsp;    private WeaponLocation(String name, int id) {
&nbsp;        super(name, id);
&nbsp;        types.put(Integer.valueOf(id), this);
&nbsp;    }
&nbsp;
&nbsp;    public static WeaponLocation getType(int i) {
&nbsp;        return types.get(Integer.valueOf(i));
&nbsp;    }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-05-16 16:28</div>
</div>
</body>
</html>
