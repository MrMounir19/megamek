


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > MapSettings</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">megamek.common</a>
</div>

<h1>Coverage Summary for Class: MapSettings (megamek.common)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">MapSettings</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    60.3%
  </span>
  <span class="absValue">
    (85/141)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    29.9%
  </span>
  <span class="absValue">
    (207/693)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; * MegaMek - Copyright (C) 2002,2003 Ben Mazur (bmazur@sev.org)
&nbsp; *
&nbsp; *  This program is free software; you can redistribute it and/or modify it
&nbsp; *  under the terms of the GNU General Public License as published by the Free
&nbsp; *  Software Foundation; either version 2 of the License, or (at your option)
&nbsp; *  any later version.
&nbsp; *
&nbsp; *  This program is distributed in the hope that it will be useful, but
&nbsp; *  WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
&nbsp; *  or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License
&nbsp; *  for more details.
&nbsp; */
&nbsp;
&nbsp;package megamek.common;
&nbsp;
&nbsp;import java.io.File;
&nbsp;import java.io.InputStream;
&nbsp;import java.io.OutputStream;
&nbsp;import java.io.Serializable;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.Iterator;
&nbsp;import javax.xml.bind.JAXBContext;
&nbsp;import javax.xml.bind.JAXBElement;
&nbsp;import javax.xml.bind.JAXBException;
&nbsp;import javax.xml.bind.Marshaller;
&nbsp;import javax.xml.bind.PropertyException;
&nbsp;import javax.xml.bind.Unmarshaller;
&nbsp;import javax.xml.bind.annotation.XmlAccessType;
&nbsp;import javax.xml.bind.annotation.XmlAccessorType;
&nbsp;import javax.xml.bind.annotation.XmlElement;
&nbsp;import javax.xml.bind.annotation.XmlRootElement;
&nbsp;import javax.xml.namespace.QName;
&nbsp;import megamek.MegaMek;
&nbsp;import megamek.common.util.BuildingTemplate;
&nbsp;import megamek.utils.MegaMekXmlUtil;
&nbsp;
&nbsp;/**
&nbsp; * MapSettings.java Created on March 27, 2002, 1:07 PM
&nbsp; *
&nbsp; * @author Ben
&nbsp; */
&nbsp;@XmlRootElement(name = &quot;ENVIRONMENT&quot;)
&nbsp;@XmlAccessorType(XmlAccessType.NONE)
&nbsp;public class MapSettings implements Serializable {
&nbsp;    private static final long serialVersionUID = -6163977970758303066L;
&nbsp;
&nbsp;    public static final String BOARD_RANDOM = &quot;[RANDOM]&quot;;
&nbsp;    public static final String BOARD_SURPRISE = &quot;[SURPRISE]&quot;;
&nbsp;    public static final String BOARD_GENERATED = &quot;[GENERATED]&quot;;
&nbsp;
&nbsp;    public static final int MOUNTAIN_PLAIN = 0;
&nbsp;    public static final int MOUNTAIN_VOLCANO_EXTINCT = 1;
&nbsp;    public static final int MOUNTAIN_VOLCANO_DORMANT = 2;
&nbsp;    public static final int MOUNTAIN_VOLCANO_ACTIVE = 3;
&nbsp;    public static final int MOUNTAIN_SNOWCAPPED = 4;
&nbsp;    public static final int MOUNTAIN_LAKE = 5;
&nbsp;
&nbsp;    public static final int MEDIUM_GROUND = 0;
&nbsp;    public static final int MEDIUM_ATMOSPHERE = 1;
&nbsp;    public static final int MEDIUM_SPACE = 2;
&nbsp;
<b class="fc">&nbsp;    private static final String[] mediumNames = { &quot;Ground&quot;, &quot;Atmosphere&quot;, &quot;Space&quot; };</b>
&nbsp;
<b class="fc">&nbsp;    @XmlElement(name = &quot;WIDTH&quot;)</b>
&nbsp;    private int boardWidth = 16;
<b class="fc">&nbsp;    @XmlElement(name = &quot;HEIGHT&quot;)</b>
&nbsp;    private int boardHeight = 17;
<b class="fc">&nbsp;    private int mapWidth = 1;</b>
<b class="fc">&nbsp;    private int mapHeight = 1;</b>
<b class="fc">&nbsp;    private int medium = MEDIUM_GROUND;</b>
&nbsp;
<b class="fc">&nbsp;    private ArrayList&lt;String&gt; boardsSelected = new ArrayList&lt;String&gt;();</b>
<b class="fc">&nbsp;    private ArrayList&lt;String&gt; boardsAvailable = new ArrayList&lt;String&gt;();</b>
<b class="fc">&nbsp;    private ArrayList&lt;BuildingTemplate&gt; boardBuildings = new ArrayList&lt;BuildingTemplate&gt;();</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Parameters for the Map Generator Parameters refer to a default map siz 16
&nbsp;     * x 17, with other size some of the parameters get linear transformed to
&nbsp;     * give good result for new size
&nbsp;     */
&nbsp;
&nbsp;    /** how much hills there should be, Range 0..99 */
<b class="fc">&nbsp;    @XmlElement(name = &quot;HILLYNESS&quot;)</b>
&nbsp;    private int hilliness = 40;
&nbsp;    /**
&nbsp;     * how much cliffs should there be, range 0-100 (% chance for each cliff
&nbsp;     * candidate)
&nbsp;     */
<b class="fc">&nbsp;    @XmlElement(name = &quot;CLIFFS&quot;)</b>
&nbsp;    private int cliffs = 0;
&nbsp;    /** Maximum difference between highest elevation and lowest sink */
<b class="fc">&nbsp;    @XmlElement(name = &quot;HILLELEVATIONRANGE&quot;)</b>
&nbsp;    private int range = 5;
&nbsp;    /** Probabiltity for invertion of the map, Range 0..100 */
<b class="fc">&nbsp;    @XmlElement(name = &quot;HILLINVERTPROB&quot;)</b>
&nbsp;    private int probInvert = 5;
&nbsp;
&nbsp;    /** how much Lakes at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;WATERMINSPOTS&quot;)</b>
&nbsp;    private int minWaterSpots = 1;
&nbsp;    /** how much Lakes at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;WATERMAXSPOTS&quot;)</b>
&nbsp;    private int maxWaterSpots = 3;
&nbsp;    /** minimum size of a lake */
<b class="fc">&nbsp;    @XmlElement(name = &quot;WATERMINHEXES&quot;)</b>
&nbsp;    private int minWaterSize = 5;
&nbsp;    /** maximum Size of a lake */
<b class="fc">&nbsp;    @XmlElement(name = &quot;WATERMAXHEXES&quot;)</b>
&nbsp;    private int maxWaterSize = 10;
&nbsp;    /** probability for water deeper than lvl1, Range 0..100 */
<b class="fc">&nbsp;    @XmlElement(name = &quot;WATERDEEPPROB&quot;)</b>
&nbsp;    private int probDeep = 33;
&nbsp;
&nbsp;    /** how much forests at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORESTMINSPOTS&quot;)</b>
&nbsp;    private int minForestSpots = 3;
&nbsp;    /** how much forests at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORESTMAXSPOTS&quot;)</b>
&nbsp;    private int maxForestSpots = 8;
&nbsp;    /** minimum size of a forest */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORESTMINHEXES&quot;)</b>
&nbsp;    private int minForestSize = 4;
&nbsp;    /** maximum Size of a forest */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORESTMAXHEXES&quot;)</b>
&nbsp;    private int maxForestSize = 12;
&nbsp;    /** probability for heavy woods, Range 0..100 */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORESTHEAVYPROB&quot;)</b>
&nbsp;    private int probHeavy = 30;
&nbsp;    
&nbsp;    /** how much foliage at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FOLIAGEMINSPOTS&quot;)</b>
&nbsp;    private int minFoliageSpots = 0;
&nbsp;    /** how much foliage at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FOLIAGEMAXSPOTS&quot;)</b>
&nbsp;    private int maxFoliageSpots = 0;
&nbsp;    /** minimum size of a forest */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FOLIAGEMINHEXES&quot;)</b>
&nbsp;    private int minFoliageSize = 0;
&nbsp;    /** maximum Size of a forest */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FOLIAGEMAXHEXES&quot;)</b>
&nbsp;    private int maxFoliageSize = 0;
&nbsp;    /** probability for heavy foliage, Range 0..100 */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FOLIAGEHEAVYPROB&quot;)</b>
&nbsp;    private int probFoliageHeavy = 0;
&nbsp;
&nbsp;    /** how much rough spots at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ROUGHMINSPOTS&quot;)</b>
&nbsp;    private int minRoughSpots = 2;
&nbsp;    /** how much rough spots at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ROUGHMAXSPOTS&quot;)</b>
&nbsp;    private int maxRoughSpots = 10;
&nbsp;    /** minimum size of a rough spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ROUGHMINHEXES&quot;)</b>
&nbsp;    private int minRoughSize = 1;
&nbsp;    /** maximum Size of a rough spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ROUGHMAXHEXES&quot;)</b>
&nbsp;    private int maxRoughSize = 2;
&nbsp;
&nbsp;    /** how much sand spots at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;SANDMINSPOTS&quot;)</b>
&nbsp;    private int minSandSpots = 2;
&nbsp;    /** how much sand spots at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;SANDMAXSPOTS&quot;)</b>
&nbsp;    private int maxSandSpots = 10;
&nbsp;    /** minimum size of a rough spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;SANDMINHEXES&quot;)</b>
&nbsp;    private int minSandSize = 1;
&nbsp;    /** maximum Size of a rough spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;SANDMAXHEXES&quot;)</b>
&nbsp;    private int maxSandSize = 2;
&nbsp;
&nbsp;    /** how much planted field spots at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PLANTEDFIELDMINSPOTS&quot;)</b>
&nbsp;    private int minPlantedFieldSpots = 2;
&nbsp;    /** how much planted field spots at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PLANTEDFIELDMAXSPOTS&quot;)</b>
&nbsp;    private int maxPlantedFieldSpots = 10;
&nbsp;    /** minimum size of a planted field spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PLANTEDFIELDMINHEXES&quot;)</b>
&nbsp;    private int minPlantedFieldSize = 1;
&nbsp;    /** maximum size of a planted field spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PLANTEDFIELDMAXHEXES&quot;)</b>
&nbsp;    private int maxPlantedFieldSize = 2;
&nbsp;
&nbsp;    /** how much swamp spots at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;SWAMPMINSPOTS&quot;)</b>
&nbsp;    private int minSwampSpots = 2;
&nbsp;    /** how much swamp spots at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;SWAMPMAXSPOTS&quot;)</b>
&nbsp;    private int maxSwampSpots = 10;
&nbsp;    /** minimum size of a swamp spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;SWAMPMINHEXES&quot;)</b>
&nbsp;    private int minSwampSize = 1;
&nbsp;    /** maximum Size of a swamp spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;SWAMPMAXHEXES&quot;)</b>
&nbsp;    private int maxSwampSize = 2;
&nbsp;
&nbsp;    /** how much pavement spots at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PAVEMENTMINSPOTS&quot;)</b>
&nbsp;    private int minPavementSpots = 0;
&nbsp;    /** how much pavement spots at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PAVEMENTMAXSPOTS&quot;)</b>
&nbsp;    private int maxPavementSpots = 0;
&nbsp;    /** minimum size of a pavement spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PAVEMENTMINHEXES&quot;)</b>
&nbsp;    private int minPavementSize = 1;
&nbsp;    /** maximum Size of a pavement spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PAVEMENTMAXHEXES&quot;)</b>
&nbsp;    private int maxPavementSize = 6;
&nbsp;
&nbsp;    /** how much rubble spots at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;RUBBLEMINSPOTS&quot;)</b>
&nbsp;    private int minRubbleSpots = 0;
&nbsp;    /** how much rubble spots at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;RUBBLEMAXSPOTS&quot;)</b>
&nbsp;    private int maxRubbleSpots = 0;
&nbsp;    /** minimum size of a rubble spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;RUBBLEMINHEXES&quot;)</b>
&nbsp;    private int minRubbleSize = 1;
&nbsp;    /** maximum Size of a rubble spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;RUBBLEMAXHEXES&quot;)</b>
&nbsp;    private int maxRubbleSize = 6;
&nbsp;
&nbsp;    /** how much fortified spots at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORTIFIEDMINSPOTS&quot;)</b>
&nbsp;    private int minFortifiedSpots = 0;
&nbsp;    /** how much fortified spots at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORTIFIEDMAXSPOTS&quot;)</b>
&nbsp;    private int maxFortifiedSpots = 0;
&nbsp;    /** minimum size of a fortified spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORTIFIEDMINHEXES&quot;)</b>
&nbsp;    private int minFortifiedSize = 1;
&nbsp;    /** maximum Size of a fortified spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FORTIFIEDMAXHEXES&quot;)</b>
&nbsp;    private int maxFortifiedSize = 2;
&nbsp;
&nbsp;    /** how much ice spots at least */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ICEMINSPOTS&quot;)</b>
&nbsp;    private int minIceSpots = 0;
&nbsp;    /** how much ice spots at most */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ICEMAXSPOTS&quot;)</b>
&nbsp;    private int maxIceSpots = 0;
&nbsp;    /** minimum size of a ice spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ICEMINHEXES&quot;)</b>
&nbsp;    private int minIceSize = 1;
&nbsp;    /** maximum Size of a ice spot */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ICEMAXHEXES&quot;)</b>
&nbsp;    private int maxIceSize = 6;
&nbsp;
&nbsp;    /** probability for a road, range 0..100 */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ROADPROB&quot;)</b>
&nbsp;    private int probRoad = 0;
&nbsp;
&nbsp;    /** probability for a river, range 0..100 */
<b class="fc">&nbsp;    @XmlElement(name = &quot;RIVERPROB&quot;)</b>
&nbsp;    private int probRiver = 0;
&nbsp;
&nbsp;    /** probabilitay for Crater 0..100 */
<b class="fc">&nbsp;    @XmlElement(name = &quot;CRATEPROB&quot;)</b>
&nbsp;    private int probCrater = 0;
&nbsp;
&nbsp;    /** minimum Radius of the Craters */
<b class="fc">&nbsp;    @XmlElement(name = &quot;CRATERMINRADIUS&quot;)</b>
&nbsp;    private int minRadius = 2;
&nbsp;
&nbsp;    /** maximum Radius of the Craters */
<b class="fc">&nbsp;    @XmlElement(name = &quot;CRATERMAXRADIUS&quot;)</b>
&nbsp;    private int maxRadius = 7;
&nbsp;
&nbsp;    /** maximum Number of Craters on one map */
<b class="fc">&nbsp;    @XmlElement(name = &quot;CRATERMAXNUM&quot;)</b>
&nbsp;    private int maxCraters = 2;
&nbsp;
&nbsp;    /** minimum Number of Craters on one map */
<b class="fc">&nbsp;    @XmlElement(name = &quot;CRATERMINNUM&quot;)</b>
&nbsp;    private int minCraters = 1;
&nbsp;
&nbsp;    /** which landscape generation Algortihm to use */
&nbsp;    /* atm there are 2 different: 0= first, 1=second */
<b class="fc">&nbsp;    @XmlElement(name = &quot;ALGORITHM&quot;)</b>
&nbsp;    private int algorithmToUse = 0;
&nbsp;
&nbsp;    /** a tileset theme to apply */
<b class="fc">&nbsp;    @XmlElement(name = &quot;THEME&quot;)</b>
&nbsp;    private String theme = &quot;&quot;;
&nbsp;
&nbsp;    /** probability of flooded map */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PROBFLOOD&quot;)</b>
&nbsp;    private int probFlood = 0;
&nbsp;    /** probability of forest fire */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PROBFORESTFIRE&quot;)</b>
&nbsp;    private int probForestFire = 0;
&nbsp;    /** probability of frozen map */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PROBFREEZE&quot;)</b>
&nbsp;    private int probFreeze = 0;
&nbsp;    /** probability of drought */
<b class="fc">&nbsp;    @XmlElement(name = &quot;PROBDROUGHT&quot;)</b>
&nbsp;    private int probDrought = 0;
&nbsp;    /** special FX modifier */
<b class="fc">&nbsp;    @XmlElement(name = &quot;FXMOD&quot;)</b>
&nbsp;    private int fxMod = 0;
&nbsp;
&nbsp;    /** Parameters for the city generator */
<b class="fc">&nbsp;    @XmlElement(name = &quot;CITYBLOCKS&quot;)</b>
&nbsp;    private int cityBlocks = 16;
<b class="fc">&nbsp;    @XmlElement(name = &quot;CITYTYPE&quot;)</b>
&nbsp;    private String cityType = &quot;NONE&quot;;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MINCF&quot;)</b>
&nbsp;    private int cityMinCF = 10;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MAXCF&quot;)</b>
&nbsp;    private int cityMaxCF = 100;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MINFLOORS&quot;)</b>
&nbsp;    private int cityMinFloors = 1;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MAXFLOORS&quot;)</b>
&nbsp;    private int cityMaxFloors = 6;
<b class="fc">&nbsp;    @XmlElement(name = &quot;CITYDENSITY&quot;)</b>
&nbsp;    private int cityDensity = 75;
<b class="fc">&nbsp;    @XmlElement(name = &quot;TOWNSIZE&quot;)</b>
&nbsp;    private int townSize = 60;
&nbsp;
<b class="fc">&nbsp;    @XmlElement(name = &quot;INVERTNEGATIVETERRAIN&quot;)</b>
&nbsp;    private int invertNegativeTerrain = 0;
&nbsp;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MOUNTPEAKS&quot;)</b>
&nbsp;    private int mountainPeaks = 0;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MOUNTWIDTHMIN&quot;)</b>
&nbsp;    private int mountainWidthMin = 7;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MOUNTWIDTHMAX&quot;)</b>
&nbsp;    private int mountainWidthMax = 20;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MOUNTHEIGHTMIN&quot;)</b>
&nbsp;    private int mountainHeightMin = 5;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MOUNTHEIGHTMAX&quot;)</b>
&nbsp;    private int mountainHeightMax = 8;
<b class="fc">&nbsp;    @XmlElement(name = &quot;MOUNTSTYLE&quot;)</b>
&nbsp;    private int mountainStyle = MOUNTAIN_PLAIN;
&nbsp;
&nbsp;    /** end Map Generator Parameters */
&nbsp;
&nbsp;    /**
&nbsp;     * Creates and returns a new default instance of MapSettings.
&nbsp;     * 
&nbsp;     * @return a MapSettings with default settings values
&nbsp;     */
&nbsp;    public static MapSettings getInstance() {
<b class="fc">&nbsp;        return new MapSettings();</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Creates and returns a clone of the given MapSettings.
&nbsp;     *
&nbsp;     * @param other
&nbsp;     *            the MapSettings to clone
&nbsp;     * @return a MapSettings with the cloned settings values
&nbsp;     */
&nbsp;    public static MapSettings getInstance(final MapSettings other) {
<b class="nc">&nbsp;        return new MapSettings(other);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Creates and returns a new instance of MapSettings with default values
&nbsp;     * loaded from the given input stream.
&nbsp;     * 
&nbsp;     * @param is
&nbsp;     *            the input stream that contains an XML representation of the
&nbsp;     *            map settings
&nbsp;     * @return a MapSettings with the values from XML
&nbsp;     */
&nbsp;    public static MapSettings getInstance(final InputStream is) {
<b class="fc">&nbsp;        MapSettings ms = null;</b>
&nbsp;
&nbsp;        try {
<b class="fc">&nbsp;            JAXBContext jc = JAXBContext.newInstance(MapSettings.class);</b>
&nbsp;
<b class="fc">&nbsp;            Unmarshaller um = jc.createUnmarshaller();</b>
<b class="fc">&nbsp;            ms = (MapSettings) um.unmarshal(MegaMekXmlUtil.createSafeXmlSource(is));</b>
<b class="nc">&nbsp;        } catch (Exception e) {</b>
<b class="nc">&nbsp;            MegaMek.getLogger().error(&quot;Error loading XML for map settings: &quot; + e.getMessage(), e);</b>
<b class="fc">&nbsp;        }</b>
&nbsp;
<b class="fc">&nbsp;        return ms;</b>
&nbsp;    }
&nbsp;
&nbsp;    /** Creates new MapSettings */
&nbsp;    private MapSettings() {
<b class="fc">&nbsp;        this(megamek.common.preference.PreferenceManager.getClientPreferences().getBoardWidth(),</b>
<b class="fc">&nbsp;                megamek.common.preference.PreferenceManager.getClientPreferences().getBoardHeight(),</b>
<b class="fc">&nbsp;                megamek.common.preference.PreferenceManager.getClientPreferences().getMapWidth(),</b>
<b class="fc">&nbsp;                megamek.common.preference.PreferenceManager.getClientPreferences().getMapHeight());</b>
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    /** Create new MapSettings with all size settings specified */
<b class="fc">&nbsp;    private MapSettings(int boardWidth, int boardHeight, int mapWidth, int mapHeight) {</b>
<b class="fc">&nbsp;        setBoardSize(boardWidth, boardHeight);</b>
<b class="fc">&nbsp;        setMapSize(mapWidth, mapHeight);</b>
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    /** Creates new MapSettings that is a duplicate of another */
&nbsp;    @SuppressWarnings(&quot;unchecked&quot;)
<b class="nc">&nbsp;    private MapSettings(MapSettings other) {</b>
<b class="nc">&nbsp;        boardWidth = other.getBoardWidth();</b>
<b class="nc">&nbsp;        boardHeight = other.getBoardHeight();</b>
<b class="nc">&nbsp;        mapWidth = other.getMapWidth();</b>
<b class="nc">&nbsp;        mapHeight = other.getMapHeight();</b>
&nbsp;
<b class="nc">&nbsp;        medium = other.getMedium();</b>
&nbsp;
<b class="nc">&nbsp;        boardsSelected = (ArrayList&lt;String&gt;) other.getBoardsSelectedVector().clone();</b>
<b class="nc">&nbsp;        boardsAvailable = (ArrayList&lt;String&gt;) other.getBoardsAvailableVector().clone();</b>
&nbsp;
<b class="nc">&nbsp;        invertNegativeTerrain = other.getInvertNegativeTerrain();</b>
<b class="nc">&nbsp;        mountainHeightMin = other.getMountainHeightMin();</b>
<b class="nc">&nbsp;        mountainHeightMax = other.getMountainHeightMax();</b>
<b class="nc">&nbsp;        mountainPeaks = other.getMountainPeaks();</b>
<b class="nc">&nbsp;        mountainStyle = other.getMountainStyle();</b>
<b class="nc">&nbsp;        mountainWidthMin = other.getMountainWidthMin();</b>
<b class="nc">&nbsp;        mountainWidthMax = other.getMountainWidthMax();</b>
<b class="nc">&nbsp;        hilliness = other.getHilliness();</b>
<b class="nc">&nbsp;        cliffs = other.getCliffs();</b>
<b class="nc">&nbsp;        range = other.getRange();</b>
<b class="nc">&nbsp;        probInvert = other.getProbInvert();</b>
<b class="nc">&nbsp;        minWaterSpots = other.getMinWaterSpots();</b>
<b class="nc">&nbsp;        maxWaterSpots = other.getMaxWaterSpots();</b>
<b class="nc">&nbsp;        minWaterSize = other.getMinWaterSize();</b>
<b class="nc">&nbsp;        maxWaterSize = other.getMaxWaterSize();</b>
<b class="nc">&nbsp;        probDeep = other.getProbDeep();</b>
<b class="nc">&nbsp;        minForestSpots = other.getMinForestSpots();</b>
<b class="nc">&nbsp;        maxForestSpots = other.getMaxForestSpots();</b>
<b class="nc">&nbsp;        minForestSize = other.getMinForestSize();</b>
<b class="nc">&nbsp;        maxForestSize = other.getMaxForestSize();</b>
<b class="nc">&nbsp;        probHeavy = other.getProbHeavy();</b>
<b class="nc">&nbsp;        minFoliageSpots = other.getMinFoliageSpots();</b>
<b class="nc">&nbsp;        maxFoliageSpots = other.getMaxFoliageSpots();</b>
<b class="nc">&nbsp;        minFoliageSize = other.getMinFoliageSize();</b>
<b class="nc">&nbsp;        maxFoliageSize = other.getMaxFoliageSize();</b>
<b class="nc">&nbsp;        probFoliageHeavy = other.getProbFoliageHeavy();</b>
<b class="nc">&nbsp;        minRoughSpots = other.getMinRoughSpots();</b>
<b class="nc">&nbsp;        maxRoughSpots = other.getMaxRoughSpots();</b>
<b class="nc">&nbsp;        minRoughSize = other.getMinRoughSize();</b>
<b class="nc">&nbsp;        maxRoughSize = other.getMaxRoughSize();</b>
<b class="nc">&nbsp;        minSandSpots = other.getMinSandSpots();</b>
<b class="nc">&nbsp;        maxSandSpots = other.getMaxSandSpots();</b>
<b class="nc">&nbsp;        minSandSize = other.getMinSandSize();</b>
<b class="nc">&nbsp;        maxSandSize = other.getMaxSandSize();</b>
<b class="nc">&nbsp;        minPlantedFieldSpots = other.getMinPlantedFieldSpots();</b>
<b class="nc">&nbsp;        maxPlantedFieldSpots = other.getMaxPlantedFieldSpots();</b>
<b class="nc">&nbsp;        minPlantedFieldSize = other.getMinPlantedFieldSize();</b>
<b class="nc">&nbsp;        maxPlantedFieldSize = other.getMaxPlantedFieldSize();</b>
<b class="nc">&nbsp;        minSwampSpots = other.getMinSwampSpots();</b>
<b class="nc">&nbsp;        maxSwampSpots = other.getMaxSwampSpots();</b>
<b class="nc">&nbsp;        minSwampSize = other.getMinSwampSize();</b>
<b class="nc">&nbsp;        maxSwampSize = other.getMaxSwampSize();</b>
<b class="nc">&nbsp;        minPavementSpots = other.getMinPavementSpots();</b>
<b class="nc">&nbsp;        maxPavementSpots = other.getMaxPavementSpots();</b>
<b class="nc">&nbsp;        minPavementSize = other.getMinPavementSize();</b>
<b class="nc">&nbsp;        maxPavementSize = other.getMaxPavementSize();</b>
<b class="nc">&nbsp;        minRubbleSpots = other.getMinRubbleSpots();</b>
<b class="nc">&nbsp;        maxRubbleSpots = other.getMaxRubbleSpots();</b>
<b class="nc">&nbsp;        minRubbleSize = other.getMinRubbleSize();</b>
<b class="nc">&nbsp;        maxRubbleSize = other.getMaxRubbleSize();</b>
<b class="nc">&nbsp;        minFortifiedSpots = other.getMinFortifiedSpots();</b>
<b class="nc">&nbsp;        maxFortifiedSpots = other.getMaxFortifiedSpots();</b>
<b class="nc">&nbsp;        minFortifiedSize = other.getMinFortifiedSize();</b>
<b class="nc">&nbsp;        maxFortifiedSize = other.getMaxFortifiedSize();</b>
<b class="nc">&nbsp;        minIceSpots = other.getMinIceSpots();</b>
<b class="nc">&nbsp;        maxIceSpots = other.getMaxIceSpots();</b>
<b class="nc">&nbsp;        minIceSize = other.getMinIceSize();</b>
<b class="nc">&nbsp;        maxIceSize = other.getMaxIceSize();</b>
<b class="nc">&nbsp;        probRoad = other.getProbRoad();</b>
<b class="nc">&nbsp;        probRiver = other.getProbRiver();</b>
<b class="nc">&nbsp;        probCrater = other.getProbCrater();</b>
<b class="nc">&nbsp;        minRadius = other.getMinRadius();</b>
<b class="nc">&nbsp;        maxRadius = other.getMaxRadius();</b>
<b class="nc">&nbsp;        minCraters = other.getMinCraters();</b>
<b class="nc">&nbsp;        maxCraters = other.getMaxCraters();</b>
<b class="nc">&nbsp;        algorithmToUse = other.getAlgorithmToUse();</b>
<b class="nc">&nbsp;        theme = other.getTheme();</b>
<b class="nc">&nbsp;        probFlood = other.getProbFlood();</b>
<b class="nc">&nbsp;        probForestFire = other.getProbForestFire();</b>
<b class="nc">&nbsp;        probFreeze = other.getProbFreeze();</b>
<b class="nc">&nbsp;        probDrought = other.getProbDrought();</b>
<b class="nc">&nbsp;        fxMod = other.getFxMod();</b>
<b class="nc">&nbsp;        cityBlocks = other.getCityBlocks();</b>
<b class="nc">&nbsp;        cityType = other.getCityType();</b>
<b class="nc">&nbsp;        cityMinCF = other.getCityMinCF();</b>
<b class="nc">&nbsp;        cityMaxCF = other.getCityMaxCF();</b>
<b class="nc">&nbsp;        cityMinFloors = other.getCityMinFloors();</b>
<b class="nc">&nbsp;        cityMaxFloors = other.getCityMaxFloors();</b>
<b class="nc">&nbsp;        cityDensity = other.getCityDensity();</b>
<b class="nc">&nbsp;        boardBuildings = other.getBoardBuildings();</b>
<b class="nc">&nbsp;        townSize = other.getTownSize();</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Odious hack to fix cross-platform issues. The Server generates the list
&nbsp;     * of available boards and then sends them to the client. Instead of storing
&nbsp;     * the boards as a File object, they are stored as lists of Strings. This
&nbsp;     * means that, a Windows server will generate Windows paths that could then
&nbsp;     * be sent to non-windows machines.
&nbsp;     * 
&nbsp;     * While the available and selected boards should really be stored as lists
&nbsp;     * of Files, they have infrastructure built up around them and it&#39;s far
&nbsp;     * easier to use this kludgy hack.
&nbsp;     */
&nbsp;    public void adjustPathSeparator() {
&nbsp;        // Windows will happily accept a forward slash in the path, the only
&nbsp;        // real issue is back-slashes (windows separators) in Linux
<b class="nc">&nbsp;        boolean isWindows = System.getProperty(&quot;os.name&quot;).contains(&quot;Windows&quot;);</b>
<b class="nc">&nbsp;        boolean containsWindowsPathSeparator = false;</b>
<b class="nc">&nbsp;        for (String path : boardsAvailable) {</b>
<b class="nc">&nbsp;            if (path.contains(&quot;\\&quot;)) {</b>
<b class="nc">&nbsp;                containsWindowsPathSeparator = true;</b>
&nbsp;            }
<b class="nc">&nbsp;            if (containsWindowsPathSeparator) {</b>
<b class="nc">&nbsp;                break;</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        if (!isWindows &amp;&amp; containsWindowsPathSeparator) {</b>
<b class="nc">&nbsp;            for (int i = 0; i &lt; boardsAvailable.size(); i++) {</b>
<b class="nc">&nbsp;                if (boardsAvailable.get(i) == null) {</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
<b class="nc">&nbsp;                boardsAvailable.set(i, boardsAvailable.get(i).replace(&quot;\\&quot;, &quot;/&quot;));</b>
&nbsp;            }
<b class="nc">&nbsp;            for (int i = 0; i &lt; boardsSelected.size(); i++) {</b>
<b class="nc">&nbsp;                if (boardsSelected.get(i) == null) {</b>
<b class="nc">&nbsp;                    continue;</b>
&nbsp;                }
<b class="nc">&nbsp;                boardsSelected.set(i, boardsSelected.get(i).replace(&quot;\\&quot;, &quot;/&quot;));</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getBoardWidth() {
<b class="fc">&nbsp;        return boardWidth;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getBoardHeight() {
<b class="fc">&nbsp;        return boardHeight;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setBoardSize(int boardWidth, int boardHeight) {
<b class="fc">&nbsp;        if ((boardWidth &lt;= 0) || (boardHeight &lt;= 0)) {</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;Total board area must be positive&quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        // change only if actually different
<b class="fc">&nbsp;        if ((this.boardWidth != boardWidth) || (this.boardHeight != boardHeight)) {</b>
<b class="fc">&nbsp;            this.boardWidth = boardWidth;</b>
<b class="fc">&nbsp;            this.boardHeight = boardHeight;</b>
&nbsp;
<b class="fc">&nbsp;            boardsAvailable.clear();</b>
&nbsp;        }
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    public String getTheme() {
<b class="fc">&nbsp;        return theme;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setTheme(String th) {
<b class="nc">&nbsp;        theme = th;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMapWidth() {
<b class="nc">&nbsp;        return mapWidth;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMapHeight() {
<b class="nc">&nbsp;        return mapHeight;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMapSize(int mapWidth, int mapHeight) {
<b class="fc">&nbsp;        if ((mapWidth &lt;= 0) || (mapHeight &lt;= 0)) {</b>
<b class="nc">&nbsp;            throw new IllegalArgumentException(&quot;Total map area must be positive&quot;);</b>
&nbsp;        }
&nbsp;        
&nbsp;        // If the map has become smaller, shrink the list by removing surplus elements
<b class="fc">&nbsp;        if (mapWidth * mapHeight &lt; boardsSelected.size()) {</b>
<b class="nc">&nbsp;            boardsSelected.subList(mapWidth * mapHeight, boardsSelected.size()).clear();</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        this.mapWidth = mapWidth;</b>
<b class="fc">&nbsp;        this.mapHeight = mapHeight;</b>
&nbsp;        // Create null entries for everything that isn&#39;t surprise or generated
<b class="fc">&nbsp;        for (int i = 0; i &lt; boardsSelected.size(); i++) {</b>
<b class="nc">&nbsp;            if ((boardsSelected.get(i) != null) &amp;&amp; !boardsSelected.get(i).equals(BOARD_GENERATED)</b>
<b class="nc">&nbsp;                    &amp;&amp; !boardsSelected.get(i).equals(BOARD_SURPRISE)) {</b>
<b class="nc">&nbsp;                boardsSelected.set(i, null);</b>
&nbsp;            }
&nbsp;        }
&nbsp;        
&nbsp;        // Fill the list with null elements if the map has grown
<b class="fc">&nbsp;        while (boardsSelected.size() &lt; (mapWidth * mapHeight)) {</b>
<b class="fc">&nbsp;            boardsSelected.add(null);</b>
&nbsp;        }
<b class="fc">&nbsp;    }</b>
&nbsp;
&nbsp;    public Iterator&lt;String&gt; getBoardsSelected() {
<b class="nc">&nbsp;        return boardsSelected.iterator();</b>
&nbsp;    }
&nbsp;
&nbsp;    public ArrayList&lt;String&gt; getBoardsSelectedVector() {
<b class="nc">&nbsp;        return boardsSelected;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setBoardsSelectedVector(ArrayList&lt;String&gt; boardsSelected) {
<b class="nc">&nbsp;        this.boardsSelected = boardsSelected;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Fills in all nulls in the boards selected list with the specified board
&nbsp;     */
&nbsp;    public void setNullBoards(String board) {
<b class="nc">&nbsp;        for (int i = 0; i &lt; boardsSelected.size(); i++) {</b>
<b class="nc">&nbsp;            if (boardsSelected.get(i) == null) {</b>
<b class="nc">&nbsp;                boardsSelected.set(i, board);</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public ArrayList&lt;BuildingTemplate&gt; getBoardBuildings() {
<b class="nc">&nbsp;        return boardBuildings;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setBoardBuildings(ArrayList&lt;BuildingTemplate&gt; buildings) {
<b class="nc">&nbsp;        boardBuildings = buildings;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Replaces the specified type of board with random boards
&nbsp;     */
&nbsp;    public void replaceBoardWithRandom(String board) {
<b class="nc">&nbsp;        if (board == null) {</b>
<b class="nc">&nbsp;            return;</b>
&nbsp;        }
<b class="nc">&nbsp;        for (int i = 0; i &lt; boardsSelected.size(); i++) {</b>
<b class="nc">&nbsp;            if (board.equals(boardsSelected.get(i))) {</b>
<b class="nc">&nbsp;                int rindex = 0;</b>
<b class="nc">&nbsp;                boolean nonFound = true;</b>
<b class="nc">&nbsp;                while (nonFound) {</b>
&nbsp;                    // if we have no boards, set rindex to 0, so the generated
&nbsp;                    // board
&nbsp;                    // gets selected
&nbsp;                    // Default boards are GENERATED, RANDOM and SUPPRISE
<b class="nc">&nbsp;                    if (boardsAvailable.size() &lt; 4) {</b>
<b class="nc">&nbsp;                        rindex = 0;</b>
<b class="nc">&nbsp;                        nonFound = false;</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        rindex = Compute.randomInt(boardsAvailable.size() - 3) + 3;</b>
&nbsp;                        // validate that the selected map is legal
<b class="nc">&nbsp;                        IBoard b = new Board(16, 17);</b>
<b class="nc">&nbsp;                        String boardSelected = boardsAvailable.get(rindex);</b>
<b class="nc">&nbsp;                        if (!MapSettings.BOARD_GENERATED.equals(boardSelected)</b>
<b class="nc">&nbsp;                                &amp;&amp; !MapSettings.BOARD_RANDOM.equals(boardSelected)</b>
<b class="nc">&nbsp;                                &amp;&amp; !MapSettings.BOARD_SURPRISE.equals(boardSelected)) {</b>
<b class="nc">&nbsp;                            b.load(new File(Configuration.boardsDir(), boardSelected + &quot;.board&quot;));</b>
<b class="nc">&nbsp;                            if (b.isValid()) {</b>
<b class="nc">&nbsp;                                nonFound = false;</b>
&nbsp;                            } else {
<b class="nc">&nbsp;                                boardsAvailable.remove(rindex);</b>
&nbsp;                            }
&nbsp;                        }
<b class="nc">&nbsp;                    }</b>
&nbsp;                }
&nbsp;                // Do a one pi rotation half of the time.
<b class="nc">&nbsp;                if (0 == Compute.randomInt(2)) {</b>
<b class="nc">&nbsp;                    boardsSelected.set(i, Board.BOARD_REQUEST_ROTATION + boardsAvailable.get(rindex));</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    boardsSelected.set(i, boardsAvailable.get(rindex));</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Removes selected boards that aren&#39;t listed in the available boards
&nbsp;     */
&nbsp;    public void removeUnavailable() {
<b class="nc">&nbsp;        for (int i = 0; i &lt; boardsSelected.size(); i++) {</b>
&nbsp;            // If board is already null or no boards available, remove board
<b class="nc">&nbsp;            if ((boardsSelected.get(i) == null) || (boardsAvailable.size() == 0)) {</b>
<b class="nc">&nbsp;                boardsSelected.set(i, null);</b>
&nbsp;            } else { // Otherwise, if the name isn&#39;t available, remove it
<b class="nc">&nbsp;                String boardName = boardsSelected.get(i);</b>
<b class="nc">&nbsp;                if (boardsSelected.get(i).startsWith(Board.BOARD_REQUEST_ROTATION)) {</b>
<b class="nc">&nbsp;                    boardName = boardName.substring(Board.BOARD_REQUEST_ROTATION.length());</b>
&nbsp;                }
<b class="nc">&nbsp;                if (boardsAvailable.indexOf(boardName) == -1) {</b>
<b class="nc">&nbsp;                    boardsSelected.set(i, null);</b>
&nbsp;                }
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public Iterator&lt;String&gt; getBoardsAvailable() {
<b class="nc">&nbsp;        return boardsAvailable.iterator();</b>
&nbsp;    }
&nbsp;
&nbsp;    public ArrayList&lt;String&gt; getBoardsAvailableVector() {
<b class="nc">&nbsp;        return boardsAvailable;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setBoardsAvailableVector(ArrayList&lt;String&gt; boardsAvailable) {
<b class="nc">&nbsp;        this.boardsAvailable = boardsAvailable;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Checks, if the Mapgenerator parameters are all valid. If not they are
&nbsp;     * changed to valid values.
&nbsp;     */
&nbsp;    public void validateMapGenParameters() {
<b class="nc">&nbsp;        if (hilliness &lt; 0) {</b>
<b class="nc">&nbsp;            hilliness = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (hilliness &gt; 99) {</b>
<b class="nc">&nbsp;            hilliness = 99;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (cliffs &lt; 0) {</b>
<b class="nc">&nbsp;            cliffs = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (cliffs &gt; 100) {</b>
<b class="nc">&nbsp;            cliffs = 100;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (range &lt; 0) {</b>
<b class="nc">&nbsp;            range = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minWaterSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minWaterSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxWaterSpots &lt; minWaterSpots) {</b>
<b class="nc">&nbsp;            maxWaterSpots = minWaterSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minWaterSize &lt; 0) {</b>
<b class="nc">&nbsp;            minWaterSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxWaterSize &lt; minWaterSize) {</b>
<b class="nc">&nbsp;            maxWaterSize = minWaterSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probDeep &lt; 0) {</b>
<b class="nc">&nbsp;            probDeep = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probDeep &gt; 100) {</b>
<b class="nc">&nbsp;            probDeep = 100;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minForestSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minForestSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxForestSpots &lt; minForestSpots) {</b>
<b class="nc">&nbsp;            maxForestSpots = minForestSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minForestSize &lt; 0) {</b>
<b class="nc">&nbsp;            minForestSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxForestSize &lt; minForestSize) {</b>
<b class="nc">&nbsp;            maxForestSize = minForestSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probHeavy &lt; 0) {</b>
<b class="nc">&nbsp;            probHeavy = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probHeavy &gt; 100) {</b>
<b class="nc">&nbsp;            probHeavy = 100;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minFoliageSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minFoliageSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxFoliageSpots &lt; minFoliageSpots) {</b>
<b class="nc">&nbsp;            maxFoliageSpots = minFoliageSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minFoliageSize &lt; 0) {</b>
<b class="nc">&nbsp;            minFoliageSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxFoliageSize &lt; minFoliageSize) {</b>
<b class="nc">&nbsp;            maxFoliageSize = minFoliageSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probFoliageHeavy &lt; 0) {</b>
<b class="nc">&nbsp;            probFoliageHeavy = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probFoliageHeavy &gt; 100) {</b>
<b class="nc">&nbsp;            probFoliageHeavy = 100;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minRoughSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minRoughSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxRoughSpots &lt; minRoughSpots) {</b>
<b class="nc">&nbsp;            maxRoughSpots = minRoughSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minRoughSize &lt; 0) {</b>
<b class="nc">&nbsp;            minRoughSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxRoughSize &lt; minRoughSize) {</b>
<b class="nc">&nbsp;            maxRoughSize = minRoughSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minSandSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minSandSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxSandSpots &lt; minSandSpots) {</b>
<b class="nc">&nbsp;            maxSandSpots = minSandSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minSandSize &lt; 0) {</b>
<b class="nc">&nbsp;            minSandSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxSandSize &lt; minSandSize) {</b>
<b class="nc">&nbsp;            maxSandSize = minSandSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minPlantedFieldSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minPlantedFieldSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxPlantedFieldSpots &lt; minPlantedFieldSpots) {</b>
<b class="nc">&nbsp;            maxPlantedFieldSpots = minPlantedFieldSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minPlantedFieldSize &lt; 0) {</b>
<b class="nc">&nbsp;            minPlantedFieldSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxPlantedFieldSize &lt; minPlantedFieldSize) {</b>
<b class="nc">&nbsp;            maxPlantedFieldSize = minPlantedFieldSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minSwampSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minSwampSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxSwampSpots &lt; minSwampSpots) {</b>
<b class="nc">&nbsp;            maxSwampSpots = minSwampSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minSwampSize &lt; 0) {</b>
<b class="nc">&nbsp;            minSwampSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxSwampSize &lt; minSwampSize) {</b>
<b class="nc">&nbsp;            maxSwampSize = minSwampSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minPavementSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minPavementSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxPavementSpots &lt; minPavementSpots) {</b>
<b class="nc">&nbsp;            maxPavementSpots = minPavementSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minPavementSize &lt; 0) {</b>
<b class="nc">&nbsp;            minPavementSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxPavementSize &lt; minPavementSize) {</b>
<b class="nc">&nbsp;            maxPavementSize = minPavementSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minRubbleSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minRubbleSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxRubbleSpots &lt; minRubbleSpots) {</b>
<b class="nc">&nbsp;            maxRubbleSpots = minRubbleSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minRubbleSize &lt; 0) {</b>
<b class="nc">&nbsp;            minRubbleSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxRubbleSize &lt; minRubbleSize) {</b>
<b class="nc">&nbsp;            maxRubbleSize = minRubbleSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minFortifiedSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minFortifiedSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxFortifiedSpots &lt; minFortifiedSpots) {</b>
<b class="nc">&nbsp;            maxFortifiedSpots = minFortifiedSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minFortifiedSize &lt; 0) {</b>
<b class="nc">&nbsp;            minFortifiedSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxFortifiedSize &lt; minFortifiedSize) {</b>
<b class="nc">&nbsp;            maxFortifiedSize = minFortifiedSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minIceSpots &lt; 0) {</b>
<b class="nc">&nbsp;            minIceSpots = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxIceSpots &lt; minIceSpots) {</b>
<b class="nc">&nbsp;            maxIceSpots = minIceSpots;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minIceSize &lt; 0) {</b>
<b class="nc">&nbsp;            minIceSize = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxIceSize &lt; minIceSize) {</b>
<b class="nc">&nbsp;            maxIceSize = minIceSize;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probRoad &lt; 0) {</b>
<b class="nc">&nbsp;            probRoad = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probRoad &gt; 100) {</b>
<b class="nc">&nbsp;            probRoad = 100;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probInvert &lt; 0) {</b>
<b class="nc">&nbsp;            probInvert = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probInvert &gt; 100) {</b>
<b class="nc">&nbsp;            probInvert = 100;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probRiver &lt; 0) {</b>
<b class="nc">&nbsp;            probRiver = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probRiver &gt; 100) {</b>
<b class="nc">&nbsp;            probRiver = 100;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probCrater &lt; 0) {</b>
<b class="nc">&nbsp;            probCrater = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (probCrater &gt; 100) {</b>
<b class="nc">&nbsp;            probCrater = 100;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minRadius &lt; 0) {</b>
<b class="nc">&nbsp;            minRadius = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxRadius &lt; minRadius) {</b>
<b class="nc">&nbsp;            maxRadius = minRadius;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (minCraters &lt; 0) {</b>
<b class="nc">&nbsp;            minCraters = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (maxCraters &lt; minCraters) {</b>
<b class="nc">&nbsp;            maxCraters = minCraters;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (algorithmToUse &lt; 0) {</b>
<b class="nc">&nbsp;            algorithmToUse = 0;</b>
&nbsp;        }
<b class="nc">&nbsp;        if (algorithmToUse &gt; 2) {</b>
<b class="nc">&nbsp;            algorithmToUse = 2;</b>
&nbsp;        }
<b class="nc">&nbsp;    } /* validateMapGenParameters */</b>
&nbsp;
&nbsp;    /**
&nbsp;     * Returns true if the this Mapsetting has the same mapgenerator settings
&nbsp;     * and size as the parameter.
&nbsp;     *
&nbsp;     * @param other
&nbsp;     *            The Mapsetting to which compare.
&nbsp;     * @return True if settings are the same.
&nbsp;     */
&nbsp;    public boolean equalMapGenParameters(MapSettings other) {
<b class="nc">&nbsp;        if ((boardWidth != other.getBoardWidth()) || (boardHeight != other.getBoardHeight())</b>
<b class="nc">&nbsp;                || (mapWidth != other.getMapWidth()) || (mapHeight != other.getMapHeight())</b>
<b class="nc">&nbsp;                || (invertNegativeTerrain != other.getInvertNegativeTerrain()) || (hilliness != other.getHilliness())</b>
<b class="nc">&nbsp;                || (cliffs != other.getCliffs()) || (range != other.getRange())</b>
<b class="nc">&nbsp;                || (minWaterSpots != other.getMinWaterSpots()) || (maxWaterSpots != other.getMaxWaterSpots())</b>
<b class="nc">&nbsp;                || (minWaterSize != other.getMinWaterSize()) || (maxWaterSize != other.getMaxWaterSize())</b>
<b class="nc">&nbsp;                || (probDeep != other.getProbDeep()) || (minForestSpots != other.getMinForestSpots())</b>
<b class="nc">&nbsp;                || (maxForestSpots != other.getMaxForestSpots()) || (minForestSize != other.getMinForestSize())</b>
<b class="nc">&nbsp;                || (maxForestSize != other.getMaxForestSize()) || (probHeavy != other.getProbHeavy())</b>
<b class="nc">&nbsp;                || (minFoliageSpots != other.getMinFoliageSpots())</b>
<b class="nc">&nbsp;                || (maxFoliageSpots != other.getMaxFoliageSpots()) || (minFoliageSize != other.getMinFoliageSize())</b>
<b class="nc">&nbsp;                || (maxFoliageSize != other.getMaxFoliageSize()) || (probFoliageHeavy != other.getProbFoliageHeavy())</b>
<b class="nc">&nbsp;                || (minRoughSpots != other.getMinRoughSpots()) || (maxRoughSpots != other.getMaxRoughSpots())</b>
<b class="nc">&nbsp;                || (minRoughSize != other.getMinRoughSize()) || (maxRoughSize != other.getMaxRoughSize())</b>
<b class="nc">&nbsp;                || (minSandSpots != other.getMinSandSpots()) || (maxSandSpots != other.getMaxSandSpots())</b>
<b class="nc">&nbsp;                || (minSandSize != other.getMinSandSize()) || (maxSandSize != other.getMaxSandSize())</b>
<b class="nc">&nbsp;                || (minPlantedFieldSpots != other.getMinPlantedFieldSpots())</b>
<b class="nc">&nbsp;                || (maxPlantedFieldSpots != other.getMaxPlantedFieldSpots())</b>
<b class="nc">&nbsp;                || (minPlantedFieldSize != other.getMinPlantedFieldSize())</b>
<b class="nc">&nbsp;                || (maxPlantedFieldSize != other.getMaxPlantedFieldSize())</b>
<b class="nc">&nbsp;                || (minSwampSpots != other.getMinSwampSpots()) || (maxSwampSpots != other.getMaxSwampSpots())</b>
<b class="nc">&nbsp;                || (minSwampSize != other.getMinSwampSize()) || (maxSwampSize != other.getMaxSwampSize())</b>
<b class="nc">&nbsp;                || (minPavementSpots != other.getMinPavementSpots())</b>
<b class="nc">&nbsp;                || (maxPavementSpots != other.getMaxPavementSpots()) || (minPavementSize != other.getMinPavementSize())</b>
<b class="nc">&nbsp;                || (maxPavementSize != other.getMaxPavementSize()) || (minRubbleSpots != other.getMinRubbleSpots())</b>
<b class="nc">&nbsp;                || (maxRubbleSpots != other.getMaxRubbleSpots()) || (minRubbleSize != other.getMinRubbleSize())</b>
<b class="nc">&nbsp;                || (maxRubbleSize != other.getMaxRubbleSize()) || (minFortifiedSpots != other.getMinFortifiedSpots())</b>
<b class="nc">&nbsp;                || (maxFortifiedSpots != other.getMaxFortifiedSpots())</b>
<b class="nc">&nbsp;                || (minFortifiedSize != other.getMinFortifiedSize())</b>
<b class="nc">&nbsp;                || (maxFortifiedSize != other.getMaxFortifiedSize()) || (minIceSpots != other.getMinIceSpots())</b>
<b class="nc">&nbsp;                || (maxIceSpots != other.getMaxIceSpots()) || (minIceSize != other.getMinIceSize())</b>
<b class="nc">&nbsp;                || (maxIceSize != other.getMaxIceSize()) || (probRoad != other.getProbRoad())</b>
<b class="nc">&nbsp;                || (probInvert != other.getProbInvert()) || (probRiver != other.getProbRiver())</b>
<b class="nc">&nbsp;                || (probCrater != other.getProbCrater()) || (minRadius != other.getMinRadius())</b>
<b class="nc">&nbsp;                || (maxRadius != other.getMaxRadius()) || (minCraters != other.getMinCraters())</b>
<b class="nc">&nbsp;                || (maxCraters != other.getMaxCraters()) || (!theme.equals(other.getTheme()))</b>
<b class="nc">&nbsp;                || (fxMod != other.getFxMod()) || (cityBlocks != other.getCityBlocks())</b>
<b class="nc">&nbsp;                || (cityType != other.getCityType()) || (cityMinCF != other.getCityMinCF())</b>
<b class="nc">&nbsp;                || (cityMaxCF != other.getCityMaxCF()) || (cityMinFloors != other.getCityMinFloors())</b>
<b class="nc">&nbsp;                || (cityMaxFloors != other.getCityMaxFloors()) || (cityDensity != other.getCityDensity())</b>
<b class="nc">&nbsp;                || (probFlood != other.getProbFlood()) || (probForestFire != other.getProbForestFire())</b>
<b class="nc">&nbsp;                || (probFreeze != other.getProbFreeze()) || (probDrought != other.getProbDrought())</b>
<b class="nc">&nbsp;                || (algorithmToUse != other.getAlgorithmToUse()) || (mountainHeightMin != other.getMountainHeightMin())</b>
<b class="nc">&nbsp;                || (mountainHeightMax != other.getMountainHeightMax()) || (mountainPeaks != other.getMountainPeaks())</b>
<b class="nc">&nbsp;                || (mountainStyle != other.getMountainStyle()) || (mountainWidthMin != other.getMountainWidthMin())</b>
<b class="nc">&nbsp;                || (mountainWidthMax != other.getMountainWidthMax()) || (boardBuildings != other.getBoardBuildings())) {</b>
<b class="nc">&nbsp;            return false;</b>
&nbsp;        }
<b class="nc">&nbsp;        return true;</b>
&nbsp;    } /* equalMapGenParameters */
&nbsp;
&nbsp;    public int getInvertNegativeTerrain() {
<b class="fc">&nbsp;        return invertNegativeTerrain;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getHilliness() {
<b class="fc">&nbsp;        return hilliness;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getCliffs() {
<b class="fc">&nbsp;        return cliffs;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getRange() {
<b class="fc">&nbsp;        return range;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbInvert() {
<b class="fc">&nbsp;        return probInvert;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinWaterSpots() {
<b class="fc">&nbsp;        return minWaterSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxWaterSpots() {
<b class="fc">&nbsp;        return maxWaterSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinWaterSize() {
<b class="fc">&nbsp;        return minWaterSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxWaterSize() {
<b class="fc">&nbsp;        return maxWaterSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbDeep() {
<b class="fc">&nbsp;        return probDeep;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinForestSpots() {
<b class="fc">&nbsp;        return minForestSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxForestSpots() {
<b class="fc">&nbsp;        return maxForestSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinForestSize() {
<b class="fc">&nbsp;        return minForestSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxForestSize() {
<b class="fc">&nbsp;        return maxForestSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbHeavy() {
<b class="fc">&nbsp;        return probHeavy;</b>
&nbsp;    }
&nbsp;    
&nbsp;    public int getMinFoliageSpots() {
<b class="nc">&nbsp;        return minFoliageSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxFoliageSpots() {
<b class="nc">&nbsp;        return maxFoliageSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinFoliageSize() {
<b class="nc">&nbsp;        return minFoliageSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxFoliageSize() {
<b class="nc">&nbsp;        return maxFoliageSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbFoliageHeavy() {
<b class="nc">&nbsp;        return probFoliageHeavy;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinRoughSpots() {
<b class="fc">&nbsp;        return minRoughSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxRoughSpots() {
<b class="fc">&nbsp;        return maxRoughSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinRoughSize() {
<b class="fc">&nbsp;        return minRoughSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxRoughSize() {
<b class="fc">&nbsp;        return maxRoughSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinSandSpots() {
<b class="fc">&nbsp;        return minSandSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMinSandSpots(int minSandSpots) {
<b class="nc">&nbsp;        this.minSandSpots = minSandSpots;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMaxSandSpots() {
<b class="fc">&nbsp;        return maxSandSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMaxSandSpots(int maxSandSpots) {
<b class="nc">&nbsp;        this.maxSandSpots = maxSandSpots;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMinSandSize() {
<b class="fc">&nbsp;        return minSandSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMinSandSize(int minSandSize) {
<b class="nc">&nbsp;        this.minSandSize = minSandSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMaxSandSize() {
<b class="fc">&nbsp;        return maxSandSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMaxSandSize(int maxSandSize) {
<b class="nc">&nbsp;        this.maxSandSize = maxSandSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMinPlantedFieldSpots() {
<b class="fc">&nbsp;        return minPlantedFieldSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMinPlantedFieldSpots(int minPlantedFieldSpots) {
<b class="nc">&nbsp;        this.minPlantedFieldSpots = minPlantedFieldSpots;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMaxPlantedFieldSpots() {
<b class="fc">&nbsp;        return maxPlantedFieldSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMaxPlantedFieldSpots(int maxPlantedFieldSpots) {
<b class="nc">&nbsp;        this.maxPlantedFieldSpots = maxPlantedFieldSpots;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMinPlantedFieldSize() {
<b class="fc">&nbsp;        return minPlantedFieldSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMinPlantedFieldSize(int minPlantedFieldSize) {
<b class="nc">&nbsp;        this.minPlantedFieldSize = minPlantedFieldSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMaxPlantedFieldSize() {
<b class="fc">&nbsp;        return maxPlantedFieldSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void setMaxPlantedFieldSize(int maxPlantedFieldSize) {
<b class="nc">&nbsp;        this.maxPlantedFieldSize = maxPlantedFieldSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMinSwampSpots() {
<b class="fc">&nbsp;        return minSwampSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxSwampSpots() {
<b class="fc">&nbsp;        return maxSwampSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinSwampSize() {
<b class="fc">&nbsp;        return minSwampSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxSwampSize() {
<b class="fc">&nbsp;        return maxSwampSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinPavementSpots() {
<b class="fc">&nbsp;        return minPavementSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxPavementSpots() {
<b class="fc">&nbsp;        return maxPavementSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinPavementSize() {
<b class="fc">&nbsp;        return minPavementSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxPavementSize() {
<b class="fc">&nbsp;        return maxPavementSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinRubbleSpots() {
<b class="fc">&nbsp;        return minRubbleSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxRubbleSpots() {
<b class="fc">&nbsp;        return maxRubbleSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinRubbleSize() {
<b class="fc">&nbsp;        return minRubbleSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxRubbleSize() {
<b class="fc">&nbsp;        return maxRubbleSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinFortifiedSpots() {
<b class="fc">&nbsp;        return minFortifiedSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxFortifiedSpots() {
<b class="fc">&nbsp;        return maxFortifiedSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinFortifiedSize() {
<b class="fc">&nbsp;        return minFortifiedSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxFortifiedSize() {
<b class="fc">&nbsp;        return maxFortifiedSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinIceSpots() {
<b class="fc">&nbsp;        return minIceSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxIceSpots() {
<b class="fc">&nbsp;        return maxIceSpots;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinIceSize() {
<b class="fc">&nbsp;        return minIceSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxIceSize() {
<b class="fc">&nbsp;        return maxIceSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbRoad() {
<b class="fc">&nbsp;        return probRoad;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbRiver() {
<b class="fc">&nbsp;        return probRiver;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbCrater() {
<b class="fc">&nbsp;        return probCrater;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinRadius() {
<b class="fc">&nbsp;        return minRadius;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxRadius() {
<b class="fc">&nbsp;        return maxRadius;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMinCraters() {
<b class="fc">&nbsp;        return minCraters;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMaxCraters() {
<b class="fc">&nbsp;        return maxCraters;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getAlgorithmToUse() {
<b class="fc">&nbsp;        return algorithmToUse;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbFlood() {
<b class="fc">&nbsp;        return probFlood;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbForestFire() {
<b class="fc">&nbsp;        return probForestFire;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbFreeze() {
<b class="fc">&nbsp;        return probFreeze;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getProbDrought() {
<b class="fc">&nbsp;        return probDrought;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getFxMod() {
<b class="fc">&nbsp;        return fxMod;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getCityBlocks() {
<b class="fc">&nbsp;        return cityBlocks;</b>
&nbsp;    }
&nbsp;
&nbsp;    public String getCityType() {
<b class="fc">&nbsp;        return cityType;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getCityMinCF() {
<b class="fc">&nbsp;        return cityMinCF;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getCityMaxCF() {
<b class="fc">&nbsp;        return cityMaxCF;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getCityMinFloors() {
<b class="fc">&nbsp;        return cityMinFloors;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getCityMaxFloors() {
<b class="fc">&nbsp;        return cityMaxFloors;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getCityDensity() {
<b class="fc">&nbsp;        return cityDensity;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getTownSize() {
<b class="fc">&nbsp;        return townSize;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMountainHeightMin() {
<b class="fc">&nbsp;        return mountainHeightMin;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMountainHeightMax() {
<b class="fc">&nbsp;        return mountainHeightMax;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMountainPeaks() {
<b class="fc">&nbsp;        return mountainPeaks;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMountainStyle() {
<b class="fc">&nbsp;        return mountainStyle;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMountainWidthMin() {
<b class="fc">&nbsp;        return mountainWidthMin;</b>
&nbsp;    }
&nbsp;
&nbsp;    public int getMountainWidthMax() {
<b class="fc">&nbsp;        return mountainWidthMax;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setElevationParams(int hill, int newRange, int prob) {
<b class="nc">&nbsp;        hilliness = hill;</b>
<b class="nc">&nbsp;        range = newRange;</b>
<b class="nc">&nbsp;        probInvert = prob;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setWaterParams(int minSpots, int maxSpots, int minSize, int maxSize, int prob) {
<b class="nc">&nbsp;        minWaterSpots = minSpots;</b>
<b class="nc">&nbsp;        maxWaterSpots = maxSpots;</b>
<b class="nc">&nbsp;        minWaterSize = minSize;</b>
<b class="nc">&nbsp;        maxWaterSize = maxSize;</b>
<b class="nc">&nbsp;        probDeep = prob;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setForestParams(int minSpots, int maxSpots, int minSize, int maxSize, int prob) {
<b class="nc">&nbsp;        minForestSpots = minSpots;</b>
<b class="nc">&nbsp;        maxForestSpots = maxSpots;</b>
<b class="nc">&nbsp;        minForestSize = minSize;</b>
<b class="nc">&nbsp;        maxForestSize = maxSize;</b>
<b class="nc">&nbsp;        probHeavy = prob;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;    
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setFoliageParams(int minSpots, int maxSpots, int minSize, int maxSize, int prob) {
<b class="nc">&nbsp;        minFoliageSpots = minSpots;</b>
<b class="nc">&nbsp;        maxFoliageSpots = maxSpots;</b>
<b class="nc">&nbsp;        minFoliageSize = minSize;</b>
<b class="nc">&nbsp;        maxFoliageSize = maxSize;</b>
<b class="nc">&nbsp;        probFoliageHeavy = prob;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setRoughParams(int minSpots, int maxSpots, int minSize, int maxSize) {
<b class="nc">&nbsp;        minRoughSpots = minSpots;</b>
<b class="nc">&nbsp;        maxRoughSpots = maxSpots;</b>
<b class="nc">&nbsp;        minRoughSize = minSize;</b>
<b class="nc">&nbsp;        maxRoughSize = maxSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setSandParams(int minSpots, int maxSpots, int minSize, int maxSize) {
<b class="nc">&nbsp;        minSandSpots = minSpots;</b>
<b class="nc">&nbsp;        maxSandSpots = maxSpots;</b>
<b class="nc">&nbsp;        minSandSize = minSize;</b>
<b class="nc">&nbsp;        maxSandSize = maxSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setPlantedFieldParams(int minSpots, int maxSpots, int minSize, int maxSize) {
<b class="nc">&nbsp;        minPlantedFieldSpots = minSpots;</b>
<b class="nc">&nbsp;        maxPlantedFieldSpots = maxSpots;</b>
<b class="nc">&nbsp;        minPlantedFieldSize = minSize;</b>
<b class="nc">&nbsp;        maxPlantedFieldSize = maxSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setSwampParams(int minSpots, int maxSpots, int minSize, int maxSize) {
<b class="nc">&nbsp;        minSwampSpots = minSpots;</b>
<b class="nc">&nbsp;        maxSwampSpots = maxSpots;</b>
<b class="nc">&nbsp;        minSwampSize = minSize;</b>
<b class="nc">&nbsp;        maxSwampSize = maxSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setPavementParams(int minSpots, int maxSpots, int minSize, int maxSize) {
<b class="nc">&nbsp;        minPavementSpots = minSpots;</b>
<b class="nc">&nbsp;        maxPavementSpots = maxSpots;</b>
<b class="nc">&nbsp;        minPavementSize = minSize;</b>
<b class="nc">&nbsp;        maxPavementSize = maxSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setRubbleParams(int minSpots, int maxSpots, int minSize, int maxSize) {
<b class="nc">&nbsp;        minRubbleSpots = minSpots;</b>
<b class="nc">&nbsp;        maxRubbleSpots = maxSpots;</b>
<b class="nc">&nbsp;        minRubbleSize = minSize;</b>
<b class="nc">&nbsp;        maxRubbleSize = maxSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setFortifiedParams(int minSpots, int maxSpots, int minSize, int maxSize) {
<b class="nc">&nbsp;        minFortifiedSpots = minSpots;</b>
<b class="nc">&nbsp;        maxFortifiedSpots = maxSpots;</b>
<b class="nc">&nbsp;        minFortifiedSize = minSize;</b>
<b class="nc">&nbsp;        maxFortifiedSize = maxSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setIceParams(int minSpots, int maxSpots, int minSize, int maxSize) {
<b class="nc">&nbsp;        minIceSpots = minSpots;</b>
<b class="nc">&nbsp;        maxIceSpots = maxSpots;</b>
<b class="nc">&nbsp;        minIceSize = minSize;</b>
<b class="nc">&nbsp;        maxIceSize = maxSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setRiverParam(int prob) {
<b class="nc">&nbsp;        probRiver = prob;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setRoadParam(int prob) {
<b class="nc">&nbsp;        probRoad = prob;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setCliffParam(int prob) {
<b class="nc">&nbsp;        cliffs = prob;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setCraterParam(int prob, int minCrat, int maxCrat, int minRad, int maxRad) {
&nbsp;
<b class="nc">&nbsp;        probCrater = prob;</b>
<b class="nc">&nbsp;        maxCraters = maxCrat;</b>
<b class="nc">&nbsp;        minCraters = minCrat;</b>
<b class="nc">&nbsp;        minRadius = minRad;</b>
<b class="nc">&nbsp;        maxRadius = maxRad;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set the Parameters for the Map Generator
&nbsp;     */
&nbsp;    public void setInvertNegativeTerrain(int invert) {
<b class="nc">&nbsp;        invertNegativeTerrain = invert;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    /**
&nbsp;     * set Map generator parameters
&nbsp;     */
&nbsp;    public void setSpecialFX(int modifier, int fire, int freeze, int flood, int drought) {
<b class="nc">&nbsp;        fxMod = modifier;</b>
<b class="nc">&nbsp;        probForestFire = fire;</b>
<b class="nc">&nbsp;        probFreeze = freeze;</b>
<b class="nc">&nbsp;        probFlood = flood;</b>
<b class="nc">&nbsp;        probDrought = drought;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void setAlgorithmToUse(int alg) {
<b class="nc">&nbsp;        algorithmToUse = alg;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void setCityParams(int cityBlocks, String cityType, int cityMinCF, int cityMaxCF, int cityMinFloors,
&nbsp;            int cityMaxFloors, int cityDensity, int townSize) {
<b class="nc">&nbsp;        this.cityBlocks = cityBlocks;</b>
<b class="nc">&nbsp;        this.cityType = cityType;</b>
<b class="nc">&nbsp;        this.cityMinCF = cityMinCF;</b>
<b class="nc">&nbsp;        this.cityMaxCF = cityMaxCF;</b>
<b class="nc">&nbsp;        this.cityMinFloors = cityMinFloors;</b>
<b class="nc">&nbsp;        this.cityMaxFloors = cityMaxFloors;</b>
<b class="nc">&nbsp;        this.cityDensity = cityDensity;</b>
<b class="nc">&nbsp;        this.townSize = townSize;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void setMountainParams(int mountainPeaks, int mountainWidthMin, int mountainWidthMax, int mountainHeightMin,
&nbsp;            int mountainHeightMax, int mountainStyle) {
<b class="nc">&nbsp;        this.mountainHeightMax = mountainHeightMax;</b>
<b class="nc">&nbsp;        this.mountainHeightMin = mountainHeightMin;</b>
<b class="nc">&nbsp;        this.mountainWidthMin = mountainWidthMin;</b>
<b class="nc">&nbsp;        this.mountainWidthMax = mountainWidthMax;</b>
<b class="nc">&nbsp;        this.mountainPeaks = mountainPeaks;</b>
<b class="nc">&nbsp;        this.mountainStyle = mountainStyle;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public void setMedium(int m) {
<b class="nc">&nbsp;        medium = m;</b>
<b class="nc">&nbsp;    }</b>
&nbsp;
&nbsp;    public int getMedium() {
<b class="nc">&nbsp;        return medium;</b>
&nbsp;    }
&nbsp;
&nbsp;    public static String getMediumName(int m) {
<b class="nc">&nbsp;        return mediumNames[m];</b>
&nbsp;    }
&nbsp;
&nbsp;    // note the format is intended to be interoperable with mekwars&#39; existing
&nbsp;    // terrain.xml format
&nbsp;    public void save(final OutputStream os) {
&nbsp;        try {
<b class="fc">&nbsp;            JAXBContext jc = JAXBContext.newInstance(MapSettings.class);</b>
&nbsp;
<b class="fc">&nbsp;            Marshaller marshaller = jc.createMarshaller();</b>
<b class="fc">&nbsp;            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);</b>
&nbsp;
&nbsp;            // The default header has the encoding and standalone properties
<b class="fc">&nbsp;            marshaller.setProperty(Marshaller.JAXB_FRAGMENT, true);</b>
&nbsp;            try {
<b class="fc">&nbsp;            	marshaller.setProperty(&quot;com.sun.xml.internal.bind.xmlHeaders&quot;, &quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;&quot;);</b>
<b class="fc">&nbsp;            } catch (PropertyException ex) {</b>
<b class="fc">&nbsp;            	marshaller.setProperty(&quot;com.sun.xml.bind.xmlHeaders&quot;, &quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;&quot;);</b>
<b class="nc">&nbsp;            }</b>
&nbsp;
<b class="fc">&nbsp;            JAXBElement&lt;MapSettings&gt; element = new JAXBElement&lt;&gt;(new QName(&quot;ENVIRONMENT&quot;), MapSettings.class, this);</b>
&nbsp;
<b class="fc">&nbsp;            marshaller.marshal(element, os);</b>
<b class="nc">&nbsp;        } catch (JAXBException ex) {</b>
<b class="nc">&nbsp;            System.err.println(&quot;Error writing XML for map settings: &quot; + ex.getMessage()); //$NON-NLS-1$</b>
<b class="nc">&nbsp;            ex.printStackTrace();</b>
<b class="fc">&nbsp;        }</b>
<b class="fc">&nbsp;    }</b>
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2023-05-16 16:28</div>
</div>
</body>
</html>
